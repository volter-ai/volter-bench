Role: system
Content: You are an expert software developer. Your job is to make an existing simple UI look like the UI from an advanced video game
__________________
Role: user
Content: The existing codebase of the project is as follows:
```js src/Game.js
import React, { useRef, useState, useEffect } from 'react';
import { Settings } from 'lucide-react';
import { GameLogic } from './game/gameLogic';
import GameUI from './ui/GameUI';
import DebugUI from './ui/DebugUI';

const FRAME_RATE = 30;
const FRAME_INTERVAL = 1000 / FRAME_RATE;

const Game = () => {
  const containerRef = useRef(null);
  const gameRef = useRef(null);
  const [showDebugUI, setShowDebugUI] = useState(false);
  const [, setFrame] = useState(0);

  useEffect(() => {
    if (!containerRef.current) return;

    const game = new GameLogic(containerRef.current);
    window.game = game;
    gameRef.current = game;

    let lastTime = Date.now();
    let intervalId;
    const update = (currentTime) => {
      const deltaTime = (currentTime - lastTime) / 1000;
      lastTime = currentTime;

      // Force a re-render by updating the frame state
      setFrame(prevFrame => prevFrame + 1);
    };

    intervalId = setInterval(() => {
      update(Date.now());
    }, FRAME_INTERVAL);

    return () => {
      clearInterval(intervalId);
      if (gameRef.current) {
        gameRef.current.destroy();
        gameRef.current = null;
      }
      gameRef.current = null;
    };
  }, []);

  return (
    <div style={{
      position: 'relative',
      width: '800px',
      height: '600px',
      overflow: 'hidden'
    }}>
      <div ref={containerRef} style={{
        position: 'absolute',
        top: 0,
        left: 0,
        width: '100%',
        height: '100%'
      }} />
      {gameRef.current && (
        <>
          <GameUI gameRef={gameRef} />
          {showDebugUI && <DebugUI gameRef={gameRef} />}
        </>
      )}
      <Settings
        onClick={() => setShowDebugUI(!showDebugUI)}
        style={{
          position: 'absolute',
          bottom: '10px',
          right: '10px',
          width: '24px',
          height: '24px',
          cursor: 'pointer',
          color: 'white'
        }}
      />
    </div>
  );
};

export default Game;
```
```js src/game/gameLogic.js
import * as PIXI from 'pixi.js';
import { INITIAL_VALUES, UPGRADE_COSTS, POSITIONS } from './gameData';
import { SPRITES } from './assetManifest';
import { loadAssets } from './utils';

const SCREEN_SIZE = {
  width: 800,
  height: 600
};

export class GameLogic {
  constructor(container) {
    this.app = new PIXI.Application({
      width: SCREEN_SIZE.width,
      height: SCREEN_SIZE.height,
      backgroundColor: 0x222C37,
    });

    container.appendChild(this.app.view);

    this.ready = false;
    this.money = 0;
    this.baristaCount = INITIAL_VALUES.BARISTA_COUNT;
    this.machineCount = INITIAL_VALUES.MACHINE_COUNT;
    this.baristaSpeed = INITIAL_VALUES.BARISTA_SPEED;
    this.maxCustomers = INITIAL_VALUES.MAX_CUSTOMERS;
    this.coffeeQuality = INITIAL_VALUES.COFFEE_QUALITY;
    
    this.customerSpawnTimer = 0;
    this.lastTimestamp = performance.now();

    this.upgradeCosts = {
      barista: UPGRADE_COSTS.BARISTA,
      machine: UPGRADE_COSTS.MACHINE,
      speed: UPGRADE_COSTS.SPEED,
      space: UPGRADE_COSTS.SPACE,
      quality: UPGRADE_COSTS.QUALITY
    };

    loadAssets(SPRITES, () => {
      if (!this.app.stage) return;
      this.createGameObjects();
      this.app.ticker.add(this.gameLoop.bind(this));
      this.ready = true;
    });
  }

  createGameObjects() {
    this.background = this.getSprite(SPRITES.background);
    this.customers = new PIXI.Container();
    this.baristas = new PIXI.Container();
    this.machines = new PIXI.Container();

    this.app.stage.addChild(this.background);
    this.app.stage.addChild(this.customers);
    this.app.stage.addChild(this.baristas);
    this.app.stage.addChild(this.machines);

    // Create initial baristas and machines
    for (let i = 0; i < this.baristaCount; i++) {
      this.createBarista();
    }
    for (let i = 0; i < this.machineCount; i++) {
      this.createMachine(i);
    }
  }

  createCustomer() {
    const customer = this.getSprite(SPRITES.customer);
    customer.anchor.set(0.5);
    customer.x = POSITIONS.ENTRANCE.x;
    customer.y = POSITIONS.ENTRANCE.y;
    customer.state = 'moving_to_counter';
    customer.waitTime = 0;
    this.customers.addChild(customer);
  }

  createBarista() {
    const barista = this.getSprite(SPRITES.barista);
    barista.anchor.set(0.5);
    barista.x = POSITIONS.COUNTER.x;
    barista.y = POSITIONS.COUNTER.y;
    barista.state = 'idle';
    barista.targetMachine = null;
    barista.targetCustomer = null;
    this.baristas.addChild(barista);
  }

  createMachine(index) {
    const machine = this.getSprite(SPRITES.machine);
    machine.anchor.set(0.5);
    machine.x = POSITIONS.MACHINE_START.x + (index * POSITIONS.MACHINE_SPACING);
    machine.y = POSITIONS.MACHINE_START.y;
    machine.inUse = false;
    this.machines.addChild(machine);
  }

  gameLoop(delta) {
    const currentTime = performance.now();
    const elapsedSecs = (currentTime - this.lastTimestamp) / 1000;
    this.lastTimestamp = currentTime;

    this.customerSpawnTimer += elapsedSecs;
    if (this.customerSpawnTimer >= INITIAL_VALUES.CUSTOMER_SPAWN_TIME && 
        this.customers.children.length < this.maxCustomers) {
      this.createCustomer();
      this.customerSpawnTimer = 0;
    }

    this.updateCustomers(elapsedSecs);
    this.updateBaristas(elapsedSecs);
  }

  updateCustomers(elapsedSecs) {
    this.customers.children.forEach(customer => {
      if (customer.state === 'moving_to_counter') {
        const dx = POSITIONS.COUNTER.x - customer.x;
        const dy = POSITIONS.COUNTER.y - customer.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance > 5) {
          customer.x += (dx / distance) * INITIAL_VALUES.BARISTA_SPEED * elapsedSecs;
          customer.y += (dy / distance) * INITIAL_VALUES.BARISTA_SPEED * elapsedSecs;
        } else {
          customer.state = 'waiting';
        }
      } else if (customer.state === 'leaving') {
        const dx = POSITIONS.EXIT.x - customer.x;
        const dy = POSITIONS.EXIT.y - customer.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance > 5) {
          customer.x += (dx / distance) * INITIAL_VALUES.BARISTA_SPEED * elapsedSecs;
          customer.y += (dy / distance) * INITIAL_VALUES.BARISTA_SPEED * elapsedSecs;
        } else {
          this.customers.removeChild(customer);
        }
      } else if (customer.state === 'waiting') {
        customer.waitTime += elapsedSecs;
        if (customer.waitTime >= INITIAL_VALUES.CUSTOMER_PATIENCE) {
          customer.state = 'leaving';
        }
      }
    });
  }

  updateBaristas(elapsedSecs) {
    this.baristas.children.forEach(barista => {
      if (barista.state === 'idle') {
        const waitingCustomer = this.customers.children.find(c => c.state === 'waiting' && !c.beingServed);
        const freeMachine = this.machines.children.find(m => !m.inUse);
        
        if (waitingCustomer && freeMachine) {
          barista.state = 'moving_to_machine';
          barista.targetMachine = freeMachine;
          barista.targetCustomer = waitingCustomer;
          waitingCustomer.beingServed = true;
          freeMachine.inUse = true;
        }
      } else if (barista.state === 'moving_to_machine') {
        const dx = barista.targetMachine.x - barista.x;
        const dy = barista.targetMachine.y - barista.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance > 5) {
          barista.x += (dx / distance) * this.baristaSpeed * elapsedSecs;
          barista.y += (dy / distance) * this.baristaSpeed * elapsedSecs;
        } else {
          barista.state = 'preparing';
          barista.prepTime = 0;
        }
      } else if (barista.state === 'preparing') {
        barista.prepTime += elapsedSecs;
        if (barista.prepTime >= INITIAL_VALUES.COFFEE_PREP_TIME) {
          barista.state = 'serving';
        }
      } else if (barista.state === 'serving') {
        const dx = POSITIONS.COUNTER.x - barista.x;
        const dy = POSITIONS.COUNTER.y - barista.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance > 5) {
          barista.x += (dx / distance) * this.baristaSpeed * elapsedSecs;
          barista.y += (dy / distance) * this.baristaSpeed * elapsedSecs;
        } else {
          this.money += INITIAL_VALUES.BASE_COFFEE_PRICE * this.coffeeQuality;
          barista.targetMachine.inUse = false;
          barista.targetCustomer.state = 'leaving';
          barista.state = 'idle';
          barista.targetMachine = null;
          barista.targetCustomer = null;
        }
      }
    });
  }

  upgradeBaristas() {
    if (this.money >= this.upgradeCosts.barista) {
      this.money -= this.upgradeCosts.barista;
      this.createBarista();
      this.baristaCount++;
      this.upgradeCosts.barista *= 2;
    }
  }

  upgradeMachines() {
    if (this.money >= this.upgradeCosts.machine) {
      this.money -= this.upgradeCosts.machine;
      this.createMachine(this.machineCount);
      this.machineCount++;
      this.upgradeCosts.machine *= 2;
    }
  }

  upgradeSpeed() {
    if (this.money >= this.upgradeCosts.speed) {
      this.money -= this.upgradeCosts.speed;
      this.baristaSpeed *= 1.2;
      this.upgradeCosts.speed *= 2;
    }
  }

  upgradeSpace() {
    if (this.money >= this.upgradeCosts.space) {
      this.money -= this.upgradeCosts.space;
      this.maxCustomers += 2;
      this.upgradeCosts.space *= 2;
    }
  }

  upgradeQuality() {
    if (this.money >= this.upgradeCosts.quality) {
      this.money -= this.upgradeCosts.quality;
      this.coffeeQuality *= 1.2;
      this.upgradeCosts.quality *= 2;
    }
  }

  getSprite(spriteConfig) {
    const texture = PIXI.Texture.from(spriteConfig.path);
    const sprite = new PIXI.Sprite(texture);
    sprite.width = spriteConfig.width;
    sprite.height = spriteConfig.height;
    return sprite;
  }

  destroy() {
    this.app.destroy(true);
  }
}

```
```js src/game/gameData.js
export const INITIAL_VALUES = {
  BARISTA_COUNT: 1,
  MACHINE_COUNT: 1,
  BARISTA_SPEED: 150, // Increased from 100
  MAX_CUSTOMERS: 5,
  COFFEE_QUALITY: 1,
  COFFEE_PREP_TIME: 2, // Reduced from 3
  CUSTOMER_SPAWN_TIME: 1, // Reduced from 2
  CUSTOMER_PATIENCE: 20, // seconds
  BASE_COFFEE_PRICE: 8,
};

export const UPGRADE_COSTS = {
  BARISTA: 12,  // Reduced from 15
  MACHINE: 15,  // Reduced from 20
  SPEED: 12,    // Reduced from 15
  SPACE: 20,    // Reduced from 25
  QUALITY: 15,  // Reduced from 20
};

export const POSITIONS = {
  ENTRANCE: { x: 50, y: 500 },
  COUNTER: { x: 300, y: 300 },
  EXIT: { x: 750, y: 500 },
  MACHINE_START: { x: 500, y: 100 },
  MACHINE_SPACING: 100,
};

```
```js src/game/assetManifest.js
export const SPRITES = {
  background: {
    path: 'assets/coffee_shop.png',
    width: 800,
    height: 600
  },
  customer: {
    path: 'assets/customer.png',
    width: 64,
    height: 64
  },
  barista: {
    path: 'assets/barista.png',
    width: 64,
    height: 64
  },
  machine: {
    path: 'assets/coffee_machine.png',
    width: 64,
    height: 64
  }
};

```
```js src/ui/GameUI.js
import React, { useState, useEffect } from 'react';

const Button = ({ onClick, children, cost }) => (
  <button onClick={onClick} style={{
    margin: '5px',
    padding: '5px 10px',
    fontSize: '14px',
    color: '#d3d3d3',
    border: 'none',
    cursor: 'pointer',
    backgroundColor: '#7C45CB',
  }}>
    {children} (${cost})
  </button>
);

const HUD = ({ game }) => (
  <div style={{ position: 'absolute', top: 0, left: 0, right: 0, padding: '10px', backgroundColor: 'rgba(0,0,0,0.5)', color: '#d3d3d3' }}>
    <p>Money: ${Math.floor(game.money)} | 
       Customers: {game.customers ? game.customers.children.length : 0}/{game.maxCustomers} | 
       Baristas: {game.baristaCount} | 
       Machines: {game.machineCount}</p>
  </div>
);

const GameUI = ({ gameRef }) => {
  const [, forceUpdate] = useState();
  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current || !gameRef.current.ready) return null;

  const game = gameRef.current;

  return (
    <div style={{ width: '100%', height: '100%', color: '#d3d3d3' }}>
      <HUD game={game} />
      <div style={{ position: 'absolute', bottom: '10px', left: '10px', right: '10px', textAlign: 'center' }}>
        <Button onClick={() => game.upgradeBaristas()} cost={game.upgradeCosts.barista}>Hire Barista</Button>
        <Button onClick={() => game.upgradeMachines()} cost={game.upgradeCosts.machine}>Add Machine</Button>
        <Button onClick={() => game.upgradeSpeed()} cost={game.upgradeCosts.speed}>Faster Baristas</Button>
        <Button onClick={() => game.upgradeSpace()} cost={game.upgradeCosts.space}>Larger Shop</Button>
        <Button onClick={() => game.upgradeQuality()} cost={game.upgradeCosts.quality}>Better Coffee</Button>
      </div>
    </div>
  );
};

export default GameUI;

```
```js src/game/fontManifest.js
export const FONTS = [
  'Press Start 2P',
  'Roboto:400,700',
  'Orbitron:400,700',
]
```

Only make changes to the GameUI or fontManifest file. Don't change anything about the logic or functionality but make the UI look much better and make it feel like a very well implemented game. You can add multilayered menu interactions.


Make sure that only the essential data (such as currency) is shown in the hud and the other stats are hidden in a stats modal

Upgrades should be in modals and submenus instead of being directly on the screen


Make sure that the theme of your UI matches with the theme of the game

Make sure all modals can be opened and closed

General Implementation Guidelines:
1. Write out all the code of the files you intend to edit. I will be copy-pasting them
2. Do not create new files, add to the existing files in the appropriate locations
3. Do not do any refactoring outside of what you are requested to do

Directions:
In your response, do both steps, one after the other
1. First think carefully and describe in detail how you will implement the game design. Make sure to follow all the guidelines
2. Then write each file, according to the plan

Write out all the files in the format:
```filetype filepath
content
```

MOST IMPORTANT: Do not write "existing code here" or similar placeholders. If a file has been edited in anyway,
EVERY original unchanged line must be rewritten in your output
__________________
Role: assistant
Content: Let me plan out the UI improvements first:

1. **Theme and Style**
- Implement a coffee shop/café aesthetic with warm colors and wood textures
- Use a retro-modern style that fits a management game
- Primary font: 'Orbitron' for headers, 'Roboto' for body text
- Color scheme: Warm browns, creams, and subtle purples

2. **HUD Design**
- Minimal HUD showing only money and a few essential stats
- Add animated notifications for important events
- Include small icons next to values

3. **Modal System**
- Main modal component with different content types
- Stats Modal: Detailed business statistics
- Upgrade Modal: Categorized upgrades (Staff, Equipment, Business)
- Smooth transitions and overlays

4. **Menu Structure**
- Main buttons: Stats, Upgrades, Settings
- Upgrade categories with subcategories
- Tooltips for all interactive elements

Now, I'll implement these changes in the files:

```javascript src/ui/GameUI.js
import React, { useState, useEffect } from 'react';
import { Coffee, Users, Settings, TrendingUp, Package, Award } from 'lucide-react';

const Modal = ({ isOpen, onClose, title, children }) => {
  if (!isOpen) return null;
  
  return (
    <div style={{
      position: 'fixed',
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      backgroundColor: 'rgba(0,0,0,0.7)',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      zIndex: 1000
    }}>
      <div style={{
        backgroundColor: '#2A1810',
        padding: '20px',
        borderRadius: '10px',
        minWidth: '300px',
        maxWidth: '500px',
        border: '2px solid #8B4513',
        boxShadow: '0 0 20px rgba(0,0,0,0.5)'
      }}>
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          marginBottom: '20px'
        }}>
          <h2 style={{ 
            margin: 0,
            fontFamily: 'Orbitron',
            color: '#D2691E'
          }}>{title}</h2>
          <button onClick={onClose} style={{
            background: 'none',
            border: 'none',
            color: '#D2691E',
            fontSize: '20px',
            cursor: 'pointer'
          }}>×</button>
        </div>
        {children}
      </div>
    </div>
  );
};

const Button = ({ onClick, children, cost, disabled }) => (
  <button 
    onClick={onClick}
    disabled={disabled}
    style={{
      margin: '5px',
      padding: '10px 15px',
      fontSize: '14px',
      color: disabled ? '#666' : '#FFF8DC',
      border: 'none',
      cursor: disabled ? 'not-allowed' : 'pointer',
      backgroundColor: disabled ? '#4A3228' : '#8B4513',
      borderRadius: '5px',
      fontFamily: 'Roboto',
      transition: 'all 0.2s',
      display: 'flex',
      alignItems: 'center',
      gap: '10px',
      width: '100%'
    }}>
    {children} {cost && <span style={{marginLeft: 'auto'}}>${cost}</span>}
  </button>
);

const MenuButton = ({ onClick, children, icon: Icon }) => (
  <button
    onClick={onClick}
    style={{
      padding: '10px',
      backgroundColor: '#2A1810',
      border: '2px solid #8B4513',
      borderRadius: '5px',
      color: '#D2691E',
      cursor: 'pointer',
      display: 'flex',
      alignItems: 'center',
      gap: '5px',
      margin: '0 5px'
    }}>
    <Icon size={16} />
    {children}
  </button>
);

const HUD = ({ game }) => (
  <div style={{
    position: 'absolute',
    top: '10px',
    left: '10px',
    padding: '10px 20px',
    backgroundColor: 'rgba(42, 24, 16, 0.9)',
    color: '#D2691E',
    borderRadius: '5px',
    fontFamily: 'Orbitron',
    display: 'flex',
    gap: '20px',
    alignItems: 'center'
  }}>
    <Coffee size={20} />
    <span>${Math.floor(game.money)}</span>
    <Users size={20} />
    <span>{game.customers ? game.customers.children.length : 0}/{game.maxCustomers}</span>
  </div>
);

const GameUI = ({ gameRef }) => {
  const [, forceUpdate] = useState();
  const [showStats, setShowStats] = useState(false);
  const [showUpgrades, setShowUpgrades] = useState(false);
  const [upgradeCategory, setUpgradeCategory] = useState(null);

  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current || !gameRef.current.ready) return null;

  const game = gameRef.current;

  const renderUpgradeCategory = () => {
    switch (upgradeCategory) {
      case 'staff':
        return (
          <div>
            <h3 style={{color: '#D2691E', fontFamily: 'Orbitron'}}>Staff Management</h3>
            <Button onClick={() => game.upgradeBaristas()} cost={game.upgradeCosts.barista}>
              <Users size={16} /> Hire Barista
            </Button>
            <Button onClick={() => game.upgradeSpeed()} cost={game.upgradeCosts.speed}>
              <TrendingUp size={16} /> Train Baristas
            </Button>
          </div>
        );
      case 'equipment':
        return (
          <div>
            <h3 style={{color: '#D2691E', fontFamily: 'Orbitron'}}>Equipment</h3>
            <Button onClick={() => game.upgradeMachines()} cost={game.upgradeCosts.machine}>
              <Coffee size={16} /> New Machine
            </Button>
            <Button onClick={() => game.upgradeQuality()} cost={game.upgradeCosts.quality}>
              <Award size={16} /> Better Coffee
            </Button>
          </div>
        );
      case 'business':
        return (
          <div>
            <h3 style={{color: '#D2691E', fontFamily: 'Orbitron'}}>Business</h3>
            <Button onClick={() => game.upgradeSpace()} cost={game.upgradeCosts.space}>
              <Package size={16} /> Expand Shop
            </Button>
          </div>
        );
      default:
        return (
          <div style={{display: 'flex', flexDirection: 'column', gap: '10px'}}>
            <Button onClick={() => setUpgradeCategory('staff')}>Staff Management</Button>
            <Button onClick={() => setUpgradeCategory('equipment')}>Equipment</Button>
            <Button onClick={() => setUpgradeCategory('business')}>Business</Button>
          </div>
        );
    }
  };

  return (
    <div style={{ width: '100%', height: '100%', color: '#D2691E' }}>
      <HUD game={game} />
      
      <div style={{
        position: 'absolute',
        bottom: '10px',
        left: '10px',
        display: 'flex',
        gap: '10px'
      }}>
        <MenuButton onClick={() => setShowStats(true)} icon={TrendingUp}>
          Stats
        </MenuButton>
        <MenuButton onClick={() => {
          setShowUpgrades(true);
          setUpgradeCategory(null);
        }} icon={Coffee}>
          Upgrades
        </MenuButton>
      </div>

      <Modal
        isOpen={showStats}
        onClose={() => setShowStats(false)}
        title="Business Statistics"
      >
        <div style={{color: '#D2691E', fontFamily: 'Roboto'}}>
          <p>Baristas: {game.baristaCount}</p>
          <p>Machines: {game.machineCount}</p>
          <p>Shop Capacity: {game.maxCustomers}</p>
          <p>Coffee Quality: {Math.floor(game.coffeeQuality * 100)}%</p>
          <p>Service Speed: {Math.floor(game.baristaSpeed)}%</p>
        </div>
      </Modal>

      <Modal
        isOpen={showUpgrades}
        onClose={() => {
          setShowUpgrades(false);
          setUpgradeCategory(null);
        }}
        title={upgradeCategory ? 'Upgrades' : 'Select Category'}
      >
        {renderUpgradeCategory()}
      </Modal>
    </div>
  );
};

export default GameUI;
```

```javascript src/game/fontManifest.js
export const FONTS = [
  'Orbitron:400,700',
  'Roboto:400,700'
];
```

These changes implement a coffee shop themed UI with modals, proper categorization of upgrades, and a clean HUD. The color scheme uses warm browns and wood tones to match a coffee shop aesthetic, while maintaining good readability and user experience.
__________________
