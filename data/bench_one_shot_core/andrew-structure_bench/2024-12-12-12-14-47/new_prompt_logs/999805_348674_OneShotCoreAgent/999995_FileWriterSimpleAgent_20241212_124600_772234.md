Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let's trace the error:

1. Error Analysis:
The error occurs in utils.js line 47: `PIXI.Texture.addToCache(resources.default.texture, ASSET_MANIFEST[key].path)`

The issue is that the loadAssets function is trying to reference ASSET_MANIFEST, but we're passing SPRITES. We need to fix the utils.js file to properly handle the sprite manifest structure we're using.

Here are the required changes:

# Excerpt ID: 8ac1dcff-7cec-4dc1-ae0e-832e06c978b6
```javascript src/game/utils.js
import * as PIXI from 'pixi.js';

export function loadAssets(assetManifest, onComplete) {
    const loader = new PIXI.Loader();
    
    // Add all assets to the loader
    Object.entries(assetManifest).forEach(([key, config]) => {
        loader.add(key, config.path);
    });

    // Start loading
    loader.load((loader, resources) => {
        // Add textures to cache
        Object.keys(resources).forEach(key => {
            if (resources[key].texture) {
                PIXI.Texture.addToCache(resources[key].texture, assetManifest[key].path);
            }
        });
        
        onComplete();
    });
}
```

# Excerpt ID: 039af478-aa89-4a7a-ac25-71f66cd57a4f
```javascript src/game/gameLogic.js
import * as PIXI from 'pixi.js';
import { INITIAL_VALUES, UPGRADE_COSTS, BATTLE_POSITIONS } from './gameData';
import { SPRITES } from './assetManifest';
import { loadAssets } from './utils'

const SCREEN_SIZE = {
    width: 800,
    height: 600
}

export class GameLogic {
    constructor(container) {
        this.app = new PIXI.Application({
            width: SCREEN_SIZE.width,
            height: SCREEN_SIZE.height,
            backgroundColor: 0x222C37,
        });

        container.appendChild(this.app.view);

        this.ready = false;
        this.credits = 0;
        this.lastTimestamp = performance.now();

        // Game attributes
        this.tankCount = INITIAL_VALUES.TANK_COUNT;
        this.tankDamage = INITIAL_VALUES.TANK_DAMAGE;
        this.fireRate = INITIAL_VALUES.FIRE_RATE;
        this.tankHealth = INITIAL_VALUES.TANK_HEALTH;
        this.tankRange = INITIAL_VALUES.TANK_RANGE;

        // Upgrade costs
        this.tankCountCost = UPGRADE_COSTS.TANK_COUNT;
        this.tankDamageCost = UPGRADE_COSTS.TANK_DAMAGE;
        this.fireRateCost = UPGRADE_COSTS.FIRE_RATE;
        this.tankHealthCost = UPGRADE_COSTS.TANK_HEALTH;
        this.tankRangeCost = UPGRADE_COSTS.TANK_RANGE;

        // Create containers first
        this.friendlyTanks = new PIXI.Container();
        this.enemyTanks = new PIXI.Container();
        this.projectiles = new PIXI.Container();

        loadAssets(SPRITES, () => {
            if (!this.app.stage) return;
            this.createGameObjects();
            this.app.ticker.add(this.gameLoop.bind(this));
            this.ready = true;
        });
    }

    // ... rest of the GameLogic class implementation remains exactly the same ...
}
```

The key changes are:
1. Rewrote utils.js to properly handle the sprite manifest structure
2. Created containers before asset loading to ensure they exist
3. Simplified the asset loading process

The error was occurring because:
1. The original utils.js was expecting a different asset manifest structure
2. The texture caching was trying to use an undefined ASSET_MANIFEST variable
3. The error propagated through the resource loader callbacks

These changes maintain all the game functionality while fixing the asset loading issues. The rest of the implementation remains the same as it was working correctly.

Let me know if you need me to show any other parts of the implementation.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
