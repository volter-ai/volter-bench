Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
1. Error Analysis:
The error "Cannot read properties of undefined (reading 'path')" is occurring in getSprite(). Let's trace:

# Excerpt ID: 7b2403c8-2e49-4a80-a64f-2a9bae999688
```javascript
// In gameLogic.js
loadAssets(SPRITES, () => {
  if (!this.app.stage) return;
  this.createGameObjects();  // Called after assets load
  this.app.ticker.add(this.gameLoop.bind(this));
  this.ready = true;
});

// Later...
getSprite(spriteConfig) {
  const texture = PIXI.Texture.from(spriteConfig.path); // Error here
  const sprite = new PIXI.Sprite(texture);
  sprite.width = spriteConfig.width;
  sprite.height = spriteConfig.height;
  return sprite;
}
```

The real issue is that we're not properly loading the textures before using them. We need to preload the textures using PIXI.Loader. Let's modify the code to use PIXI's loader properly:

2. Here are the corrected files:

# Excerpt ID: 388dc1b9-0ed8-4a4f-ba8c-1776ecd30aa3
```js src/game/gameLogic.js
import * as PIXI from 'pixi.js';
import { INITIAL_VALUES, UPGRADE_COSTS, SHIP_SPEED } from './gameData';
import { SPRITES } from './assetManifest';

const SCREEN_SIZE = {
  width: 800,
  height: 600
}

const SHIP_STATES = {
  IDLE: 'IDLE',
  MOVING_TO_ASTEROID: 'MOVING_TO_ASTEROID',
  MINING: 'MINING',
  RETURNING: 'RETURNING'
};

export class GameLogic {
  constructor(container) {
    this.app = new PIXI.Application({
      width: SCREEN_SIZE.width,
      height: SCREEN_SIZE.height,
      backgroundColor: 0x222C37,
    });

    container.appendChild(this.app.view);

    this.ready = false;
    this.crystals = 0;
    this.lastTimestamp = performance.now();
    
    // Game attributes
    this.miningShips = INITIAL_VALUES.MINING_SHIPS;
    this.miningSpeed = INITIAL_VALUES.MINING_SPEED;
    this.cargoCapacity = INITIAL_VALUES.CARGO_CAPACITY;
    this.maxAsteroids = INITIAL_VALUES.MAX_ASTEROIDS;
    this.crystalDensity = INITIAL_VALUES.CRYSTAL_DENSITY;

    // Upgrade costs
    this.miningShipsCost = UPGRADE_COSTS.MINING_SHIPS;
    this.miningSpeedCost = UPGRADE_COSTS.MINING_SPEED;
    this.cargoCapacityCost = UPGRADE_COSTS.CARGO_CAPACITY;
    this.maxAsteroidsCost = UPGRADE_COSTS.MAX_ASTEROIDS;
    this.crystalDensityCost = UPGRADE_COSTS.CRYSTAL_DENSITY;

    // Initialize containers
    this.ships = new PIXI.Container();
    this.asteroids = new PIXI.Container();
    this.app.stage.addChild(this.ships);
    this.app.stage.addChild(this.asteroids);

    // Load assets
    const loader = new PIXI.Loader();
    Object.entries(SPRITES).forEach(([key, sprite]) => {
      loader.add(key, sprite.path);
    });

    loader.load(() => {
      this.createGameObjects();
      this.app.ticker.add(this.gameLoop.bind(this));
      this.ready = true;
    });
  }

  getSprite(spriteConfig) {
    const sprite = new PIXI.Sprite(PIXI.Loader.shared.resources[spriteConfig.name].texture);
    sprite.width = spriteConfig.width;
    sprite.height = spriteConfig.height;
    return sprite;
  }

  createGameObjects() {
    this.background = this.getSprite(SPRITES.background);
    
    // Create station at center
    this.station = this.getSprite(SPRITES.station);
    this.station.anchor.set(0.5);
    this.station.x = SCREEN_SIZE.width / 2;
    this.station.y = SCREEN_SIZE.height / 2;

    // Create initial ships
    for (let i = 0; i < this.miningShips; i++) {
      this.createShip();
    }

    // Create initial asteroids
    this.asteroidSpawnPoints = this.generateAsteroidSpawnPoints();
    for (let i = 0; i < this.maxAsteroids; i++) {
      this.createAsteroid();
    }

    this.app.stage.addChild(this.background);
    this.app.stage.addChild(this.station);
  }

  // ... rest of the file remains exactly the same ...
}
```

# Excerpt ID: 8f51f5bd-2611-487e-891e-6a02147eb61c
```js src/game/assetManifest.js
export const SPRITES = {
  background: {
    name: 'background',
    path: 'assets/background.png',
    width: 800,
    height: 600
  },
  station: {
    name: 'station',
    path: 'assets/station.png',
    width: 128,
    height: 128
  },
  ship: {
    name: 'ship',
    path: 'assets/ship.png',
    width: 64,
    height: 64
  },
  asteroid: {
    name: 'asteroid',
    path: 'assets/asteroid.png',
    width: 64,
    height: 64
  }
};
```

Key changes:
1. Removed dependency on loadAssets utility
2. Added proper PIXI.Loader usage
3. Added 'name' field to sprite configs to use as resource key
4. Modified getSprite to use PIXI.Loader.shared.resources
5. Removed utils import since we're not using it anymore

The rest of the files (Game.js, GameUI.js, and gameData.js) remain unchanged as they weren't part of the asset loading issue.

This should resolve the texture loading error by properly loading all assets before trying to create sprites.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
