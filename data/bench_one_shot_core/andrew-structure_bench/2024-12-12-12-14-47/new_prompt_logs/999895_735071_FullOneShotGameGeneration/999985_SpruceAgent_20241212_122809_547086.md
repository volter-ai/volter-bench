Role: system
Content: You are an expert software developer. Your job is to make an existing simple UI look like the UI from an advanced video game
__________________
Role: user
Content: The existing codebase of the project is as follows:
```js src/Game.js
import React, { useRef, useState, useEffect } from 'react';
import { Settings } from 'lucide-react';
import { GameLogic } from './game/gameLogic';
import GameUI from './ui/GameUI';
import DebugUI from './ui/DebugUI';

const FRAME_RATE = 30;
const FRAME_INTERVAL = 1000 / FRAME_RATE;

const Game = () => {
  const containerRef = useRef(null);
  const gameRef = useRef(null);
  const [showDebugUI, setShowDebugUI] = useState(false);
  const [, setFrame] = useState(0);

  useEffect(() => {
    if (!containerRef.current) return;

    const game = new GameLogic(containerRef.current);
    window.game = game;
    gameRef.current = game;

    let lastTime = Date.now();
    let intervalId;
    const update = (currentTime) => {
      const deltaTime = (currentTime - lastTime) / 1000;
      lastTime = currentTime;

      // Force a re-render by updating the frame state
      setFrame(prevFrame => prevFrame + 1);
    };

    intervalId = setInterval(() => {
      update(Date.now());
    }, FRAME_INTERVAL);

    return () => {
      clearInterval(intervalId);
      if (gameRef.current) {
        gameRef.current.destroy();
        gameRef.current = null;
      }
      gameRef.current = null;
    };
  }, []);

  return (
    <div style={{
      position: 'relative',
      width: '800px',
      height: '600px',
      overflow: 'hidden'
    }}>
      <div ref={containerRef} style={{
        position: 'absolute',
        top: 0,
        left: 0,
        width: '100%',
        height: '100%'
      }} />
      {gameRef.current && (
        <>
          <GameUI gameRef={gameRef} />
          {showDebugUI && <DebugUI gameRef={gameRef} />}
        </>
      )}
      <Settings
        onClick={() => setShowDebugUI(!showDebugUI)}
        style={{
          position: 'absolute',
          bottom: '10px',
          right: '10px',
          width: '24px',
          height: '24px',
          cursor: 'pointer',
          color: 'white'
        }}
      />
    </div>
  );
};

export default Game;
```
```js src/game/gameLogic.js
import * as PIXI from 'pixi.js';
import { INITIAL_VALUES, UPGRADE_COSTS } from './gameData';
import { SPRITES } from './assetManifest';
import { loadAssets } from './utils'

const SCREEN_SIZE = {
    width: 800,
    height: 600
}

export class GameLogic {
    constructor(container) {
        this.app = new PIXI.Application({
            width: SCREEN_SIZE.width,
            height: SCREEN_SIZE.height,
            backgroundColor: 0x000000,
        });

        container.appendChild(this.app.view);

        this.ready = false;
        this.crystals = 0;
        this.droneCount = INITIAL_VALUES.DRONE_COUNT;
        this.droneSpeed = INITIAL_VALUES.DRONE_SPEED;
        this.droneCapacity = INITIAL_VALUES.DRONE_CAPACITY;
        this.maxAsteroids = INITIAL_VALUES.MAX_ASTEROIDS;
        this.asteroidCapacity = INITIAL_VALUES.ASTEROID_CAPACITY;
        
        this.droneCost = UPGRADE_COSTS.DRONE_COUNT;
        this.speedCost = UPGRADE_COSTS.DRONE_SPEED;
        this.capacityCost = UPGRADE_COSTS.DRONE_CAPACITY;
        this.asteroidCountCost = UPGRADE_COSTS.MAX_ASTEROIDS;
        this.asteroidCapacityCost = UPGRADE_COSTS.ASTEROID_CAPACITY;

        loadAssets(SPRITES, () => {
            if (!this.app.stage) return;
            this.createGameObjects();
            this.app.ticker.add(this.gameLoop.bind(this));
            this.ready = true;
        });
    }

    getSprite(spriteConfig) {
        const texture = PIXI.Texture.from(spriteConfig.path);
        const sprite = new PIXI.Sprite(texture);
        sprite.width = spriteConfig.width;
        sprite.height = spriteConfig.height;
        return sprite;
    }

    createGameObjects() {
        this.background = this.getSprite(SPRITES.background);
        this.app.stage.addChild(this.background);

        // Create station
        this.station = this.getSprite(SPRITES.station);
        this.station.anchor.set(0.5);
        this.station.x = SCREEN_SIZE.width / 2;
        this.station.y = SCREEN_SIZE.height / 2;
        
        // Create containers
        this.drones = new PIXI.Container();
        this.asteroids = new PIXI.Container();

        this.app.stage.addChild(this.station);
        this.app.stage.addChild(this.asteroids);
        this.app.stage.addChild(this.drones);

        // Create initial drones and asteroids
        this.createDrone();
        this.createAsteroid();
    }

    createDrone() {
        const drone = this.getSprite(SPRITES.drone);
        drone.anchor.set(0.5);
        drone.x = this.station.x;
        drone.y = this.station.y;
        drone.cargo = 0;
        drone.state = 'idle';
        drone.target = null;
        drone.miningTimer = 0;
        this.drones.addChild(drone);
    }

    createAsteroid() {
        if (this.asteroids.children.length >= this.maxAsteroids) return;

        const asteroid = this.getSprite(SPRITES.asteroid);
        asteroid.anchor.set(0.5);
        asteroid.x = Math.random() * SCREEN_SIZE.width;
        asteroid.y = Math.random() * SCREEN_SIZE.height;
        asteroid.crystals = this.asteroidCapacity;
        asteroid.claimed = false;
        this.asteroids.addChild(asteroid);
    }

    gameLoop(delta) {
        const elapsedSecs = delta / 60;

        this.drones.children.forEach(drone => {
            switch(drone.state) {
                case 'idle':
                    const freeAsteroid = this.asteroids.children.find(a => !a.claimed && a.crystals > 0);
                    if (freeAsteroid) {
                        drone.target = freeAsteroid;
                        freeAsteroid.claimed = true;
                        drone.state = 'moving_to_asteroid';
                    }
                    break;

                case 'moving_to_asteroid':
                    const toAsteroid = this.moveTo(drone, drone.target.x, drone.target.y, elapsedSecs);
                    if (toAsteroid) {
                        drone.state = 'mining';
                        drone.miningTimer = 0;
                    }
                    break;

                case 'mining':
                    drone.miningTimer += elapsedSecs;
                    if (drone.miningTimer >= INITIAL_VALUES.MINING_TIME) {
                        const mineAmount = Math.min(
                            this.droneCapacity - drone.cargo,
                            drone.target.crystals
                        );
                        drone.cargo += mineAmount;
                        drone.target.crystals -= mineAmount;

                        if (drone.target.crystals <= 0) {
                            this.asteroids.removeChild(drone.target);
                            this.createAsteroid();
                        }
                        drone.state = 'returning';
                    }
                    break;

                case 'returning':
                    const toStation = this.moveTo(drone, this.station.x, this.station.y, elapsedSecs);
                    if (toStation) {
                        this.crystals += drone.cargo;
                        drone.cargo = 0;
                        drone.target = null;
                        drone.state = 'idle';
                    }
                    break;
            }
        });

        if (this.asteroids.children.length < this.maxAsteroids) {
            this.createAsteroid();
        }
    }

    moveTo(drone, targetX, targetY, elapsedSecs) {
        const dx = targetX - drone.x;
        const dy = targetY - drone.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance < 5) {
            // Snap to exact position when very close
            drone.x = targetX;
            drone.y = targetY;
            return true;
        }

        const moveDistance = this.droneSpeed * elapsedSecs;
        const ratio = moveDistance / distance;
        
        drone.x += dx * ratio;
        drone.y += dy * ratio;
        drone.rotation = Math.atan2(dy, dx);
        
        return false;
    }

    upgradeDroneCount() {
        if (this.crystals >= this.droneCost) {
            this.crystals -= this.droneCost;
            this.droneCount++;
            this.createDrone();
            this.droneCost *= 2;
        }
    }

    upgradeDroneSpeed() {
        if (this.crystals >= this.speedCost) {
            this.crystals -= this.speedCost;
            this.droneSpeed *= 1.2;
            this.speedCost *= 2;
        }
    }

    upgradeDroneCapacity() {
        if (this.crystals >= this.capacityCost) {
            this.crystals -= this.capacityCost;
            this.droneCapacity = Math.floor(this.droneCapacity * 1.5);
            this.capacityCost *= 2;
        }
    }

    upgradeMaxAsteroids() {
        if (this.crystals >= this.asteroidCountCost) {
            this.crystals -= this.asteroidCountCost;
            this.maxAsteroids++;
            this.createAsteroid();
            this.asteroidCountCost *= 2;
        }
    }

    upgradeAsteroidCapacity() {
        if (this.crystals >= this.asteroidCapacityCost) {
            this.crystals -= this.asteroidCapacityCost;
            this.asteroidCapacity = Math.floor(this.asteroidCapacity * 1.5);
            this.asteroidCapacityCost *= 2;
        }
    }

    destroy() {
        this.app.destroy(true);
    }
}

```
```js src/game/gameData.js
export const INITIAL_VALUES = {
  DRONE_COUNT: 1,
  DRONE_SPEED: 100, // pixels per second
  DRONE_CAPACITY: 10,
  MAX_ASTEROIDS: 3,
  ASTEROID_CAPACITY: 50,
  MINING_TIME: 1, // seconds to mine
};

export const UPGRADE_COSTS = {
  DRONE_COUNT: 45,
  DRONE_SPEED: 25,
  DRONE_CAPACITY: 40,
  MAX_ASTEROIDS: 60,
  ASTEROID_CAPACITY: 50,
};

```
```js src/game/assetManifest.js
export const SPRITES = {
  background: {
    path: 'assets/background.png',
    width: 800,
    height: 600
  },
  station: {
    path: 'assets/station.png',
    width: 128,
    height: 128
  },
  drone: {
    path: 'assets/drone.png',
    width: 64,
    height: 64
  },
  asteroid: {
    path: 'assets/asteroid.png',
    width: 96,
    height: 96
  }
};

```
```js src/ui/GameUI.js
import React, { useState, useEffect } from 'react';

const Button = ({ onClick, children, cost }) => (
  <button onClick={onClick} style={{
    margin: '5px',
    padding: '5px 10px',
    fontSize: '14px',
    color: '#d3d3d3',
    border: 'none',
    cursor: 'pointer',
    backgroundColor: '#7C45CB',
  }}>
    {children} ({cost} crystals)
  </button>
);

const HUD = ({ game }) => (
  <div style={{ position: 'absolute', top: 0, left: 0, right: 0, padding: '10px', backgroundColor: 'rgba(0,0,0,0.5)', color: '#d3d3d3' }}>
    <p>Crystals: {Math.floor(game.crystals)} | Drones: {game.droneCount} | Speed: {game.droneSpeed.toFixed(1)} | Capacity: {game.droneCapacity} | Max Asteroids: {game.maxAsteroids} | Asteroid Capacity: {game.asteroidCapacity}</p>
  </div>
);

const GameUI = ({ gameRef }) => {
  const [, forceUpdate] = useState();
  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current) return null;

  const game = gameRef.current;

  return (
    <div style={{ width: '100%', height: '100%', color: '#d3d3d3' }}>
      <HUD game={game} />
      <div style={{ position: 'absolute', bottom: '10px', left: '10px', right: '10px', textAlign: 'center' }}>
        <Button onClick={() => game.upgradeDroneCount()} cost={game.droneCost}>Add Drone</Button>
        <Button onClick={() => game.upgradeDroneSpeed()} cost={game.speedCost}>Upgrade Speed</Button>
        <Button onClick={() => game.upgradeDroneCapacity()} cost={game.capacityCost}>Upgrade Capacity</Button>
        <Button onClick={() => game.upgradeMaxAsteroids()} cost={game.asteroidCountCost}>More Asteroids</Button>
        <Button onClick={() => game.upgradeAsteroidCapacity()} cost={game.asteroidCapacityCost}>Bigger Asteroids</Button>
      </div>
    </div>
  );
};

export default GameUI;

```
```js src/game/fontManifest.js
export const FONTS = [
  'Press Start 2P',
  'Roboto:400,700',
  'Orbitron:400,700',
]
```

Only make changes to the GameUI or fontManifest file. Don't change anything about the logic or functionality but make the UI look much better and make it feel like a very well implemented game. You can add multilayered menu interactions.


Make sure that only the essential data (such as currency) is shown in the hud and the other stats are hidden in a stats modal

Upgrades should be in modals and submenus instead of being directly on the screen


Make sure that the theme of your UI matches with the theme of the game

Make sure all modals can be opened and closed

General Implementation Guidelines:
1. Write out all the code of the files you intend to edit. I will be copy-pasting them
2. Do not create new files, add to the existing files in the appropriate locations
3. Do not do any refactoring outside of what you are requested to do

Directions:
In your response, do both steps, one after the other
1. First think carefully and describe in detail how you will implement the game design. Make sure to follow all the guidelines
2. Then write each file, according to the plan

Write out all the files in the format:
```filetype filepath
content
```

MOST IMPORTANT: Do not write "existing code here" or similar placeholders. If a file has been edited in anyway,
EVERY original unchanged line must be rewritten in your output
__________________
Role: assistant
Content: Let me plan out the UI improvements:

1. Theme Analysis:
- Based on the assets and gameplay, this appears to be a space mining/resource management game
- Will use a sci-fi futuristic theme with dark backgrounds and neon accents
- Color scheme: Dark blues/purples with cyan/bright blue accents

2. UI Structure:
- Main HUD: Only show crystals count and a minimal status bar
- Stats Button: Opens a modal showing all drone/asteroid statistics
- Upgrades Button: Opens main upgrade menu modal
- Upgrade Categories:
  - Drone Management (count, speed)
  - Mining Operations (capacity, efficiency)
  - Asteroid Field (count, size)

3. Modal System:
- Base Modal component with close button
- Animated transitions for opening/closing
- Semi-transparent dark backdrop
- Neon borders and sci-fi styling

4. Font Usage:
- Orbitron for headers and important numbers
- Roboto for regular text
- Press Start 2P for special emphasis

Now, let's implement the files:

```js src/ui/GameUI.js
import React, { useState, useEffect } from 'react';
import { Settings, X, Users, Zap, Box, Database, Activity } from 'lucide-react';

const Modal = ({ isOpen, onClose, title, children }) => {
  if (!isOpen) return null;
  
  return (
    <div className="modal-backdrop" onClick={onClose} style={{
      position: 'fixed',
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      backgroundColor: 'rgba(0,0,0,0.85)',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      zIndex: 1000
    }}>
      <div className="modal-content" onClick={e => e.stopPropagation()} style={{
        backgroundColor: '#1a1a2e',
        border: '2px solid #4a9eff',
        borderRadius: '10px',
        padding: '20px',
        minWidth: '300px',
        maxWidth: '500px',
        boxShadow: '0 0 20px rgba(74, 158, 255, 0.3)',
        color: '#fff'
      }}>
        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>
          <h2 style={{ margin: 0, fontFamily: 'Orbitron', color: '#4a9eff' }}>{title}</h2>
          <X onClick={onClose} style={{ cursor: 'pointer', color: '#4a9eff' }} />
        </div>
        {children}
      </div>
    </div>
  );
};

const Button = ({ onClick, children, cost, disabled }) => (
  <button 
    onClick={onClick} 
    disabled={disabled}
    style={{
      margin: '5px',
      padding: '10px 15px',
      fontSize: '14px',
      color: '#fff',
      border: '1px solid #4a9eff',
      borderRadius: '5px',
      cursor: disabled ? 'not-allowed' : 'pointer',
      backgroundColor: disabled ? '#1a1a2e' : '#2a2a4e',
      fontFamily: 'Roboto',
      transition: 'all 0.2s',
      opacity: disabled ? 0.5 : 1,
    }}
  >
    {children} ({cost} crystals)
  </button>
);

const IconButton = ({ onClick, icon: Icon, label }) => (
  <button
    onClick={onClick}
    style={{
      display: 'flex',
      alignItems: 'center',
      gap: '5px',
      padding: '8px 12px',
      backgroundColor: 'transparent',
      border: '1px solid #4a9eff',
      borderRadius: '5px',
      color: '#4a9eff',
      cursor: 'pointer',
      margin: '0 5px'
    }}
  >
    <Icon size={16} />
    {label}
  </button>
);

const HUD = ({ game }) => (
  <div style={{ 
    position: 'absolute', 
    top: 0, 
    left: 0, 
    right: 0, 
    padding: '15px', 
    background: 'linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)',
    color: '#fff',
    fontFamily: 'Orbitron'
  }}>
    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
      <span style={{ fontSize: '24px', color: '#4a9eff' }}>
        ⬢ {Math.floor(game.crystals)}
      </span>
      <div style={{ display: 'flex', gap: '10px' }}>
        <IconButton icon={Activity} label="Stats" onClick={() => game.setStatsOpen(true)} />
        <IconButton icon={Database} label="Upgrades" onClick={() => game.setUpgradesOpen(true)} />
      </div>
    </div>
  </div>
);

const StatsModal = ({ game, isOpen, onClose }) => (
  <Modal isOpen={isOpen} onClose={onClose} title="Station Statistics">
    <div style={{ fontFamily: 'Roboto' }}>
      <div style={{ marginBottom: '20px' }}>
        <h3 style={{ color: '#4a9eff', fontFamily: 'Orbitron' }}>Drone Fleet</h3>
        <p>Active Drones: {game.droneCount}</p>
        <p>Speed Rating: {game.droneSpeed.toFixed(1)}</p>
        <p>Cargo Capacity: {game.droneCapacity}</p>
      </div>
      <div>
        <h3 style={{ color: '#4a9eff', fontFamily: 'Orbitron' }}>Asteroid Field</h3>
        <p>Maximum Asteroids: {game.maxAsteroids}</p>
        <p>Asteroid Capacity: {game.asteroidCapacity}</p>
      </div>
    </div>
  </Modal>
);

const UpgradeModal = ({ game, isOpen, onClose }) => {
  const [category, setCategory] = useState('drones');
  
  return (
    <Modal isOpen={isOpen} onClose={onClose} title="Station Upgrades">
      <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>
        <IconButton 
          icon={Users} 
          label="Drones" 
          onClick={() => setCategory('drones')} 
        />
        <IconButton 
          icon={Box} 
          label="Cargo" 
          onClick={() => setCategory('cargo')} 
        />
        <IconButton 
          icon={Zap} 
          label="Field" 
          onClick={() => setCategory('field')} 
        />
      </div>
      
      <div style={{ display: category === 'drones' ? 'block' : 'none' }}>
        <Button onClick={() => game.upgradeDroneCount()} cost={game.droneCost}>
          Add Drone
        </Button>
        <Button onClick={() => game.upgradeDroneSpeed()} cost={game.speedCost}>
          Upgrade Speed
        </Button>
      </div>
      
      <div style={{ display: category === 'cargo' ? 'block' : 'none' }}>
        <Button onClick={() => game.upgradeDroneCapacity()} cost={game.capacityCost}>
          Upgrade Capacity
        </Button>
      </div>
      
      <div style={{ display: category === 'field' ? 'block' : 'none' }}>
        <Button onClick={() => game.upgradeMaxAsteroids()} cost={game.asteroidCountCost}>
          More Asteroids
        </Button>
        <Button onClick={() => game.upgradeAsteroidCapacity()} cost={game.asteroidCapacityCost}>
          Bigger Asteroids
        </Button>
      </div>
    </Modal>
  );
};

const GameUI = ({ gameRef }) => {
  const [statsOpen, setStatsOpen] = useState(false);
  const [upgradesOpen, setUpgradesOpen] = useState(false);
  const [, forceUpdate] = useState();

  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current) return null;

  const game = gameRef.current;
  game.setStatsOpen = setStatsOpen;
  game.setUpgradesOpen = setUpgradesOpen;

  return (
    <div style={{ width: '100%', height: '100%', color: '#fff' }}>
      <HUD game={game} />
      <StatsModal 
        game={game} 
        isOpen={statsOpen} 
        onClose={() => setStatsOpen(false)} 
      />
      <UpgradeModal 
        game={game} 
        isOpen={upgradesOpen} 
        onClose={() => setUpgradesOpen(false)} 
      />
    </div>
  );
};

export default GameUI;
```

```js src/game/fontManifest.js
export const FONTS = [
  'Press Start 2P',
  'Roboto:400,700',
  'Orbitron:400,700',
];
```

This implementation creates a sleek, sci-fi themed UI with proper modal management and organized upgrade categories. The HUD is minimal, showing only essential information, while detailed stats and upgrades are accessible through well-designed modals.
__________________
