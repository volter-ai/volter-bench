Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me plan out the implementation first:

1. Implementation Plan:
- The game is a coffee shop management game where we need to automate upgrades
- From gameData.js we can see there are 5 upgrades:
  * COFFEE_SPEED - Makes coffee faster
  * BARISTA_COUNT - Adds more baristas
  * CUSTOMER_CAPACITY - Allows more customers
  * COFFEE_PRICE - Increases revenue per coffee
  * BARISTA_EFFICIENCY - Baristas carry more coffee at once

- For GameAI.js we need to:
  1. Define UPGRADES array with all 5 upgrade types
  2. Implement getMainCurrency() to return game.money
  3. In setupExperimentalMode(), set infinite money and random upgrades
  4. In updateGameStats(), show all relevant game metrics
  5. In checkCheapestUpgrade(), compare costs of all upgrades and buy cheapest
  6. In performUpgrade(), handle each upgrade type by calling appropriate game method

2. Implementation:

# Excerpt ID: 3f3e7c29-a630-4919-8d27-9cd0b21e75c9
```javascript src/GameAI.js
import { AIUtils } from './AIUtils';
import { INITIAL_VALUES, UPGRADE_COSTS } from './game/gameData';

const UPGRADES = [
  'COFFEE_PRICE',
  'COFFEE_SPEED',
  'BARISTA_COUNT', 
  'CUSTOMER_CAPACITY',
  'BARISTA_EFFICIENCY'
];

export class GameAI {
  constructor() {
    this.ai = new AIUtils();
    this.game = null;
    this.initialized = false;
    // Initialize upgrade levels for all upgrade types
    this.upgradeLevels = UPGRADES.reduce((acc, upgrade) => {
      acc[upgrade] = 0;
      return acc;
    }, {});
  }

  init() {
    if (!window.game || !window.game.ready) {
      setTimeout(() => this.init(), 100);
      return;
    }
    this.game = window.game;

    if (this.initialized) return;
    this.initialized = true;

    window.game.app.ticker.speed = this.ai.defaultGameSpeed;
    this.ai.updateDebugOverlay('Game speed set to ' + this.ai.defaultGameSpeed + 'x');

    if (this.ai.enabled) {
      this.ai.gameStartTime = Date.now();

      if (this.ai.mode === 'experimental') {
        this.setupExperimentalMode();
      }

      this.ai.startLoggingLoop(this.getMainCurrency.bind(this));
      this.startUpgradeLoop();
      this.updateGameStats();

      setTimeout(() => {
        this.ai.stopAI();
        this.ai.exportLogs();
        this.ai.updateDebugOverlay('Session ended - logs exported');
      }, this.ai.duration);
    }
  }

  getMainCurrency() {
    return this.game.money;
  }

  setupExperimentalMode() {
    // Give infinite money for experimental mode
    this.game.money = Number.MAX_SAFE_INTEGER;

    // Randomly upgrade each stat between 0-10 times
    UPGRADES.forEach(upgrade => {
      const times = Math.floor(Math.random() * 11); // 0 to 10
      for (let i = 0; i < times; i++) {
        this.performUpgrade(upgrade, 0, true);
      }
    });

    this.ai.updateDebugOverlay('Experimental mode initialized with random upgrades');
  }

  updateGameStats() {
    const stats = {
      Money: Math.floor(this.game.money),
      'Coffee Price': this.game.coffeePrice.toFixed(2),
      'Make Speed': this.game.coffeeMakeSpeed.toFixed(1) + 's',
      'Barista Count': this.game.baristaCount,
      'Customer Capacity': this.game.customerCapacity,
      'Barista Efficiency': this.game.baristaEfficiency,
      'Price Upgrade Cost': this.game.coffeePriceCost,
      'Speed Upgrade Cost': this.game.coffeeSpeedCost,
      'Barista Hire Cost': this.game.baristaCountCost,
      'Capacity Upgrade Cost': this.game.customerCapacityCost,
      'Efficiency Upgrade Cost': this.game.baristaEfficiencyCost
    };

    this.ai.updateDebugOverlay('Game stats updated', stats);
  }

  startUpgradeLoop() {
    if (!this.ai.enabled || this.ai.mode === 'experimental') return;

    this.upgradeInterval = setInterval(() => {
      this.checkCheapestUpgrade();
      this.updateGameStats();
    }, 100);
  }

  checkCheapestUpgrade() {
    let cheapestUpgrade = null;
    let lowestCost = Infinity;

    const costs = {
      'COFFEE_PRICE': this.game.coffeePriceCost,
      'COFFEE_SPEED': this.game.coffeeSpeedCost,
      'BARISTA_COUNT': this.game.baristaCountCost,
      'CUSTOMER_CAPACITY': this.game.customerCapacityCost,
      'BARISTA_EFFICIENCY': this.game.baristaEfficiencyCost
    };

    for (const upgrade of UPGRADES) {
      const cost = costs[upgrade];
      if (cost <= this.game.money && cost < lowestCost) {
        cheapestUpgrade = upgrade;
        lowestCost = cost;
      }
    }

    if (cheapestUpgrade) {
      this.performUpgrade(cheapestUpgrade, lowestCost);
    }
  }

  performUpgrade(upgradeName, cost, skipLogging = false) {
    // Increment the upgrade level before performing the upgrade
    this.upgradeLevels[upgradeName]++;
    const currentLevel = this.upgradeLevels[upgradeName];

    switch (upgradeName) {
      case 'COFFEE_PRICE':
        this.game.upgradeCoffeePrice();
        break;
      case 'COFFEE_SPEED':
        this.game.upgradeCoffeeSpeed();
        break;
      case 'BARISTA_COUNT':
        this.game.upgradeBaristaCount();
        break;
      case 'CUSTOMER_CAPACITY':
        this.game.upgradeCustomerCapacity();
        break;
      case 'BARISTA_EFFICIENCY':
        this.game.upgradeBaristaEfficiency();
        break;
      default:
        console.error(`${upgradeName} is not a valid upgrade`);
    }

    if (!skipLogging) {
      const upgradeInfo = {
        timestamp: Date.now(),
        upgrade: upgradeName,
        cost: cost,
        level: currentLevel
      };

      this.ai.logUpgrade(upgradeInfo);
      this.ai.updateDebugOverlay(`Purchased ${upgradeName} upgrade for ${cost} (Level ${currentLevel})`);
    }
  }
}

const gameAI = new GameAI();
gameAI.init();

if (window.game) {
  window.game.exportAILogs = () => gameAI.ai.exportLogs();
  window.game.clearAILogs = () => gameAI.ai.clearLogs();
}

export default gameAI;
```

This implementation:
1. Defines all 5 upgrade types in UPGRADES array
2. Returns game.money in getMainCurrency()
3. Sets infinite money and random upgrades in experimental mode
4. Shows comprehensive game stats including all costs and levels
5. Compares all upgrade costs and buys cheapest affordable one
6. Maps each upgrade type to corresponding game upgrade method

The AI will continuously buy the cheapest available upgrade in normal mode, or randomly set upgrades in experimental mode. All actions are logged and displayed in the debug overlay.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
