Role: system
Content: You are an expert software developer. Your job is to make an existing simple UI look like the UI from an advanced video game
__________________
Role: user
Content: The existing codebase of the project is as follows:
```js src/Game.js
import React, { useRef, useState, useEffect } from 'react';
import { Settings } from 'lucide-react';
import { GameLogic } from './game/gameLogic';
import GameUI from './ui/GameUI';
import DebugUI from './ui/DebugUI';

const FRAME_RATE = 30;
const FRAME_INTERVAL = 1000 / FRAME_RATE;

const Game = () => {
  const containerRef = useRef(null);
  const gameRef = useRef(null);
  const [showDebugUI, setShowDebugUI] = useState(false);
  const [, setFrame] = useState(0);

  useEffect(() => {
    if (!containerRef.current) return;

    const game = new GameLogic(containerRef.current);
    window.game = game;
    gameRef.current = game;

    let lastTime = Date.now();
    let intervalId;
    const update = (currentTime) => {
      const deltaTime = (currentTime - lastTime) / 1000;
      lastTime = currentTime;

      // Force a re-render by updating the frame state
      setFrame(prevFrame => prevFrame + 1);
    };

    intervalId = setInterval(() => {
      update(Date.now());
    }, FRAME_INTERVAL);

    return () => {
      clearInterval(intervalId);
      if (gameRef.current) {
        gameRef.current.destroy();
        gameRef.current = null;
      }
      gameRef.current = null;
    };
  }, []);

  return (
    <div style={{
      position: 'relative',
      width: '800px',
      height: '600px',
      overflow: 'hidden'
    }}>
      <div ref={containerRef} style={{
        position: 'absolute',
        top: 0,
        left: 0,
        width: '100%',
        height: '100%'
      }} />
      {gameRef.current && (
        <>
          <GameUI gameRef={gameRef} />
          {showDebugUI && <DebugUI gameRef={gameRef} />}
        </>
      )}
      <Settings
        onClick={() => setShowDebugUI(!showDebugUI)}
        style={{
          position: 'absolute',
          bottom: '10px',
          right: '10px',
          width: '24px',
          height: '24px',
          cursor: 'pointer',
          color: 'white'
        }}
      />
    </div>
  );
};

export default Game;
```
```js src/game/gameLogic.js
import * as PIXI from 'pixi.js';
import { INITIAL_VALUES, UPGRADE_COSTS, POSITIONS, MOVEMENT_POINTS } from './gameData';
import { SPRITES } from './assetManifest';
import { loadAssets } from './utils'

const SCREEN_SIZE = {
  width: 800,
  height: 600
}

export class GameLogic {
  constructor(container) {
    this.app = new PIXI.Application({
      width: SCREEN_SIZE.width,
      height: SCREEN_SIZE.height,
      backgroundColor: 0x222C37,
    });

    container.appendChild(this.app.view);

    this.ready = false;
    this.money = 0;
    this.baristaSpeed = INITIAL_VALUES.BARISTA_SPEED;
    this.coffeeMakeTime = INITIAL_VALUES.COFFEE_MAKE_TIME;
    this.coffeePrice = INITIAL_VALUES.COFFEE_PRICE;
    this.customerCapacity = INITIAL_VALUES.CUSTOMER_CAPACITY;
    this.baristaCount = INITIAL_VALUES.BARISTA_COUNT;

    this.upgradeCosts = {
      barista: UPGRADE_COSTS.BARISTA,
      speed: UPGRADE_COSTS.SPEED,
      efficiency: UPGRADE_COSTS.COFFEE_EFFICIENCY,
      capacity: UPGRADE_COSTS.CAPACITY,
      price: UPGRADE_COSTS.PRICE
    };

    // Load assets first
    loadAssets(SPRITES, () => {
      if (!this.app.stage) return;
      
      this.createGameObjects();
      this.app.ticker.add(this.gameLoop.bind(this));
      this.ready = true;
    });
  }

  createGameObjects() {
    this.background = this.getSprite(SPRITES.background);
    this.coffeeMachine = this.getSprite(SPRITES.coffee_machine);
    this.coffeeMachine.position.set(POSITIONS.COFFEE_MACHINE.x, POSITIONS.COFFEE_MACHINE.y);

    this.baristas = new PIXI.Container();
    this.customers = new PIXI.Container();
    this.customerQueue = [];

    this.app.stage.addChild(this.background);
    this.app.stage.addChild(this.coffeeMachine);
    this.app.stage.addChild(this.baristas);
    this.app.stage.addChild(this.customers);

    // Create initial barista
    this.createBarista();
    this.spawnCustomer();
  }

  getSprite(spriteConfig) {
    const texture = PIXI.Texture.from(spriteConfig.path);
    const sprite = new PIXI.Sprite(texture);
    sprite.width = spriteConfig.width;
    sprite.height = spriteConfig.height;
    return sprite;
  }

  createBarista() {
    const barista = this.getSprite(SPRITES.barista);
    barista.anchor.set(0.5);
    barista.position.set(MOVEMENT_POINTS.START.x, MOVEMENT_POINTS.START.y);
    barista.state = 'idle';
    barista.targetCustomer = null;
    barista.coffeeTimer = 0;
    this.baristas.addChild(barista);
  }

  spawnCustomer() {
    if (this.customerQueue.length >= this.customerCapacity) return;

    const customer = this.getSprite(SPRITES.customer);
    customer.anchor.set(0.5);
    customer.position.set(
      POSITIONS.CUSTOMER_COUNTER.x,
      POSITIONS.CUSTOMER_COUNTER.y + this.customerQueue.length * POSITIONS.CUSTOMER_SPACING
    );
    customer.state = 'waiting';
    this.customers.addChild(customer);
    this.customerQueue.push(customer);
  }

  moveTowards(object, target, speed, delta) {
    const dx = target.x - object.x;
    const dy = target.y - object.y;
    const distance = Math.sqrt(dx * dx + dy * dy);
    
    if (distance < 1) return true;

    const movement = speed * delta;
    object.x += (dx / distance) * movement;
    object.y += (dy / distance) * movement;
    return false;
  }

  gameLoop(delta) {
    const elapsedSecs = delta / 60;

    this.baristas.children.forEach(barista => {
      switch(barista.state) {
        case 'idle':
          if (this.customerQueue.length > 0) {
            barista.targetCustomer = this.customerQueue[0];
            barista.state = 'moving_to_machine';
          }
          break;

        case 'moving_to_machine':
          if (this.moveTowards(barista, MOVEMENT_POINTS.COFFEE_MACHINE, this.baristaSpeed, elapsedSecs)) {
            barista.state = 'making_coffee';
            barista.coffeeTimer = 0;
          }
          break;

        case 'making_coffee':
          barista.coffeeTimer += elapsedSecs;
          if (barista.coffeeTimer >= this.coffeeMakeTime) {
            barista.state = 'serving';
          }
          break;

        case 'serving':
          if (this.moveTowards(barista, MOVEMENT_POINTS.SERVING, this.baristaSpeed, elapsedSecs)) {
            this.money += this.coffeePrice;
            const servedCustomer = this.customerQueue.shift();
            this.customers.removeChild(servedCustomer);
            this.customerQueue.forEach((customer, index) => {
              customer.y = POSITIONS.CUSTOMER_COUNTER.y + index * POSITIONS.CUSTOMER_SPACING;
            });
            barista.state = 'returning';
            this.spawnCustomer();
          }
          break;

        case 'returning':
          if (this.moveTowards(barista, MOVEMENT_POINTS.START, this.baristaSpeed, elapsedSecs)) {
            barista.state = 'idle';
            barista.targetCustomer = null;
          }
          break;
      }
    });
  }

  upgradeBarista() {
    if (this.money >= this.upgradeCosts.barista) {
      this.money -= this.upgradeCosts.barista;
      this.createBarista();
      this.upgradeCosts.barista *= 2;
      this.baristaCount++;
    }
  }

  upgradeSpeed() {
    if (this.money >= this.upgradeCosts.speed) {
      this.money -= this.upgradeCosts.speed;
      this.baristaSpeed *= 1.2;
      this.upgradeCosts.speed *= 2;
    }
  }

  upgradeEfficiency() {
    if (this.money >= this.upgradeCosts.efficiency) {
      this.money -= this.upgradeCosts.efficiency;
      this.coffeeMakeTime *= 0.8;
      this.upgradeCosts.efficiency *= 2;
    }
  }

  upgradeCapacity() {
    if (this.money >= this.upgradeCosts.capacity) {
      this.money -= this.upgradeCosts.capacity;
      this.customerCapacity++;
      this.upgradeCosts.capacity *= 2;
      this.spawnCustomer();
    }
  }

  upgradePrice() {
    if (this.money >= this.upgradeCosts.price) {
      this.money -= this.upgradeCosts.price;
      this.coffeePrice = Math.floor(this.coffeePrice * 1.2);
      this.upgradeCosts.price *= 2;
    }
  }

  destroy() {
    this.app.destroy(true);
  }
}

```
```js src/game/gameData.js
export const INITIAL_VALUES = {
  BARISTA_SPEED: 100, // pixels per second
  COFFEE_MAKE_TIME: 3, // seconds to make coffee
  COFFEE_PRICE: 10,  // Changed from 5 to 10
  CUSTOMER_CAPACITY: 3,
  BARISTA_COUNT: 1,
};

export const UPGRADE_COSTS = {
  BARISTA: 50,
  SPEED: 20,         // Changed from 30 to 20
  COFFEE_EFFICIENCY: 40,
  CAPACITY: 15,      // Changed from 25 to 15
  PRICE: 25,         // Changed from 35 to 25
};

export const POSITIONS = {
  COFFEE_MACHINE: { x: 400, y: 300 },
  CUSTOMER_COUNTER: { x: 100, y: 300 },
  SERVING_COUNTER: { x: 700, y: 300 },
  CUSTOMER_SPACING: 80,
};

export const MOVEMENT_POINTS = {
  START: { x: 300, y: 300 },
  COFFEE_MACHINE: { x: 400, y: 300 },
  SERVING: { x: 700, y: 300 },
};

```
```js src/game/assetManifest.js
export const SPRITES = {
  background: {
    path: 'assets/coffee_shop.png',
    width: 800,
    height: 600
  },
  barista: {
    path: 'assets/barista.png',
    width: 64,
    height: 64
  },
  customer: {
    path: 'assets/customer.png',
    width: 64,
    height: 64
  },
  coffee_machine: {
    path: 'assets/coffee_machine.png',
    width: 128,
    height: 128
  },
  coffee_cup: {
    path: 'assets/coffee_cup.png',
    width: 32,
    height: 32
  }
};

```
```js src/ui/GameUI.js
import React, { useState, useEffect } from 'react';

const Button = ({ onClick, children, cost }) => (
  <button onClick={onClick} style={{
    margin: '5px',
    padding: '5px 10px',
    fontSize: '14px',
    color: '#d3d3d3',
    border: 'none',
    cursor: 'pointer',
    backgroundColor: '#7C45CB',
  }}>
    {children} (${cost})
  </button>
);

const HUD = ({ game }) => (
  <div style={{ position: 'absolute', top: 0, left: 0, right: 0, padding: '10px', backgroundColor: 'rgba(0,0,0,0.5)', color: '#d3d3d3' }}>
    <p>Money: ${game.money} | Baristas: {game.baristaCount} | Coffee Price: ${game.coffeePrice} | Customer Capacity: {game.customerCapacity}</p>
  </div>
);

const GameUI = ({ gameRef }) => {
  const [, forceUpdate] = useState();
  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current) return null;

  const game = gameRef.current;

  return (
    <div style={{ width: '100%', height: '100%', color: '#d3d3d3' }}>
      <HUD game={game} />
      <div style={{ position: 'absolute', bottom: '10px', left: '10px', right: '10px', textAlign: 'center' }}>
        <Button onClick={() => game.upgradeBarista()} cost={game.upgradeCosts.barista}>Hire Barista</Button>
        <Button onClick={() => game.upgradeSpeed()} cost={game.upgradeCosts.speed}>Upgrade Speed</Button>
        <Button onClick={() => game.upgradeEfficiency()} cost={game.upgradeCosts.efficiency}>Upgrade Coffee Machine</Button>
        <Button onClick={() => game.upgradeCapacity()} cost={game.upgradeCosts.capacity}>Increase Capacity</Button>
        <Button onClick={() => game.upgradePrice()} cost={game.upgradeCosts.price}>Increase Coffee Price</Button>
      </div>
    </div>
  );
};

export default GameUI;

```
```js src/game/fontManifest.js
export const FONTS = [
  'Press Start 2P',
  'Roboto:400,700',
  'Orbitron:400,700',
]
```

Only make changes to the GameUI or fontManifest file. Don't change anything about the logic or functionality but make the UI look much better and make it feel like a very well implemented game. You can add multilayered menu interactions.


Make sure that only the essential data (such as currency) is shown in the hud and the other stats are hidden in a stats modal

Upgrades should be in modals and submenus instead of being directly on the screen


Make sure that the theme of your UI matches with the theme of the game

Make sure all modals can be opened and closed

General Implementation Guidelines:
1. Write out all the code of the files you intend to edit. I will be copy-pasting them
2. Do not create new files, add to the existing files in the appropriate locations
3. Do not do any refactoring outside of what you are requested to do

Directions:
In your response, do both steps, one after the other
1. First think carefully and describe in detail how you will implement the game design. Make sure to follow all the guidelines
2. Then write each file, according to the plan

Write out all the files in the format:
```filetype filepath
content
```

MOST IMPORTANT: Do not write "existing code here" or similar placeholders. If a file has been edited in anyway,
EVERY original unchanged line must be rewritten in your output
__________________
Role: assistant
Content: Let me plan out the UI improvements first:

DESIGN PLAN:
1. Theme: Modern Coffee Shop Management Game
- Color scheme: Warm browns, creams, and deep purples
- Font: "Quicksand" for modern coffee shop feel
- Minimalist HUD showing only money and notifications

2. UI Components:
a) HUD
- Money counter with coffee bean icon
- Minimal notifications area
- Three main menu buttons: Stats, Shop, Settings

b) Stats Modal
- Shows all game statistics
- Clean, organized layout
- Sections for Barista, Shop, and Customer stats

c) Shop Modal
- Categories: Staff, Equipment, Shop Upgrades
- Each category opens a sub-menu
- Upgrade cards with cost, current level, and benefits
- Animated purchase buttons

d) Modal System
- Backdrop blur effect
- Smooth animations
- Close buttons and escape key functionality
- Modal stacking system

Now, I'll implement these changes:

```js src/ui/GameUI.js
import React, { useState, useEffect } from 'react';
import { Coffee, Users, Settings, X, ChevronRight, Store, BarChart2 } from 'lucide-react';

const Modal = ({ isOpen, onClose, title, children }) => {
  if (!isOpen) return null;
  
  return (
    <div style={{
      position: 'absolute',
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      backgroundColor: 'rgba(0,0,0,0.7)',
      backdropFilter: 'blur(3px)',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
      zIndex: 100,
    }}>
      <div style={{
        backgroundColor: '#2A1810',
        border: '2px solid #8B4513',
        borderRadius: '10px',
        padding: '20px',
        width: '80%',
        maxWidth: '600px',
        maxHeight: '80%',
        overflow: 'auto',
        position: 'relative',
      }}>
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          marginBottom: '20px',
        }}>
          <h2 style={{ margin: 0, color: '#E6B17E' }}>{title}</h2>
          <X 
            onClick={onClose}
            style={{ cursor: 'pointer', color: '#E6B17E' }}
          />
        </div>
        {children}
      </div>
    </div>
  );
};

const UpgradeCard = ({ title, cost, onClick, description }) => (
  <div style={{
    backgroundColor: '#3D2317',
    padding: '15px',
    borderRadius: '8px',
    marginBottom: '10px',
    border: '1px solid #8B4513',
  }}>
    <div style={{
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center',
    }}>
      <div>
        <h3 style={{ margin: '0 0 5px 0', color: '#E6B17E' }}>{title}</h3>
        <p style={{ margin: 0, fontSize: '14px', color: '#BFA08E' }}>{description}</p>
      </div>
      <button
        onClick={onClick}
        style={{
          backgroundColor: '#8B4513',
          color: '#E6B17E',
          border: 'none',
          padding: '8px 15px',
          borderRadius: '5px',
          cursor: 'pointer',
          display: 'flex',
          alignItems: 'center',
          gap: '5px',
        }}
      >
        ${cost} <ChevronRight size={16} />
      </button>
    </div>
  </div>
);

const HUD = ({ money }) => (
  <div style={{
    position: 'absolute',
    top: '20px',
    left: '20px',
    backgroundColor: 'rgba(42, 24, 16, 0.9)',
    padding: '10px 20px',
    borderRadius: '25px',
    display: 'flex',
    alignItems: 'center',
    gap: '10px',
  }}>
    <Coffee size={20} color="#E6B17E" />
    <span style={{ color: '#E6B17E', fontWeight: 'bold' }}>${money}</span>
  </div>
);

const MenuButton = ({ icon: Icon, onClick }) => (
  <button
    onClick={onClick}
    style={{
      backgroundColor: 'rgba(42, 24, 16, 0.9)',
      border: 'none',
      borderRadius: '50%',
      width: '40px',
      height: '40px',
      display: 'flex',
      alignItems: 'center',
      justifyContent: 'center',
      cursor: 'pointer',
      margin: '5px',
    }}
  >
    <Icon size={20} color="#E6B17E" />
  </button>
);

const GameUI = ({ gameRef }) => {
  const [, forceUpdate] = useState();
  const [showStats, setShowStats] = useState(false);
  const [showShop, setShowShop] = useState(false);
  const [activeShopTab, setActiveShopTab] = useState('staff');

  useEffect(() => {
    const interval = setInterval(() => forceUpdate({}), 100);
    return () => clearInterval(interval);
  }, []);

  if (!gameRef.current) return null;
  const game = gameRef.current;

  return (
    <div style={{ width: '100%', height: '100%' }}>
      <HUD money={game.money} />
      
      <div style={{
        position: 'absolute',
        bottom: '20px',
        right: '20px',
        display: 'flex',
        flexDirection: 'column',
      }}>
        <MenuButton icon={BarChart2} onClick={() => setShowStats(true)} />
        <MenuButton icon={Store} onClick={() => setShowShop(true)} />
      </div>

      <Modal isOpen={showStats} onClose={() => setShowStats(false)} title="Coffee Shop Stats">
        <div style={{ color: '#E6B17E' }}>
          <p>Baristas: {game.baristaCount}</p>
          <p>Coffee Price: ${game.coffeePrice}</p>
          <p>Customer Capacity: {game.customerCapacity}</p>
          <p>Barista Speed: {Math.round(game.baristaSpeed)}</p>
          <p>Coffee Make Time: {game.coffeeMakeTime.toFixed(1)}s</p>
        </div>
      </Modal>

      <Modal isOpen={showShop} onClose={() => setShowShop(false)} title="Coffee Shop Upgrades">
        <div style={{
          display: 'flex',
          gap: '10px',
          marginBottom: '20px',
        }}>
          {['staff', 'equipment', 'shop'].map(tab => (
            <button
              key={tab}
              onClick={() => setActiveShopTab(tab)}
              style={{
                backgroundColor: activeShopTab === tab ? '#8B4513' : '#3D2317',
                color: '#E6B17E',
                border: 'none',
                padding: '8px 15px',
                borderRadius: '5px',
                cursor: 'pointer',
                textTransform: 'capitalize',
              }}
            >
              {tab}
            </button>
          ))}
        </div>

        {activeShopTab === 'staff' && (
          <div>
            <UpgradeCard
              title="Hire Barista"
              cost={game.upgradeCosts.barista}
              onClick={() => game.upgradeBarista()}
              description="Hire an additional barista to serve more customers"
            />
            <UpgradeCard
              title="Upgrade Speed"
              cost={game.upgradeCosts.speed}
              onClick={() => game.upgradeSpeed()}
              description="Increase barista movement speed"
            />
          </div>
        )}

        {activeShopTab === 'equipment' && (
          <div>
            <UpgradeCard
              title="Coffee Machine Upgrade"
              cost={game.upgradeCosts.efficiency}
              onClick={() => game.upgradeEfficiency()}
              description="Reduce coffee preparation time"
            />
          </div>
        )}

        {activeShopTab === 'shop' && (
          <div>
            <UpgradeCard
              title="Increase Capacity"
              cost={game.upgradeCosts.capacity}
              onClick={() => game.upgradeCapacity()}
              description="Allow more customers in the shop"
            />
            <UpgradeCard
              title="Increase Coffee Price"
              cost={game.upgradeCosts.price}
              onClick={() => game.upgradePrice()}
              description="Charge more for each coffee"
            />
          </div>
        )}
      </Modal>
    </div>
  );
};

export default GameUI;
```

```js src/game/fontManifest.js
export const FONTS = [
  'Quicksand:400,500,700',
  'Roboto:400,700',
  'Orbitron:400,700',
]
```

These changes create a modern, coffee-shop themed UI with organized menus and a clean HUD. The upgrades are now categorized and presented in a more appealing way, while maintaining all the original functionality.
__________________
