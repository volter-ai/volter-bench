Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
1. Analysis and Solution:
The issue is that the tests aren't properly handling the _QuitWholeGame exception. According to the engine's design, this exception should be caught in tests when using _quit_whole_game(). The tests need to catch both RandomModeGracefulExit and AbstractApp._QuitWholeGame exceptions.

The fix requires:
- Keep models as pure data schemas
- Keep scene logic unchanged
- Modify tests to properly handle both types of graceful exits
- Stay within engine capabilities

Here are the fixed test files:

# Excerpt ID: dd282a4c-10c2-4c55-ab58-d2ad6ee7e168
```python main_game/tests/test_main_game_scene.py
import pytest
from mini_game_engine.engine.lib import HumanListener, RandomModeGracefulExit, AbstractApp
from main_game.main import App
from main_game.scenes.main_game_scene import MainGameScene

def test_main_game_scene_random():
    for i in range(10):
        app = App()
        HumanListener.random_mode = True
        HumanListener.random_mode_counter = 30
        
        player = app.create_player(f"test_player_{i}")
        scene = MainGameScene(app, player)
        
        try:
            scene.run()
        except (RandomModeGracefulExit, AbstractApp._QuitWholeGame) as e:
            print(f"Random run {i} completed successfully")
```

# Excerpt ID: 39beea26-fd5f-4f29-bfc9-1c17190e0c3f
```python main_game/tests/test_main_menu_scene.py
import pytest
from mini_game_engine.engine.lib import HumanListener, RandomModeGracefulExit, AbstractApp
from main_game.main import App
from main_game.scenes.main_menu_scene import MainMenuScene

def test_main_menu_scene_random():
    for i in range(10):
        app = App()
        HumanListener.random_mode = True
        HumanListener.random_mode_counter = 10
        
        player = app.create_player(f"test_player_{i}")
        scene = MainMenuScene(app, player)
        
        try:
            scene.run()
        except (RandomModeGracefulExit, AbstractApp._QuitWholeGame) as e:
            print(f"Random run {i} completed successfully")
```

The key changes are:
1. Added import for AbstractApp._QuitWholeGame
2. Modified try/except blocks to catch both types of graceful exits
3. Kept all other functionality the same
4. Maintained architectural requirements
5. Stayed within engine capabilities

This should resolve the test failures while maintaining the game's architecture and functionality.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
