timestamp,run_id,agent_id,ladder,run,status,error,traceback,logs,project_directory,commit_url,branch_name,project_type,override_model,strong_completion_model,base_chat_completion_model,fast_chat_completion_model,strong_coding_completion_model
2024-11-13 14:19:38,b320f2b3-0b37-41ff-a723-86f3370d3682,OneShotCoreAgent,creature_battler_01,1,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_01_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:20:32,5a1fe7ce-a2ac-43e7-b177-66a836776147,OneShotCoreAgent,creature_battler_01,2,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_01_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:21:58,5dd23e45-9888-402a-ba0c-d9488a00c33b,OneShotCoreAgent,creature_battler_01,3,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_01_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:22:50,690307fb-8b7d-48f1-ab73-d60e4c4869ef,OneShotCoreAgent,creature_battler_01,4,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_01_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:23:29,d592f105-ea18-48f8-b182-c03c8263b8b3,OneShotCoreAgent,creature_battler_01,5,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_01_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:24:38,8700f600-34b4-4d85-bef3-f40822bea7ab,OneShotCoreAgent,creature_battler_01,6,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_01_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:25:21,1f796ad3-b5de-495f-beaf-d8d0bbebeffe,OneShotCoreAgent,creature_battler_01,7,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_01_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:26:53,97cd8008-3856-4589-87f0-32ea956bf5ce,OneShotCoreAgent,creature_battler_02,1,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_02_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:27:31,f817e16e-971e-4d08-b3f7-d8134f0dbdaa,OneShotCoreAgent,creature_battler_02,2,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_02_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:29:48,7582d176-fa2a-44b0-a019-cbcea5eb9159,OneShotCoreAgent,creature_battler_02,4,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_02_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:30:02,73a1fef7-97fa-4555-92bf-b250ea7648cc,OneShotCoreAgent,creature_battler_02,3,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_02_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:32:12,ac19c90e-2d24-4506-aedc-bfedb3f18183,OneShotCoreAgent,creature_battler_02,5,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_02_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:32:17,1abbc284-e9da-4a24-8143-539fa1d65b8a,OneShotCoreAgent,creature_battler_02,6,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_02_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:34:01,bb37a25b-e91f-4905-bff3-eb0585243ebb,OneShotCoreAgent,creature_battler_02,7,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_02_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:34:56,73782745-e59c-4552-b824-b88d7ce983c1,OneShotCoreAgent,creature_battler_03,1,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_03_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:36:29,b8e1aa7e-b442-41ce-a21d-3578518aceb8,OneShotCoreAgent,creature_battler_03,2,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_03_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:37:07,aba4d0c7-99bd-4b37-87cb-abb7c92d4116,OneShotCoreAgent,creature_battler_03,3,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_03_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:39:00,5c41864a-0712-49b6-ab1f-c03a807c0fb9,OneShotCoreAgent,creature_battler_03,5,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_03_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:39:20,3bc36cf1-3cf5-41f3-87ea-85b9d7c704ab,OneShotCoreAgent,creature_battler_03,4,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_03_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:41:00,079290d6-1e2d-4507-8e5b-e113b7159d46,OneShotCoreAgent,creature_battler_03,6,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_03_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:42:11,ee473be8-4fa7-47e5-a7fa-8528f50286ed,OneShotCoreAgent,creature_battler_03,7,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_03_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:43:21,85c4212c-8a46-4b34-be65-03e470265262,OneShotCoreAgent,creature_battler_04,1,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_04_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:44:11,7120ee3a-76a4-432d-b238-f94cfd1a7af3,OneShotCoreAgent,creature_battler_04,2,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_04_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:45:56,130fa57f-92f5-4612-bf47-9bb2f29594e0,OneShotCoreAgent,creature_battler_04,3,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_04_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:49:00,33c51aa3-8d7e-4c52-a8a8-52065131ff9d,OneShotCoreAgent,creature_battler_04,5,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_04_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:50:23,74d4f75e-0b57-4ec4-ae93-405ba99ba47e,OneShotCoreAgent,creature_battler_04,4,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_04_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:52:38,2c5612f0-2dee-4ef2-9abd-dc5242c4635c,OneShotCoreAgent,creature_battler_04,6,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_04_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:53:20,c9edc884-d7d8-43db-9f2b-411ab0d73ee0,OneShotCoreAgent,creature_battler_04,7,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_04_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:55:47,b8f71a93-856a-4d6f-b693-ed887dc903af,OneShotCoreAgent,creature_battler_05,1,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_05_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:56:33,05fb68c3-9896-48c6-93a6-010838b58dfa,OneShotCoreAgent,creature_battler_05,2,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_05_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:58:56,c205854f-f36d-4984-b2fd-ae79d10fff8e,OneShotCoreAgent,creature_battler_05,3,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform linux -- Python 3.11.10, pytest-7.3.1, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: Faker-30.10.0, metadata-3.1.1, anyio-4.6.2.post1, timeout-2.3.1, time-machine-2.16.0, html-3.2.0, asyncio-0.23.8, sugar-0.9.7, cov-4.1.0
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
__________ TestMainGameSceneRandomRun.test_main_game_scene_random_run __________

self = <tests.test_main_game_scene.TestMainGameSceneRandomRun object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_random_run(self, app):
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 30  # More moves needed for complex battle scene
    
            player = app.create_player(f""player_{i}"")
            scene = MainGameScene(app, player)
    
            with patch.object(MainGameScene, '_quit_whole_game') as mock_quit:
                try:
>                   scene.run()

main_game/tests/test_main_game_scene.py:24: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:121: in run
    self.handle_knocked_out_creature(defender)
main_game/scenes/main_game_scene.py:85: in handle_knocked_out_creature
    new_creature = self._wait_for_choice(player, creature_choices).thing
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
player = Default Player, choices = []

    def _wait_for_choice(self, player: AbstractPlayer, choices: List[AbstractChoice]) -> AbstractChoice:
>       assert len(choices) > 0, ""`_wait_for_choice` was called with no choices""
E       AssertionError: `_wait_for_choice` was called with no choices

../../../../mge2/mini_game_engine/engine/lib.py:424: AssertionError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Foe sent out Dumbird!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Dumbird used Tackle! Dealt 4 damage to Bubwool!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Foe sent out Scizard!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
You sent out Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Fireball! Dealt 13 damage to Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Tackle! Dealt 9 damage to Dumbird!
You lose!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameSceneRandomRun::test_main_game_scene_random_run - AssertionError: `_wait_for_choice` was called with no choices
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py"", line 72, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 274, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/lib-volter-mge2/mge_agents/internal/game/pytest_runner_agent/logic.py"", line 30, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 141, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform linux -- Python 3.11.10, pytest-7.3.1, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: Faker-30.10.0, metadata-3.1.1, anyio-4.6.2.post1, timeout-2.3.1, time-machine-2.16.0, html-3.2.0, asyncio-0.23.8, sugar-0.9.7, cov-4.1.0
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
__________ TestMainGameSceneRandomRun.test_main_game_scene_random_run __________

self = <tests.test_main_game_scene.TestMainGameSceneRandomRun object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_random_run(self, app):
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 30  # More moves needed for complex battle scene
    
            player = app.create_player(f""player_{i}"")
            scene = MainGameScene(app, player)
    
            with patch.object(MainGameScene, '_quit_whole_game') as mock_quit:
                try:
>                   scene.run()

main_game/tests/test_main_game_scene.py:24: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:121: in run
    self.handle_knocked_out_creature(defender)
main_game/scenes/main_game_scene.py:85: in handle_knocked_out_creature
    new_creature = self._wait_for_choice(player, creature_choices).thing
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
player = Default Player, choices = []

    def _wait_for_choice(self, player: AbstractPlayer, choices: List[AbstractChoice]) -> AbstractChoice:
>       assert len(choices) > 0, ""`_wait_for_choice` was called with no choices""
E       AssertionError: `_wait_for_choice` was called with no choices

../../../../mge2/mini_game_engine/engine/lib.py:424: AssertionError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Foe sent out Dumbird!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Dumbird used Tackle! Dealt 4 damage to Bubwool!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Foe sent out Scizard!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
You sent out Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Fireball! Dealt 13 damage to Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Tackle! Dealt 9 damage to Dumbird!
You lose!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameSceneRandomRun::test_main_game_scene_random_run - AssertionError: `_wait_for_choice` was called with no choices
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 93, in execute_agent
    asyncio.run(agent.execute())
  File ""/opt/hostedtoolcache/Python/3.11.10/x64/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/opt/hostedtoolcache/Python/3.11.10/x64/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/opt/hostedtoolcache/Python/3.11.10/x64/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/home/runner/work/volter-monorepo/volter-monorepo/volter-monorepo/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py"", line 79, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform linux -- Python 3.11.10, pytest-7.3.1, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: Faker-30.10.0, metadata-3.1.1, anyio-4.6.2.post1, timeout-2.3.1, time-machine-2.16.0, html-3.2.0, asyncio-0.23.8, sugar-0.9.7, cov-4.1.0
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
__________ TestMainGameSceneRandomRun.test_main_game_scene_random_run __________

self = <tests.test_main_game_scene.TestMainGameSceneRandomRun object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_random_run(self, app):
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 30  # More moves needed for complex battle scene
    
            player = app.create_player(f""player_{i}"")
            scene = MainGameScene(app, player)
    
            with patch.object(MainGameScene, '_quit_whole_game') as mock_quit:
                try:
>                   scene.run()

main_game/tests/test_main_game_scene.py:24: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:121: in run
    self.handle_knocked_out_creature(defender)
main_game/scenes/main_game_scene.py:85: in handle_knocked_out_creature
    new_creature = self._wait_for_choice(player, creature_choices).thing
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
player = Default Player, choices = []

    def _wait_for_choice(self, player: AbstractPlayer, choices: List[AbstractChoice]) -> AbstractChoice:
>       assert len(choices) > 0, ""`_wait_for_choice` was called with no choices""
E       AssertionError: `_wait_for_choice` was called with no choices

../../../../mge2/mini_game_engine/engine/lib.py:424: AssertionError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Foe sent out Dumbird!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Dumbird used Tackle! Dealt 4 damage to Bubwool!
Bubwool used Tackle! Dealt 9 damage to Dumbird!
Foe sent out Scizard!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
Bubwool used Lick! Dealt 6 damage to Scizard!
Scizard used Fireball! Dealt 2 damage to Bubwool!
Bubwool used Tackle! Dealt 5 damage to Scizard!
Scizard used Tackle! Dealt 8 damage to Bubwool!
You sent out Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Fireball! Dealt 13 damage to Dumbird!
Dumbird used Tackle! Dealt 1 damage to Scizard!
Scizard used Tackle! Dealt 9 damage to Dumbird!
You lose!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameSceneRandomRun::test_main_game_scene_random_run - AssertionError: `_wait_for_choice` was called with no choices
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_05_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 14:59:53,2d72cfa2-d3d9-4cd1-a50f-54f518387a43,OneShotCoreAgent,creature_battler_05,4,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_05_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 15:03:01,b48a6921-7b0f-4367-9a47-4e12f8f6e9c4,OneShotCoreAgent,creature_battler_05,5,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_05_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 15:03:21,64d1aa96-b162-427f-bbbf-b7d9d33da924,OneShotCoreAgent,creature_battler_05,6,success,,,['new_prompt_logs/999999_485844_OneShotCoreAgent'],ladder/creature_battler_05_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
2024-11-13 15:08:46,a1fe1496-23d9-45e5-a8ab-51762d96916c,OneShotCoreAgent,creature_battler_05,7,success,,,['new_prompt_logs/999999_519332_OneShotCoreAgent'],ladder/creature_battler_05_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/32672d2ba602c8be9c13c4fcff684a1f014104e1/packages/lib-volter-mge2/mge_agents/internal/one_shot_gen/one_shot_core.py,main,mge2_game,,gpt-4o,gpt-4o,gpt-4o-mini,claude-3-5-sonnet-20241022
