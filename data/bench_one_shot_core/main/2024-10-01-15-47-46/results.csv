timestamp,run_id,agent_id,ladder,run,status,error,traceback,logs,project_directory,commit_url
2024-10-01 15:49:34,d63be981-e522-4845-9a96-c2c0a2ef462f,OneShotCoreAgent,creature_battler_01,2,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_784008_OneShotCoreAgent'],ladder/creature_battler_01_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/fbb4074203695d9296798e0877af2edb46e98d88/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:49:34,98a6c457-afe9-41be-8987-3e6367342ea8,OneShotCoreAgent,creature_battler_01,4,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainGameScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert False

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        scene_ran = False
        try:
            for _ in range(10):
                try:
                    app.transition_to_scene(""MainMenuScene"", player=player)
                    scene_ran = True
                except RandomModeGracefulExit:
                    pass
        except AbstractApp._QuitWholeGame:
            pass  # Game quit is expected behavior
    
>       assert scene_ran, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert False

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_212194_OneShotCoreAgent'],ladder/creature_battler_01_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/fbb4074203695d9296798e0877af2edb46e98d88/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:49:36,7a8f1c18-fef3-4310-a3fb-ff654c283bc0,OneShotCoreAgent,creature_battler_01,7,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainGameScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainMenuScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainGameScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainMenuScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainGameScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainGameScene should run at least once""
E       AssertionError: The MainGameScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_game_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        run_count = 0
        for _ in range(10):
            HumanListener.random_mode_counter = 100  # Reset the counter before each run
            try:
                app.transition_to_scene(""MainMenuScene"", player=player)
                run_count += 1
            except AbstractApp._QuitWholeGame:
                break  # Game ended as expected
            except RandomModeGracefulExit:
                continue  # Random mode ended, but we want to try again
    
>       assert run_count > 0, ""The MainMenuScene should run at least once""
E       AssertionError: The MainMenuScene should run at least once
E       assert 0 > 0

main_game/tests/test_main_menu_scene.py:25: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player - Bubwool (HP: 10/10)
Opponent: Default Player - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 10/10)\nOpponent: Default Player - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 7/10)
Opponent: Default Player - Bubwool (HP: 7/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 7/10)\nOpponent: Default Player - Bubwool (HP: 7/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 4/10)
Opponent: Default Player - Bubwool (HP: 4/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 4/10)\nOpponent: Default Player - Bubwool (HP: 4/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
Opponent's Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Player: Default Player - Bubwool (HP: 1/10)
Opponent: Default Player - Bubwool (HP: 1/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player - Bubwool (HP: 1/10)\nOpponent: Default Player - Bubwool (HP: 1/10)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_304946_OneShotCoreAgent'],ladder/creature_battler_01_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/fbb4074203695d9296798e0877af2edb46e98d88/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:50:21,69329989-93a2-48e7-a129-060162138553,OneShotCoreAgent,creature_battler_02,2,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:24: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:41: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:83: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Turn: 0/10
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 0/10\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 1/10
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 1/10\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Turn: 2/10
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Turn: 2/10\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_2/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_310843_OneShotCoreAgent'],ladder/creature_battler_02_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:51:46,739a4e5f-4cf4-4859-a0fb-0d46073e28c0,OneShotCoreAgent,creature_battler_02,7,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        scene = MainMenuScene(app, player)
    
        try:
            scene.run()
        except AbstractApp._QuitWholeGame:
            pass  # Expected exception when the game ends
    
>       assert app.transition_count > 0, ""The game should have transitioned at least once""
E       AssertionError: The game should have transitioned at least once
E       assert 0 > 0
E        +  where 0 = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>.transition_count

main_game/tests/test_main_menu_scene.py:50: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
Available choices: ['Play', 'Quit']
Player chose: Quit
Quitting the game
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        scene = MainMenuScene(app, player)
    
        try:
            scene.run()
        except AbstractApp._QuitWholeGame:
            pass  # Expected exception when the game ends
    
>       assert app.transition_count > 0, ""The game should have transitioned at least once""
E       AssertionError: The game should have transitioned at least once
E       assert 0 > 0
E        +  where 0 = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>.transition_count

main_game/tests/test_main_menu_scene.py:50: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
Available choices: ['Play', 'Quit']
Player chose: Quit
Quitting the game
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        scene = MainMenuScene(app, player)
    
        try:
            scene.run()
        except AbstractApp._QuitWholeGame:
            pass  # Expected exception when the game ends
    
>       assert app.transition_count > 0, ""The game should have transitioned at least once""
E       AssertionError: The game should have transitioned at least once
E       assert 0 > 0
E        +  where 0 = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>.transition_count

main_game/tests/test_main_menu_scene.py:50: AssertionError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
Available choices: ['Play', 'Quit']
Player chose: Quit
Quitting the game
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_7/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_212194_OneShotCoreAgent'],ladder/creature_battler_02_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:52:01,eb70a3f9-11c9-442a-9c0a-203adb13b6e1,OneShotCoreAgent,creature_battler_01,1,success,,,['new_prompt_logs/1727812072_800825_OneShotCoreAgent'],ladder/creature_battler_01_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:52:25,0548179f-6ef6-4ae4-b156-5e6dc92965fa,OneShotCoreAgent,creature_battler_03,1,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_304946_OneShotCoreAgent'],ladder/creature_battler_03_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:52:25,4eab28b0-e9ca-4d96-b981-f9b03978740e,OneShotCoreAgent,creature_battler_02,6,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        scene = MainGameScene(app, player)
>       scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        scene = MainGameScene(app, player)
>       scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        scene = MainGameScene(app, player)
>       scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:23: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:40: in run
    if self._check_battle_end():
main_game/scenes/main_game_scene.py:86: in _check_battle_end
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:28: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_6/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_784008_OneShotCoreAgent'],ladder/creature_battler_02_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:53:11,fdb96077-a9a2-45c7-8c80-243f7caf2c98,OneShotCoreAgent,creature_battler_03,2,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_310843_OneShotCoreAgent'],ladder/creature_battler_03_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:53:59,e7c4bf93-effb-4be4-a658-eed083c2d4a0,OneShotCoreAgent,creature_battler_02,3,success,,,['new_prompt_logs/1727812072_127257_OneShotCoreAgent'],ladder/creature_battler_02_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:54:13,139ae573-d669-41b6-a611-7f5e26e90b4c,OneShotCoreAgent,creature_battler_02,4,success,,,['new_prompt_logs/1727812072_244448_OneShotCoreAgent'],ladder/creature_battler_02_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:54:20,7a4b0732-337c-458e-b2cd-4ad5045695dc,OneShotCoreAgent,creature_battler_01,3,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle FAILED [100%]

=================================== FAILURES ===================================
__________________ TestMainGameScene.test_player_wins_battle ___________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 10
        scene.opponent_creature.hp = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 7
E       assert 10 == 7
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:60: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 10/10)
Opponent: Player 2 - Bubwool (HP: 3/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 10/10)\nOpponent: Player 2 - Bubwool (HP: 3/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
____________________ TestMainGameScene.test_bot_wins_battle ____________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_bot_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 3
        scene.opponent_creature.hp = 10
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 0
E       assert 10 == 0
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:91: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 3/10)
Opponent: Player 2 - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 3/10)\nOpponent: Player 2 - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle FAILED [100%]

=================================== FAILURES ===================================
__________________ TestMainGameScene.test_player_wins_battle ___________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 10
        scene.opponent_creature.hp = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 7
E       assert 10 == 7
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:60: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 10/10)
Opponent: Player 2 - Bubwool (HP: 3/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 10/10)\nOpponent: Player 2 - Bubwool (HP: 3/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
____________________ TestMainGameScene.test_bot_wins_battle ____________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_bot_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 3
        scene.opponent_creature.hp = 10
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 0
E       assert 10 == 0
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:91: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 3/10)
Opponent: Player 2 - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 3/10)\nOpponent: Player 2 - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle FAILED [100%]

=================================== FAILURES ===================================
__________________ TestMainGameScene.test_player_wins_battle ___________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 10
        scene.opponent_creature.hp = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 7
E       assert 10 == 7
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:60: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 10/10)
Opponent: Player 2 - Bubwool (HP: 3/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 10/10)\nOpponent: Player 2 - Bubwool (HP: 3/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You won the battle!
BotListener:on_show_event:show_text: {'text': 'You lost the battle!'}
____________________ TestMainGameScene.test_bot_wins_battle ____________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_bot_wins_battle(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        bot = app.create_bot(""default_player"")
        bot.display_name = ""Player 2""
    
        scene = MainGameScene(app, player)
        scene.opponent = bot
        scene.player_creature.hp = 3
        scene.opponent_creature.hp = 10
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Turn 1: Player chooses Tackle
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Turn 1: Bot chooses Tackle
        choices = runner.dequeue_wait_for_choice(bot)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        # Check final state
>       assert scene.player_creature.hp == 0
E       assert 10 == 0
E        +  where 10 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:91: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Player 1 - Bubwool (HP: 3/10)
Opponent: Player 2 - Bubwool (HP: 10/10)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Player 1 - Bubwool (HP: 3/10)\nOpponent: Player 2 - Bubwool (HP: 10/10)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Player 1, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Player 2, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Your Bubwool used Tackle and dealt 3 damage!
BotListener:on_show_event:show_text: {'text': ""Opponent's Bubwool used Tackle and dealt 3 damage!""}
BotListener:on_show_event:show_text: {'text': 'Your Bubwool used Tackle and dealt 3 damage!'}
Opponent's Bubwool used Tackle and dealt 3 damage!
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_bot_wins_battle
========================= 2 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_919630_OneShotCoreAgent'],ladder/creature_battler_01_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:54:28,7e17bcca-eeb2-4140-a6b2-b5e1cea81c91,OneShotCoreAgent,creature_battler_03,3,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_212194_OneShotCoreAgent'],ladder/creature_battler_03_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:54:54,352b731c-d452-4bb3-b134-2cd0b2ae13ea,OneShotCoreAgent,creature_battler_03,4,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_800825_OneShotCoreAgent'],ladder/creature_battler_03_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:55:10,83bc5047-4537-44fc-b0b7-662e85309798,OneShotCoreAgent,creature_battler_02,5,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_menu_scene.py::test_main_menu_scene FAILED     [ 33%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_play_game PASSED [ 66%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_quit_game PASSED [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_menu_scene.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:33: in run
    player_skill = self._player_choice_phase()
main_game/scenes/main_game_scene.py:43: in _player_choice_phase
    choice = self._wait_for_choice(self.player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Tackle)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_menu_scene.py:9
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py:9: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_menu_scene.py::test_main_menu_scene FAILED     [ 33%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_play_game PASSED [ 66%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_quit_game PASSED [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_menu_scene.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:33: in run
    player_skill = self._player_choice_phase()
main_game/scenes/main_game_scene.py:43: in _player_choice_phase
    choice = self._wait_for_choice(self.player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Tackle)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_menu_scene.py:9
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py:9: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_menu_scene.py::test_main_menu_scene FAILED     [ 33%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_play_game PASSED [ 66%]
main_game/tests/test_main_menu_scene.py::TestMainMenuScene::test_quit_game PASSED [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_menu_scene.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:33: in run
    player_skill = self._player_choice_phase()
main_game/scenes/main_game_scene.py:43: in _player_choice_phase
    choice = self._wait_for_choice(self.player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Tackle)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 2/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 2/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'You won the battle!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_menu_scene.py:9
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py:9: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_732168_OneShotCoreAgent'],ladder/creature_battler_02_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:55:13,62599131-5e72-472b-b04d-40cbe82275ff,OneShotCoreAgent,creature_battler_03,6,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 4/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!
Default Player, you have lost the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameEnd'}
game exited gracefully
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 9/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 1/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainGameScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 7/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 2/10

Basic Opponent's Scizard:
HP: 3/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 4 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 10/10

Basic Opponent's Scizard:
HP: 11/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/10

Basic Opponent's Scizard:
HP: 8/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 1 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 5/10

Basic Opponent's Scizard:
HP: 5/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 4 damage to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 1/10

Basic Opponent's Scizard:
HP: 2/11

Available skills:
Tackle, Lick

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 3 damage to Scizard!
Congratulations Default Player, you have won the battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - common...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
============================== 3 failed in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_784008_OneShotCoreAgent'],ladder/creature_battler_03_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:55:28,c60f2a9b-f22c-4e8e-88a3-9df5b5d42f00,OneShotCoreAgent,creature_battler_02,1,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene_battle_ends_correctly PASSED [ 33%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameSceneRandom::test_main_game_scene PASSED [100%]

=================================== FAILURES ===================================
______________ test_main_game_scene_equal_speed_consistent_order _______________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene_equal_speed_consistent_order(app, player):
        opponent = app.create_bot(""basic_opponent"")
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 3
        scene.opponent_creature.speed = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
>       assert scene.player_creature.hp == initial_player_hp
E       assert 6 == 10
E        +  where 6 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:77: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:10
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py:10: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py)
    class TestApp(App):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene_battle_ends_correctly PASSED [ 33%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameSceneRandom::test_main_game_scene PASSED [100%]

=================================== FAILURES ===================================
______________ test_main_game_scene_equal_speed_consistent_order _______________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene_equal_speed_consistent_order(app, player):
        opponent = app.create_bot(""basic_opponent"")
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 3
        scene.opponent_creature.speed = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
>       assert scene.player_creature.hp == initial_player_hp
E       assert 6 == 10
E        +  where 6 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:77: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:10
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py:10: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py)
    class TestApp(App):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene_battle_ends_correctly PASSED [ 33%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order FAILED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameSceneRandom::test_main_game_scene PASSED [100%]

=================================== FAILURES ===================================
______________ test_main_game_scene_equal_speed_consistent_order _______________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene_equal_speed_consistent_order(app, player):
        opponent = app.create_bot(""basic_opponent"")
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 3
        scene.opponent_creature.speed = 3
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
>       assert scene.player_creature.hp == initial_player_hp
E       assert 6 == 10
E        +  where 6 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:77: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 10/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 10/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle and dealt 3 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle and dealt 3 damage to Scizard!'}
Scizard used Tackle and dealt 4 damage to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle and dealt 4 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 6/10)
Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)
Available skills:
- Tackle
BotListener:on_show_event:show_text: {'text': 'Player: Default Player\nCreature: Bubwool (HP: 6/10)\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\nAvailable skills:\n- Tackle'}
_wait_for_choice(Default Player, [Button(Tackle)])
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:10
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py:10: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_02_1/main_game/tests/test_main_game_scene.py)
    class TestApp(App):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_equal_speed_consistent_order
==================== 1 failed, 2 passed, 1 warning in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_353137_OneShotCoreAgent'],ladder/creature_battler_02_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:55:31,4f0f53a1-3e54-4031-a2a7-6bdb822d9d10,OneShotCoreAgent,creature_battler_01,5,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_battle FAILED  [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_battle 
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 96, in run_pytest
    result = subprocess.run(
             ^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 2116, in _communicate
    self._check_timeout(endtime, orig_timeout, stdout, stderr)
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1253, in _check_timeout
    raise TimeoutExpired(
subprocess.TimeoutExpired: Command '['python', '-c', '\nimport sys\nimport os\nimport random\n\nrandom.seed(42)\n\n# Add the project root to sys.path\nsys.path.insert(0, os.getcwd())\n\nimport pytest\n\n# Run pytest with arguments\nexit_code = pytest.main([\'-v\', \'main_game/tests/test_main_game_scene.py\'])\n\n# Print the exit code (will be captured in subprocess output)\nprint(f""PYTEST_EXIT_CODE: {exit_code}"")\n\n# Exit with pytest\'s exit code\nsys.exit(exit_code)\n']' timed out after 5 seconds

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 104, in run_pytest
    raise AssertionError(
AssertionError: Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_battle FAILED  [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_battle 


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_battle FAILED  [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_battle 

",['new_prompt_logs/1727812072_793775_OneShotCoreAgent'],ladder/creature_battler_01_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:56:09,b9505006-ff29-449f-99f4-be1d3d55fea3,OneShotCoreAgent,creature_battler_03,7,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:18: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:27: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 2/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 4/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 4/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 9/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 9/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 1/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 2/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 1/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 2/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 7/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 7/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 3/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 3/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:18: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:27: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 2/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 4/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 4/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 9/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 9/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 1/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 2/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 1/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 2/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 7/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 7/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 3/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 3/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:18: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:25: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:51: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:27: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 2/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 4/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 2/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 4/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}
You lost the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 9/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 8/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 9/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 8/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 5/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 5/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 1/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 2/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 1/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 2/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES

Player: Default Player
Creature: Bubwool (HP: 10/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Tackle on Bubwool for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle on Bubwool for 4 damage!'}

Player: Default Player
Creature: Bubwool (HP: 6/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 7/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 6/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 7/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick on Scizard for 4 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 4 damage!'}
Scizard used Fireball on Bubwool for 1 damage!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball on Bubwool for 1 damage!'}

Player: Default Player
Creature: Bubwool (HP: 5/10)

Opponent: Basic Opponent
Creature: Scizard (HP: 3/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Default Player\nCreature: Bubwool (HP: 5/10)\n\nOpponent: Basic Opponent\nCreature: Scizard (HP: 3/11)\n\nAvailable skills:\nTackle, Lick\n        '}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle on Scizard for 3 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Tackle on Scizard for 3 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
Battle 1 of 3 completed.
Welcome to Creature Battle!
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_310843_OneShotCoreAgent'],ladder/creature_battler_03_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:56:37,80524db6-9a9d-4601-96f8-8b669d7b466a,OneShotCoreAgent,creature_battler_04,3,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        game_ended = False
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
                scene.run()
                game_ended = True
        except AbstractApp._QuitWholeGame:
            pass  # This exception is expected when quitting the game
        finally:
            HumanListener.random_mode = False
    
>       assert game_ended, ""The game should have run at least once before quitting""
E       AssertionError: The game should have run at least once before quitting
E       assert False

main_game/tests/test_main_game_scene.py:47: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 24/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick!
Scizard took 6 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 16/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 29/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 8/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 24/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
You lost the battle!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        game_ended = False
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
                scene.run()
                game_ended = True
        except AbstractApp._QuitWholeGame:
            pass  # This exception is expected when quitting the game
        finally:
            HumanListener.random_mode = False
    
>       assert game_ended, ""The game should have run at least once before quitting""
E       AssertionError: The game should have run at least once before quitting
E       assert False

main_game/tests/test_main_game_scene.py:47: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 24/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick!
Scizard took 6 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 16/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 29/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 8/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 24/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
You lost the battle!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py .                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        game_ended = False
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
                scene.run()
                game_ended = True
        except AbstractApp._QuitWholeGame:
            pass  # This exception is expected when quitting the game
        finally:
            HumanListener.random_mode = False
    
>       assert game_ended, ""The game should have run at least once before quitting""
E       AssertionError: The game should have run at least once before quitting
E       assert False

main_game/tests/test_main_game_scene.py:47: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 24/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Lick!
Scizard took 6 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 16/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 29/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
Player: Default Player
Creature: Bubwool (HP: 8/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 24/40)

SKIPPING PERSISTIES
SKIPPING PERSISTIES
Bubwool used Tackle!
Scizard took 5 damage!
Scizard used Tackle!
Bubwool took 8 damage!
You lost the battle!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_3/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Assert...
=================== 1 failed, 2 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_919630_OneShotCoreAgent'],ladder/creature_battler_04_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:57:35,a6f56671-16cf-4498-b958-c3a9ff9b7c7a,OneShotCoreAgent,creature_battler_01,6,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins FAILED [ 40%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins 
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 96, in run_pytest
    result = subprocess.run(
             ^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 2116, in _communicate
    self._check_timeout(endtime, orig_timeout, stdout, stderr)
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1253, in _check_timeout
    raise TimeoutExpired(
subprocess.TimeoutExpired: Command '['python', '-c', '\nimport sys\nimport os\nimport random\n\nrandom.seed(42)\n\n# Add the project root to sys.path\nsys.path.insert(0, os.getcwd())\n\nimport pytest\n\n# Run pytest with arguments\nexit_code = pytest.main([\'-v\', \'main_game/tests/test_main_game_scene.py\'])\n\n# Print the exit code (will be captured in subprocess output)\nprint(f""PYTEST_EXIT_CODE: {exit_code}"")\n\n# Exit with pytest\'s exit code\nsys.exit(exit_code)\n']' timed out after 5 seconds

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 104, in run_pytest
    raise AssertionError(
AssertionError: Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins FAILED [ 40%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins 


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins FAILED [ 40%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins 

",['new_prompt_logs/1727812072_135497_OneShotCoreAgent'],ladder/creature_battler_01_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:58:40,62fde02c-2877-4c4f-a0da-fa9d95a35286,OneShotCoreAgent,creature_battler_03,5,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_all_battles FAILED [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_and_quits PASSED [100%]

=================================== FAILURES ===================================
_________________________ test_player_wins_all_battles _________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_all_battles(app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Player 2""
    
        # Modify player's creature (Bubwool)
        player.creatures[0].speed = 10
        player.creatures[0].attack = 10
        player.creatures[0].defense = 5
    
        # Modify opponent's creature (Scizard)
        opponent.creatures[0].speed = 5
        opponent.creatures[0].defense = 1
        opponent.creatures[0].hp = 15
        opponent.creatures[0].max_hp = 15
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        for battle in range(3):
            # Player's turn
            choices = runner.dequeue_wait_for_choice(player)
            lick_skill = find_button(choices, ""Lick"")
            runner.make_choice(lick_skill)
    
            # Opponent's turn
            choices = runner.dequeue_wait_for_choice(opponent)
            tackle_skill = find_button(choices, ""Tackle"")
            runner.make_choice(tackle_skill)
    
            # Battle end
            if battle < 2:
                choices = runner.dequeue_wait_for_choice(player)
                continue_button = find_button(choices, ""Continue"")
                runner.make_choice(continue_button)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
        assert scene.battle_count == 3
        assert scene.player_creature.hp > 0
>       assert scene.opponent_creature.hp <= 0
E       assert 11 <= 0
E        +  where 11 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:75: AssertionError
----------------------------- Captured stdout call -----------------------------

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
You've reached the maximum number of battles.
BotListener:on_show_event:show_text: {'text': ""You've reached the maximum number of battles.""}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_player_wins_all_battles
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_all_battles FAILED [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_and_quits PASSED [100%]

=================================== FAILURES ===================================
_________________________ test_player_wins_all_battles _________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_all_battles(app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Player 2""
    
        # Modify player's creature (Bubwool)
        player.creatures[0].speed = 10
        player.creatures[0].attack = 10
        player.creatures[0].defense = 5
    
        # Modify opponent's creature (Scizard)
        opponent.creatures[0].speed = 5
        opponent.creatures[0].defense = 1
        opponent.creatures[0].hp = 15
        opponent.creatures[0].max_hp = 15
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        for battle in range(3):
            # Player's turn
            choices = runner.dequeue_wait_for_choice(player)
            lick_skill = find_button(choices, ""Lick"")
            runner.make_choice(lick_skill)
    
            # Opponent's turn
            choices = runner.dequeue_wait_for_choice(opponent)
            tackle_skill = find_button(choices, ""Tackle"")
            runner.make_choice(tackle_skill)
    
            # Battle end
            if battle < 2:
                choices = runner.dequeue_wait_for_choice(player)
                continue_button = find_button(choices, ""Continue"")
                runner.make_choice(continue_button)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
        assert scene.battle_count == 3
        assert scene.player_creature.hp > 0
>       assert scene.opponent_creature.hp <= 0
E       assert 11 <= 0
E        +  where 11 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:75: AssertionError
----------------------------- Captured stdout call -----------------------------

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
You've reached the maximum number of battles.
BotListener:on_show_event:show_text: {'text': ""You've reached the maximum number of battles.""}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_player_wins_all_battles
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::test_player_wins_all_battles FAILED [ 66%]
main_game/tests/test_main_game_scene.py::test_player_loses_and_quits PASSED [100%]

=================================== FAILURES ===================================
_________________________ test_player_wins_all_battles _________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_player_wins_all_battles(app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player 1""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Player 2""
    
        # Modify player's creature (Bubwool)
        player.creatures[0].speed = 10
        player.creatures[0].attack = 10
        player.creatures[0].defense = 5
    
        # Modify opponent's creature (Scizard)
        opponent.creatures[0].speed = 5
        opponent.creatures[0].defense = 1
        opponent.creatures[0].hp = 15
        opponent.creatures[0].max_hp = 15
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        for battle in range(3):
            # Player's turn
            choices = runner.dequeue_wait_for_choice(player)
            lick_skill = find_button(choices, ""Lick"")
            runner.make_choice(lick_skill)
    
            # Opponent's turn
            choices = runner.dequeue_wait_for_choice(opponent)
            tackle_skill = find_button(choices, ""Tackle"")
            runner.make_choice(tackle_skill)
    
            # Battle end
            if battle < 2:
                choices = runner.dequeue_wait_for_choice(player)
                continue_button = find_button(choices, ""Continue"")
                runner.make_choice(continue_button)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
        assert scene.battle_count == 3
        assert scene.player_creature.hp > 0
>       assert scene.opponent_creature.hp <= 0
E       assert 11 <= 0
E        +  where 11 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:75: AssertionError
----------------------------- Captured stdout call -----------------------------

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
_wait_for_choice(Player 1, [Button(Continue), Button(Quit to Main Menu)])
_wait_for_choice received choice Button(Continue)

Player: Player 1
Creature: Bubwool (HP: 10/10)

Opponent: Player 2
Creature: Scizard (HP: 11/11)

Available skills:
Tackle, Lick
        
BotListener:on_show_event:show_text: {'text': '\nPlayer: Player 1\nCreature: Bubwool (HP: 10/10)\n\nOpponent: Player 2\nCreature: Scizard (HP: 11/11)\n\nAvailable skills:\nTackle, Lick\n        '}
_wait_for_choice(Player 1, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Lick)
_wait_for_choice(Player 2, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Lick on Scizard for 18 damage!
BotListener:on_show_event:show_text: {'text': 'Bubwool used Lick on Scizard for 18 damage!'}
You won the battle!
BotListener:on_show_event:show_text: {'text': 'The battle has ended.'}
You've reached the maximum number of battles.
BotListener:on_show_event:show_text: {'text': ""You've reached the maximum number of battles.""}
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_player_wins_all_battles
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_304946_OneShotCoreAgent'],ladder/creature_battler_03_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:58:58,5f1bc2a3-2f69-4af6-a1fb-c4cc5f58c7e1,OneShotCoreAgent,creature_battler_05,3,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
All creatures have been restored to full health.
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
All creatures have been restored to full health.
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
All creatures have been restored to full health.
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_310843_OneShotCoreAgent'],ladder/creature_battler_05_3/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:59:01,d1a0127c-8ed4-45b3-bf04-7baa3eb4ade0,OneShotCoreAgent,creature_battler_04,4,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
        test_listener = TestListener()
        player.set_listener(test_listener)
    
        max_iterations = 10
        min_battles = 3
    
        try:
>           app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:5
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py:5: PytestCollectionWarning: cannot collect test class 'TestListener' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py)
    class TestListener(AbstractPlayerListener):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
========================= 3 failed, 1 warning in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
        test_listener = TestListener()
        player.set_listener(test_listener)
    
        max_iterations = 10
        min_battles = 3
    
        try:
>           app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:5
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py:5: PytestCollectionWarning: cannot collect test class 'TestListener' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py)
    class TestListener(AbstractPlayerListener):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
========================= 3 failed, 1 warning in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
        test_listener = TestListener()
        player.set_listener(test_listener)
    
        max_iterations = 10
        min_battles = 3
    
        try:
>           app.transition_to_scene(""MainGameScene"", player=player)

main_game/tests/test_main_game_scene.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.run(player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:16: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:26: in run
    self._run_battle()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def _run_battle(self):
        while True:
            self._show_text(self.player, str(self))
    
            # Player Choice Phase
>           player_skill = self._player_choice_phase()
E           AttributeError: 'MainGameScene' object has no attribute '_player_choice_phase'

main_game/scenes/main_game_scene.py:46: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)
Battles played: 0/3

=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:5
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py:5: PytestCollectionWarning: cannot collect test class 'TestListener' because it has a __init__ constructor (from: temp/ladder/creature_battler_04_4/main_game/tests/test_main_game_scene.py)
    class TestListener(AbstractPlayerListener):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
========================= 3 failed, 1 warning in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_212194_OneShotCoreAgent'],ladder/creature_battler_04_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 15:59:17,f72fd7f7-1564-4105-b596-7b2bb42661bd,OneShotCoreAgent,creature_battler_05,1,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:35: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainMenuScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:23: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainMenuScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 24/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Basic Opponent's Scizard:
HP: 29/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 16/32\n\nBasic Opponent's Scizard:\nHP: 29/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 8/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 8/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 4/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 4/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 18/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 18/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 39/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 39/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Scizard used Fireball and dealt 2 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 2 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 30/32

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 30/32\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 37/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 37/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 22/32

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 22/32\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Scizard used Fireball and dealt 13 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 13 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 4/17

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 4/17\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 33/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 33/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:35: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainMenuScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:23: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainMenuScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 24/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Basic Opponent's Scizard:
HP: 29/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 16/32\n\nBasic Opponent's Scizard:\nHP: 29/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 8/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 8/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 4/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 4/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 18/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 18/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 39/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 39/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Scizard used Fireball and dealt 2 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 2 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 30/32

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 30/32\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 37/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 37/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 22/32

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 22/32\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Scizard used Fireball and dealt 13 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 13 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 4/17

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 4/17\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 33/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 33/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainGameScene(app, player)
>           scene.run()

main_game/tests/test_main_game_scene.py:35: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainMenuScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:23: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:21: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:50: in run
    raise e
main_game/scenes/main_game_scene.py:47: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.main.App object at 0x[REDACTED]>, scene_id = 'MainMenuScene'
transition_to_scene = None, kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainMenuScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 24/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Basic Opponent's Scizard:
HP: 29/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 16/32\n\nBasic Opponent's Scizard:\nHP: 29/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 12/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 12/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 8/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 8/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 4/32

Basic Opponent's Scizard:
HP: 23/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 4/32\n\nBasic Opponent's Scizard:\nHP: 23/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}
Basic Opponent's Scizard used Tackle and dealt 8 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 8 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 18/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 18/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 39/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 39/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Scizard used Fireball and dealt 2 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 2 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 30/32

Basic Opponent's Scizard:
HP: 38/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 30/32\n\nBasic Opponent's Scizard:\nHP: 38/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 7/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 7/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 37/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 37/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Basic Opponent's Dumbird:
HP: 2/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 26/32\n\nBasic Opponent's Dumbird:\nHP: 2/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}
Default Player's Bubwool used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 22/32

Basic Opponent's Scizard:
HP: 36/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 22/32\n\nBasic Opponent's Scizard:\nHP: 36/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
BotListener:on_show_event:show_text: {'text': 'Basic Opponent has no available creatures to swap!'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 7/17

Basic Opponent's Dumbird:
HP: 3/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 7/17\n\nBasic Opponent's Dumbird:\nHP: 3/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 35/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 35/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Dumbird:
HP: 10/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Dumbird:\nHP: 10/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player's Bubwool used Lick and dealt 6 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 6 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Scizard used Fireball and dealt 13 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Fireball and dealt 13 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 4/17

Basic Opponent's Scizard:
HP: 34/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 4/17\n\nBasic Opponent's Scizard:\nHP: 34/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 1 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 1 damage!""}
Basic Opponent's Scizard used Tackle and dealt 9 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Scizard used Tackle and dealt 9 damage!""}
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 33/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 33/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent's Dumbird used Tackle and dealt 4 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 4 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 17/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 17/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Basic Opponent's Dumbird:
HP: 12/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 17/17\n\nBasic Opponent's Dumbird:\nHP: 12/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Bubwool!'}
Basic Opponent swapped to Scizard!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Scizard!'}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Basic Opponent swapped to Dumbird!'}
Default Player's Bubwool used Lick and dealt 7 damage!
BotListener:on_show_event:show_text: {'text': ""Default Player's Bubwool used Lick and dealt 7 damage!""}

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 28/32\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
BotListener:on_show_event:show_text: {'text': 'Default Player swapped to Dumbird!'}
Basic Opponent's Dumbird used Tackle and dealt 5 damage!
BotListener:on_show_event:show_text: {'text': ""Basic Opponent's Dumbird used Tackle and dealt 5 damage!""}

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Basic Opponent's Dumbird:
HP: 5/17

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Dumbird:\nHP: 12/17\n\nBasic Opponent's Dumbird:\nHP: 5/17\n\n1. Attack\n2. Swap\n""}
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_1/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_353137_OneShotCoreAgent'],ladder/creature_battler_05_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:00:04,21c85328-856c-4714-9e80-6cd8516c6aba,OneShotCoreAgent,creature_battler_05,4,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainMenuScene(app, player)
>               scene.run()

main_game/tests/test_main_menu_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainMenuScene(app, player)
>               scene.run()

main_game/tests/test_main_menu_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py F                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainGameScene(app, player)
>               scene.run()

main_game/tests/test_main_game_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        try:
            for _ in range(10):
                scene = MainMenuScene(app, player)
>               scene.run()

main_game/tests/test_main_menu_scene.py:36: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
broadcast: {'__type': 'OnGameStart'}

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

_____________________ test_full_game_flow_random_with_bots _____________________

    def test_full_game_flow_random_with_bots():
        for i in range(10):
            print(f""starting random run iteration {i}"")
            HumanListener.random_mode = True
            HumanListener.random_mode_counter = 100  # 100 moves suffice for running through some common scenarios in the game
            App.matchmaking_wait_time = 0
            original_wait_time = App.matchmaking_wait_time
    
            app = App()
    
            # Create a human player
            human_player = app.create_player(""HumanPlayer"")
            human_player.set_listener(HumanListener())
    
            try:
>               app.run(human_player)

main_game/tests/test_whole_game.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:531: in run
    self.transition_to_scene(self.entry_point_scene_id, player=player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:20: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>

    def run(self):
        while True:
            self._show_text(self.player, str(self))
            self._show_text(self.opponent, str(self))
    
>           player_action = self.player_choice_phase(self.player)
E           AttributeError: 'MainGameScene' object has no attribute 'player_choice_phase'

main_game/scenes/main_game_scene.py:30: AttributeError
----------------------------- Captured stdout call -----------------------------
starting random run iteration 0
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Basic Opponent's Scizard:
HP: 40/40

1. Attack
2. Swap

BotListener:on_show_event:show_text: {'text': ""\nCreature Battle!\n\nDefault Player's Bubwool:\nHP: 32/32\n\nBasic Opponent's Scizard:\nHP: 40/40\n\n1. Attack\n2. Swap\n""}
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_4/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - Attrib...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - Attrib...
FAILED main_game/tests/test_whole_game.py::test_full_game_flow_random_with_bots
======================== 3 failed, 2 warnings in [REDACTED]s =========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_919630_OneShotCoreAgent'],ladder/creature_battler_05_4/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:00:43,f8dc9923-b810-4b7f-9325-15d35d37d4f4,OneShotCoreAgent,creature_battler_05,5,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        HumanListener.random_mode_counter = 100  # Reset the counter for each test
        for _ in range(10):
            scene = MainGameScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_game_scene.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainGameScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:21: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        HumanListener.random_mode_counter = 100  # Reset the counter for each test
        for _ in range(10):
            scene = MainGameScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_game_scene.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainGameScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:21: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py F                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_game_scene _____________________________

app = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_game_scene(app, player):
        HumanListener.random_mode = True
        HumanListener.random_mode_counter = 100  # Reset the counter for each test
        for _ in range(10):
            scene = MainGameScene(app, player)
            try:
>               scene.run()

main_game/tests/test_main_game_scene.py:41: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:46: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_game_scene.TestApp object at 0x[REDACTED]>
scene_id = 'MainGameScene', transition_to_scene = None
kwargs = {'player': Default Player}
settings = Settings(env='LOCAL', redis_host='localhost', redis_port=6379, redis_secure_auth='', enable_persistence=False, enable_...24iLCJpYXQiOjE3MjYyNTg1MDAsImV4cCI6MjA0MTgzNDUwMH0.TzEHyCSLF8NqV7ibeOqon5oukO8d31seq_-bJdTQgKs', game_id='volter-game')

        def transition_to_scene(self, scene_id: str, transition_to_scene: Optional[AbstractGameScene] = None, **kwargs):
            try:
                settings = get_settings()
                if settings.enable_persistence:
                    saved_data = self.persistence_client.retrieve(kwargs.get('player'))
                    if saved_data:
                        print(""---> Fetching data"", saved_data)
                        dehydrated_scene_stack, next_scene_name = saved_data
                        if next_scene_name:
                            new_scene_stack = []
                            for dehydrated_scene in dehydrated_scene_stack:
                                scene_kwargs = { **dehydrated_scene }
                                del scene_kwargs[""__type""]
                                new_scene = self.scene_registry.get(dehydrated_scene[""__type""]).model_validate({
                                    **scene_kwargs,
                                    **kwargs
                                })
                                new_scene_stack.append(new_scene)
                            self._scene_stack = new_scene_stack
                            for _scene in self._scene_stack:
                                _scene.player = kwargs.get('player')
                            scene_id = next_scene_name
    
                scene_factory = self.scene_registry[scene_id]
            except KeyError as e:
                raise Exception(""The scene {scene_id} is not registered, ""
                                f""all scenes should be registered using `register_scene` before `app.run()`"") from e
    
            if issubclass(scene_factory, AbstractMultiplayerScene):
                if kwargs.get(""player"") is not None:
                    raise Exception(""player argument cannot be used on a multiplayer scene, you must use 'players'"")
                if kwargs.get(""players"") is None:
                    raise Exception(""players argument must be set on a multiplayer scene"")
            scene = transition_to_scene
    
            if not scene:
                scene: AbstractGameScene = scene_factory(app=self, **kwargs)
    
            self.__run_scene(scene)
    
            # Technically the code can never reach this
>           raise FixableException(f""""""
    Scene ({scene.__class__.__name__}) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This
    probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.
    Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling
    `quit_whole_game` to signal that the game has ended.
    """""")
E   common.exceptions.FixableException: 
E   Scene (MainGameScene) terminated without calling `quit_whole_game` or `transition_to_scene` again.  This 
E   probably indicates that you have returned directly or broke from the scene's game loop, which is an antipattern.  
E   Consider transitioning to the appropriate scene, or alternatively if this is the end of the game, calling 
E   `quit_whole_game` to signal that the game has ended.

../../../../mge2/mini_game_engine/engine/lib.py:650: FixableException
----------------------------- Captured stdout call -----------------------------

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 8/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
broadcast: {'__type': 'OnGameStart'}
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 26/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 18/32

Default Player's Bubwool:
HP: 14/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
Default Player has no available creatures to swap!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 17/17

Default Player's Dumbird:
HP: 17/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 12/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 20/32

Default Player's Dumbird:
HP: 3/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 14/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 6/32

Default Player's Bubwool:
HP: 18/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 12/17

Default Player's Dumbird:
HP: 1/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!

Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 28/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Tackle and dealt 9 damage!
Default Player's Bubwool used Tackle and dealt 9 damage!

Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 3/17

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player has no available creatures to swap!
Welcome to Creature Battle!
SKIPPING PERSISTIES

Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 32/32

Default Player's Bubwool:
HP: 32/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 24/32

Default Player's Bubwool:
HP: 24/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 16/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Lick and dealt 6 damage!
Default Player's Bubwool used Lick and dealt 6 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 16/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Bubwool used Lick and dealt 7 damage!
Default Player's Bubwool used Lick and dealt 7 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Bubwool used Tackle and dealt 8 damage!
Default Player's Bubwool used Tackle and dealt 8 damage!

Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap


Creature Battle!

Default Player's Bubwool:
HP: 10/32

Default Player's Bubwool:
HP: 8/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Default Player swapped to Bubwool!
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!

Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 10/17

Default Player's Bubwool:
HP: 4/32

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 4 damage!
Default Player's Dumbird used Tackle and dealt 4 damage!
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Default Player swapped to Dumbird!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!

Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap


Creature Battle!

Default Player's Dumbird:
HP: 5/17

Default Player's Dumbird:
HP: 10/17

1. Attack
2. Swap

SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
Default Player's Dumbird used Tackle and dealt 5 damage!
SKIPPING PERSISTIES
_____________________________ test_main_menu_scene _____________________________

app = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>
player = Default Player

    def test_main_menu_scene(app, player):
        HumanListener.random_mode = True
        for _ in range(10):
            scene = MainMenuScene(app, player)
>           scene.run()

main_game/tests/test_main_menu_scene.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
main_game/scenes/main_menu_scene.py:21: in run
    self._quit_whole_game()
../../../../mge2/mini_game_engine/engine/lib.py:409: in _quit_whole_game
    self._app.quit_whole_game()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <tests.test_main_menu_scene.TestApp object at 0x[REDACTED]>

    def quit_whole_game(self):
>       raise AbstractApp._QuitWholeGame()
E       mini_game_engine.engine.lib.AbstractApp._QuitWholeGame: Game terminated gracefully. If you intended to quit the game, this exception is expected and should be caught

../../../../mge2/mini_game_engine/engine/lib.py:527: _QuitWholeGame
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
=============================== warnings summary ===============================
main_game/tests/test_main_game_scene.py:8
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py:8: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_game_scene.py)
    class TestApp(AbstractApp):

main_game/tests/test_main_menu_scene.py:18
  [REDACT]/volter-monorepo/packages/lib-volter-mge2/temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py:18: PytestCollectionWarning: cannot collect test class 'TestApp' because it has a __init__ constructor (from: temp/ladder/creature_battler_05_5/main_game/tests/test_main_menu_scene.py)
    class TestApp(AbstractApp):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene - common...
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
=================== 2 failed, 1 passed, 2 warnings in [REDACTED]s ====================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_135497_OneShotCoreAgent'],ladder/creature_battler_05_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:00:48,55ce8744-33fa-4926-87e9-8be88b8745a4,OneShotCoreAgent,creature_battler_05,2,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 3 items

main_game/tests/test_main_game_scene.py .                                [ 33%]
main_game/tests/test_main_menu_scene.py F                                [ 66%]
main_game/tests/test_whole_game.py .                                     [100%]

=================================== FAILURES ===================================
_____________________________ test_main_menu_scene _____________________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_menu_scene(app):
        HumanListener.random_mode = True
        player = app.create_player(""test_player"")
    
        for _ in range(10):
            try:
>               app.transition_to_scene(""MainMenuScene"", player=player)

main_game/tests/test_main_menu_scene.py:16: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:42: in run
    self._transition_to_scene(""MainMenuScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_menu_scene.py:19: in run
    self._transition_to_scene(""MainGameScene"")
../../../../mge2/mini_game_engine/engine/lib.py:412: in _transition_to_scene
    self._app.transition_to_scene(scene_name, player=self.player)
../../../../mge2/mini_game_engine/engine/lib.py:647: in transition_to_scene
    self.__run_scene(scene)
../../../../mge2/mini_game_engine/engine/lib.py:691: in __run_scene
    scene.run()
main_game/scenes/main_game_scene.py:29: in run
    player_action = self._player_choice_phase(self.player)
main_game/scenes/main_game_scene.py:48: in _player_choice_phase
    return self._choose_attack(player)
main_game/scenes/main_game_scene.py:62: in _choose_attack
    return self._player_choice_phase(player)
main_game/scenes/main_game_scene.py:50: in _player_choice_phase
    return self._choose_swap(player)
main_game/scenes/main_game_scene.py:70: in _choose_swap
    choice = self._wait_for_choice(player, choices)
../../../../mge2/mini_game_engine/engine/lib.py:397: in _wait_for_choice
    choice = player._listener.on_wait_for_choice(self, choices)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.lib.HumanListener object at 0x[REDACTED]>
scene = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>
choices = [Button(Back)]

    def on_wait_for_choice(self, scene: ""AbstractGameScene"", choices: List[AbstractChoice]) -> AbstractChoice:
        if HumanListener.random_mode or self.random_mode:
            assert str(scene)
            self.random_mode_counter -= 1
            if self.random_mode_counter <= 0:
>               raise RandomModeGracefulExit()
E               mini_game_engine.engine.lib.RandomModeGracefulExit: HumanListener is in random mode and the current run is now over. This is exception is expected

../../../../mge2/mini_game_engine/engine/lib.py:304: RandomModeGracefulExit
----------------------------- Captured stdout call -----------------------------
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Dumbird used Tackle!
It dealt 5 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird used Tackle!
It dealt 5 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Dumbird used Tackle!
It dealt 1 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard fainted!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
You won the battle!
Welcome to Creature Battle!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Lick!
It dealt 7 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent swapped to Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Tackle!
It dealt 9 damage to Default Player's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player swapped to Dumbird!
Basic Opponent's Scizard used Fireball!
It dealt 13 damage to Default Player's Dumbird!
Default Player's Dumbird fainted!
SKIPPING PERSISTIES
Default Player swapped to Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Basic Opponent swapped to Dumbird!
Default Player's Bubwool used Tackle!
It dealt 9 damage to Basic Opponent's Dumbird!
Basic Opponent's Dumbird fainted!
SKIPPING PERSISTIES
Basic Opponent swapped to Scizard!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Lick!
It dealt 6 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Tackle!
It dealt 8 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
Default Player's Bubwool used Tackle!
It dealt 5 damage to Basic Opponent's Scizard!
Basic Opponent's Scizard used Fireball!
It dealt 2 damage to Default Player's Bubwool!
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
SKIPPING PERSISTIES
=========================== short test summary info ============================
FAILED main_game/tests/test_main_menu_scene.py::test_main_menu_scene - mini_g...
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_793775_OneShotCoreAgent'],ladder/creature_battler_05_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:02:18,841134cb-f52a-4271-9469-b6f2518d3fbe,OneShotCoreAgent,creature_battler_04,6,failure,"After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 2. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 0 items / 3 errors

==================================== ERRORS ====================================
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_game_scene.py _
main_game/tests/test_main_game_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_menu_scene.py _
main_game/tests/test_main_menu_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_whole_game.py _
main_game/tests/test_whole_game.py:5: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
=========================== short test summary info ============================
ERROR main_game/tests/test_main_game_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_main_menu_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_whole_game.py - NameError: name 'attacker' is not ...
!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
============================== 3 errors in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 2
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 70, in execute
    await self.sdk.execute_as_task(PytestRunnerAgent, verbose=False)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/game/pytest_runner_agent/logic.py"", line 27, in execute
    output = run_pytest(test_file_path, project_root=self.sdk.project_directory, verbose=self.verbose)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 2. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 0 items / 3 errors

==================================== ERRORS ====================================
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_game_scene.py _
main_game/tests/test_main_game_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_menu_scene.py _
main_game/tests/test_main_menu_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_whole_game.py _
main_game/tests/test_whole_game.py:5: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
=========================== short test summary info ============================
ERROR main_game/tests/test_main_game_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_main_menu_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_whole_game.py - NameError: name 'attacker' is not ...
!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
============================== 3 errors in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 2


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 77, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create a bug-free game. Still have error Pytest failed with exit code 2. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collected 0 items / 3 errors

==================================== ERRORS ====================================
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_game_scene.py _
main_game/tests/test_main_game_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_main_menu_scene.py _
main_game/tests/test_main_menu_scene.py:3: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
_ ERROR collecting temp/ladder/creature_battler_04_6/main_game/tests/test_whole_game.py _
main_game/tests/test_whole_game.py:5: in <module>
    from main_game.main import App
main_game/main.py:5: in <module>
    from main_game.scenes.main_game_scene import MainGameScene
main_game/scenes/main_game_scene.py:1: in <module>
    raw_damage = (float(attacker.sp_attack) / float(defender.sp_defense)) * float(skill.base_damage)
E   NameError: name 'attacker' is not defined
=========================== short test summary info ============================
ERROR main_game/tests/test_main_game_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_main_menu_scene.py - NameError: name 'attacker' is...
ERROR main_game/tests/test_whole_game.py - NameError: name 'attacker' is not ...
!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
============================== 3 errors in [REDACTED]s ===============================
PYTEST_EXIT_CODE: 2

",['new_prompt_logs/1727812072_732168_OneShotCoreAgent'],ladder/creature_battler_04_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:02:50,8c88667b-8f45-447c-9970-f019d6988a12,OneShotCoreAgent,creature_battler_04,2,failure,"After 5 attempts to debug, could not create an accurate game. Got issue {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies: 1) The final damage calculation should explicitly convert the result to an integer after applying the weakness factor. 2) The reset of creatures in the MainGameScene should only reset the player's creatures, not the opponent's. 3) The handling of simultaneous HP reductions (ties) is not addressed in the implementation."",
  ""qa_result"": ""failed""
}","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 96, in execute
    result = await self.sdk.execute_as_task(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa/all_qa_code_reader/logic.py"", line 60, in execute
    raise QAException(json.dumps({
mge_agents.qa.all_qa_code_reader.logic.QAException: {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies: 1) The final damage calculation should explicitly convert the result to an integer after applying the weakness factor. 2) The reset of creatures in the MainGameScene should only reset the player's creatures, not the opponent's. 3) The handling of simultaneous HP reductions (ties) is not addressed in the implementation."",
  ""qa_result"": ""failed""
}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 102, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create an accurate game. Got issue {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies: 1) The final damage calculation should explicitly convert the result to an integer after applying the weakness factor. 2) The reset of creatures in the MainGameScene should only reset the player's creatures, not the opponent's. 3) The handling of simultaneous HP reductions (ties) is not addressed in the implementation."",
  ""qa_result"": ""failed""
}
",['new_prompt_logs/1727812072_244448_OneShotCoreAgent'],ladder/creature_battler_04_2/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:03:47,11f1a18a-8b9e-4596-8bf7-4d9cb2d39a32,OneShotCoreAgent,creature_battler_04,5,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 4 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 25%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_type_advantage PASSED [ 50%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats FAILED [ 75%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario FAILED [100%]

=================================== FAILURES ===================================
______________ TestMainGameScene.test_opponent_wins_higher_stats _______________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_opponent_wins_higher_stats(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.opponent_creature.attack = 20  # Increase opponent's attack to ensure victory
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert scene.player_creature.hp <= 0
E       assert 32 <= 0
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:98: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
You lost the battle!
_________________ TestMainGameScene.test_equal_speed_scenario __________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_equal_speed_scenario(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 11  # Set to match opponent's speed
        scene.player_creature.hp = 15  # Reduce HP to end battle faster
        scene.opponent_creature.hp = 15  # Reduce HP to end battle faster
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert (scene.player_creature.hp <= 0 or scene.opponent_creature.hp <= 0)
E       assert (32 <= 0 or 5 <= 0)
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature
E        +  and   5 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:128: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 7/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 10/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
You lost the battle!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario
========================= 2 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 4 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 25%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_type_advantage PASSED [ 50%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats FAILED [ 75%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario FAILED [100%]

=================================== FAILURES ===================================
______________ TestMainGameScene.test_opponent_wins_higher_stats _______________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_opponent_wins_higher_stats(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.opponent_creature.attack = 20  # Increase opponent's attack to ensure victory
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert scene.player_creature.hp <= 0
E       assert 32 <= 0
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:98: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
You lost the battle!
_________________ TestMainGameScene.test_equal_speed_scenario __________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_equal_speed_scenario(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 11  # Set to match opponent's speed
        scene.player_creature.hp = 15  # Reduce HP to end battle faster
        scene.opponent_creature.hp = 15  # Reduce HP to end battle faster
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert (scene.player_creature.hp <= 0 or scene.opponent_creature.hp <= 0)
E       assert (32 <= 0 or 5 <= 0)
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature
E        +  and   5 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:128: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 7/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 10/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
You lost the battle!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario
========================= 2 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 4 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 25%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_type_advantage PASSED [ 50%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats FAILED [ 75%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario FAILED [100%]

=================================== FAILURES ===================================
______________ TestMainGameScene.test_opponent_wins_higher_stats _______________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_opponent_wins_higher_stats(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.opponent_creature.attack = 20  # Increase opponent's attack to ensure victory
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert scene.player_creature.hp <= 0
E       assert 32 <= 0
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature

main_game/tests/test_main_game_scene.py:98: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 32/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 17 damage to Bubwool!'}
You lost the battle!
_________________ TestMainGameScene.test_equal_speed_scenario __________________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>, player = Default Player
opponent = Basic Opponent

    def test_equal_speed_scenario(self, app, player, opponent):
        scene = MainGameScene(app, player)
        scene.opponent = opponent
        scene.player_creature.speed = 11  # Set to match opponent's speed
        scene.player_creature.hp = 15  # Reduce HP to end battle faster
        scene.opponent_creature.hp = 15  # Reduce HP to end battle faster
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(player)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        tackle = find_button(choices, ""Tackle"")
        runner.make_choice(tackle)
    
        assert runner.dequeue_transition_to_scene() == ""MainMenuScene""
    
>       assert (scene.player_creature.hp <= 0 or scene.opponent_creature.hp <= 0)
E       assert (32 <= 0 or 5 <= 0)
E        +  where 32 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.player_creature
E        +  and   5 = <main_game.models.Creature object at 0x[REDACTED]>.hp
E        +    where <main_game.models.Creature object at 0x[REDACTED]> = <main_game.scenes.main_game_scene.MainGameScene object at 0x[REDACTED]>.opponent_creature

main_game/tests/test_main_game_scene.py:128: AssertionError
----------------------------- Captured stdout call -----------------------------
Player: Default Player
Creature: Bubwool (HP: 15/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
Player: Default Player
Creature: Bubwool (HP: 7/32)
Opponent: Basic Opponent
Creature: Scizard (HP: 10/40)

_wait_for_choice(Default Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Basic Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Tackle)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Tackle!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 8 damage to Bubwool!'}
You lost the battle!
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_opponent_wins_higher_stats
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_equal_speed_scenario
========================= 2 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_800825_OneShotCoreAgent'],ladder/creature_battler_04_5/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:04:32,db5165b3-fd8d-4ad2-a3b0-8a9121f6ca3a,OneShotCoreAgent,creature_battler_04,7,failure,"After 5 attempts to debug, could not create an accurate game. Got issue {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies, such as not explicitly handling simultaneous creature HP reaching zero, not clearly converting final damage to an integer, and not explicitly addressing the 'normal' type in damage calculations. Additionally, the player's victory or defeat is not clearly communicated, and the state reset of creatures is not aligned with the specified architecture."",
  ""qa_result"": ""failed""
}","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 96, in execute
    result = await self.sdk.execute_as_task(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/volter-common/common/sdk/SDK.py"", line 265, in execute_as_task
    response = await agent.execute()
               ^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa/all_qa_code_reader/logic.py"", line 60, in execute
    raise QAException(json.dumps({
mge_agents.qa.all_qa_code_reader.logic.QAException: {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies, such as not explicitly handling simultaneous creature HP reaching zero, not clearly converting final damage to an integer, and not explicitly addressing the 'normal' type in damage calculations. Additionally, the player's victory or defeat is not clearly communicated, and the state reset of creatures is not aligned with the specified architecture."",
  ""qa_result"": ""failed""
}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 102, in execute
    raise FixableException(
common.exceptions.FixableException: After 5 attempts to debug, could not create an accurate game. Got issue {
  ""issue"": ""A QA pass has detected a problem with the current implementation."",
  ""explanation"": ""The implementation has minor discrepancies, such as not explicitly handling simultaneous creature HP reaching zero, not clearly converting final damage to an integer, and not explicitly addressing the 'normal' type in damage calculations. Additionally, the player's victory or defeat is not clearly communicated, and the state reset of creatures is not aligned with the specified architecture."",
  ""qa_result"": ""failed""
}
",['new_prompt_logs/1727812072_784008_OneShotCoreAgent'],ladder/creature_battler_04_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:06:41,fb549cb7-b999-4ab3-ab51-ce56c7f56545,OneShotCoreAgent,creature_battler_04,1,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_loses_type_disadvantage PASSED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed FAILED [100%]

=================================== FAILURES ===================================
________ TestMainGameScene.test_skill_execution_order_with_equal_speed _________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_skill_execution_order_with_equal_speed(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Opponent""
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        # Modify Bubwool's speed to be equal to Scizard's
        scene.player_creature.speed = scene.opponent_creature.speed
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        # Round 1
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Check that both skills were executed
        assert scene.player_creature.hp < initial_player_hp
        assert scene.opponent_creature.hp < initial_opponent_hp
    
        # Round 2
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 3
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 4
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 5 (final round)
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Battle should end after this round
>       assert runner.dequeue_transition_to_scene() == ""MainMenuScene""

main_game/tests/test_main_game_scene.py:153: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_transition_to_scene(self) -> str:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'scene_transition':
                return event['scene_name']
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected scene_transition event, got {event['type']}"")
E               ValueError: Expected scene_transition event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:160: ValueError
----------------------------- Captured stdout call -----------------------------
Player: Player
Creature: Bubwool (HP: 32/32)
Opponent: Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 30/32)
Opponent: Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 28/32)
Opponent: Opponent
Creature: Scizard (HP: 30/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 26/32)
Opponent: Opponent
Creature: Scizard (HP: 25/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 24/32)
Opponent: Opponent
Creature: Scizard (HP: 20/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 22/32)
Opponent: Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_loses_type_disadvantage PASSED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed FAILED [100%]

=================================== FAILURES ===================================
________ TestMainGameScene.test_skill_execution_order_with_equal_speed _________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_skill_execution_order_with_equal_speed(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Opponent""
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        # Modify Bubwool's speed to be equal to Scizard's
        scene.player_creature.speed = scene.opponent_creature.speed
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        # Round 1
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Check that both skills were executed
        assert scene.player_creature.hp < initial_player_hp
        assert scene.opponent_creature.hp < initial_opponent_hp
    
        # Round 2
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 3
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 4
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 5 (final round)
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Battle should end after this round
>       assert runner.dequeue_transition_to_scene() == ""MainMenuScene""

main_game/tests/test_main_game_scene.py:153: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_transition_to_scene(self) -> str:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'scene_transition':
                return event['scene_name']
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected scene_transition event, got {event['type']}"")
E               ValueError: Expected scene_transition event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:160: ValueError
----------------------------- Captured stdout call -----------------------------
Player: Player
Creature: Bubwool (HP: 32/32)
Opponent: Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 30/32)
Opponent: Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 28/32)
Opponent: Opponent
Creature: Scizard (HP: 30/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 26/32)
Opponent: Opponent
Creature: Scizard (HP: 25/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 24/32)
Opponent: Opponent
Creature: Scizard (HP: 20/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 22/32)
Opponent: Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 3 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 33%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_loses_type_disadvantage PASSED [ 66%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed FAILED [100%]

=================================== FAILURES ===================================
________ TestMainGameScene.test_skill_execution_order_with_equal_speed _________

self = <tests.test_main_game_scene.TestMainGameScene object at 0x[REDACTED]>
app = <main_game.main.App object at 0x[REDACTED]>

    def test_skill_execution_order_with_equal_speed(self, app):
        player = app.create_player(""test_player"")
        player.display_name = ""Player""
        opponent = app.create_bot(""basic_opponent"")
        opponent.display_name = ""Opponent""
    
        scene = MainGameScene(app, player)
        scene.opponent = opponent
    
        # Modify Bubwool's speed to be equal to Scizard's
        scene.player_creature.speed = scene.opponent_creature.speed
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        initial_player_hp = scene.player_creature.hp
        initial_opponent_hp = scene.opponent_creature.hp
    
        # Round 1
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Check that both skills were executed
        assert scene.player_creature.hp < initial_player_hp
        assert scene.opponent_creature.hp < initial_opponent_hp
    
        # Round 2
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 3
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 4
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Round 5 (final round)
        choices = runner.dequeue_wait_for_choice(player)
        tackle_skill = find_button(choices, ""Tackle"")
        runner.make_choice(tackle_skill)
    
        choices = runner.dequeue_wait_for_choice(opponent)
        fireball_skill = find_button(choices, ""Fireball"")
        runner.make_choice(fireball_skill)
    
        # Battle should end after this round
>       assert runner.dequeue_transition_to_scene() == ""MainMenuScene""

main_game/tests/test_main_game_scene.py:153: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_transition_to_scene(self) -> str:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'scene_transition':
                return event['scene_name']
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected scene_transition event, got {event['type']}"")
E               ValueError: Expected scene_transition event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:160: ValueError
----------------------------- Captured stdout call -----------------------------
Player: Player
Creature: Bubwool (HP: 32/32)
Opponent: Opponent
Creature: Scizard (HP: 40/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 30/32)
Opponent: Opponent
Creature: Scizard (HP: 35/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 28/32)
Opponent: Opponent
Creature: Scizard (HP: 30/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 26/32)
Opponent: Opponent
Creature: Scizard (HP: 25/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 24/32)
Opponent: Opponent
Creature: Scizard (HP: 20/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
_wait_for_choice received choice Button(Tackle)
_wait_for_choice(Opponent, [Button(Tackle), Button(Fireball)])
_wait_for_choice received choice Button(Fireball)
Bubwool used Tackle!
It dealt 5 damage to Scizard!
BotListener:on_show_event:show_text: {'text': 'Scizard used Fireball!'}
BotListener:on_show_event:show_text: {'text': 'It dealt 2 damage to Bubwool!'}
Player: Player
Creature: Bubwool (HP: 22/32)
Opponent: Opponent
Creature: Scizard (HP: 15/40)

_wait_for_choice(Player, [Button(Tackle), Button(Lick)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::TestMainGameScene::test_skill_execution_order_with_equal_speed
========================= 1 failed, 2 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_127257_OneShotCoreAgent'],ladder/creature_battler_04_1/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:07:14,d8cd450b-78f0-486b-bcbe-a5d80a676b8b,OneShotCoreAgent,creature_battler_05,6,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle 
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 96, in run_pytest
    result = subprocess.run(
             ^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 550, in run
    stdout, stderr = process.communicate(input, timeout=timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1209, in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 2116, in _communicate
    self._check_timeout(endtime, orig_timeout, stdout, stderr)
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/subprocess.py"", line 1253, in _check_timeout
    raise TimeoutExpired(
subprocess.TimeoutExpired: Command '['python', '-c', '\nimport sys\nimport os\nimport random\n\nrandom.seed(42)\n\n# Add the project root to sys.path\nsys.path.insert(0, os.getcwd())\n\nimport pytest\n\n# Run pytest with arguments\nexit_code = pytest.main([\'-v\', \'main_game/tests/test_main_game_scene.py\'])\n\n# Print the exit code (will be captured in subprocess output)\nprint(f""PYTEST_EXIT_CODE: {exit_code}"")\n\n# Exit with pytest\'s exit code\nsys.exit(exit_code)\n']' timed out after 5 seconds

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 104, in run_pytest
    raise AssertionError(
AssertionError: Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle 


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest for ['main_game/tests/test_main_game_scene.py'] timed out after 5 seconds. Partial output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- /Users/andrewvolter/Library/Caches/pypoetry/virtualenvs/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: /Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 5 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 20%]
main_game/tests/test_main_game_scene.py::TestMainGameScene::test_player_wins_battle 

",['new_prompt_logs/1727812072_304946_OneShotCoreAgent'],ladder/creature_battler_05_6/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
2024-10-01 16:07:56,12802b47-3824-4cf3-9f53-b6f3ca12bc92,OneShotCoreAgent,creature_battler_05,7,failure,"After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 2 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 50%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle FAILED [100%]

=================================== FAILURES ===================================
_______________________ test_main_game_scene_full_battle _______________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_full_battle(app):
        # Setup
        player1 = app.create_player(""test_player1"")
        player1.display_name = ""Player 1""
    
        # Ensure the player has the correct creatures with specific speeds
        bubwool = Creature.from_prototype_id(""bubwool"")
        bubwool.speed = 20
        dumbird1 = Creature.from_prototype_id(""dumbird"")
        dumbird1.speed = 10
        player1.creatures = [bubwool, dumbird1]
    
        scene = MainGameScene(app, player1)
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Player 1 turn
        choices = runner.dequeue_wait_for_choice(player1)
        attack_choice = find_button(choices, ""Attack"")
        runner.make_choice(attack_choice)
    
        choices = runner.dequeue_wait_for_choice(player1)
        tackle_choice = find_select_thing(choices, ""tackle"")
        runner.make_choice(tackle_choice)
    
        # Handle random tiebreaker
>       random_call = runner.dequeue_random_call()

main_game/tests/test_main_game_scene.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_random_call(self) -> Dict:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'random_call':
                return {
                    'function': event['function'],
                    'args': event['args'],
                    'kwargs': event['kwargs']
                }
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected random_call event, got {event['type']}"")
E               ValueError: Expected random_call event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:186: ValueError
----------------------------- Captured stdout call -----------------------------
_wait_for_choice(Player 1, [Button(Attack), Button(Swap)])
_wait_for_choice received choice Button(Attack)
_wait_for_choice(Player 1, [SelectThing(Skill(tackle)), SelectThing(Skill(lick)), Button(Back)])
_wait_for_choice received choice SelectThing(Skill(tackle))
_wait_for_choice(Basic Opponent, [Button(Attack), Button(Swap)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle
========================= 1 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1
","Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 62, in execute
    run_pytest(f""main_game/tests/test_{self.scene_name}.py"", project_root=self.sdk.project_directory, timeout_seconds=5)
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-std-agents/agent_lib/random_run_utils.py"", line 119, in run_pytest
    raise AssertionError(f""Pytest failed with exit code {exit_code}. Output:\n{output}"")
AssertionError: Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 2 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 50%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle FAILED [100%]

=================================== FAILURES ===================================
_______________________ test_main_game_scene_full_battle _______________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_full_battle(app):
        # Setup
        player1 = app.create_player(""test_player1"")
        player1.display_name = ""Player 1""
    
        # Ensure the player has the correct creatures with specific speeds
        bubwool = Creature.from_prototype_id(""bubwool"")
        bubwool.speed = 20
        dumbird1 = Creature.from_prototype_id(""dumbird"")
        dumbird1.speed = 10
        player1.creatures = [bubwool, dumbird1]
    
        scene = MainGameScene(app, player1)
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Player 1 turn
        choices = runner.dequeue_wait_for_choice(player1)
        attack_choice = find_button(choices, ""Attack"")
        runner.make_choice(attack_choice)
    
        choices = runner.dequeue_wait_for_choice(player1)
        tackle_choice = find_select_thing(choices, ""tackle"")
        runner.make_choice(tackle_choice)
    
        # Handle random tiebreaker
>       random_call = runner.dequeue_random_call()

main_game/tests/test_main_game_scene.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_random_call(self) -> Dict:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'random_call':
                return {
                    'function': event['function'],
                    'args': event['args'],
                    'kwargs': event['kwargs']
                }
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected random_call event, got {event['type']}"")
E               ValueError: Expected random_call event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:186: ValueError
----------------------------- Captured stdout call -----------------------------
_wait_for_choice(Player 1, [Button(Attack), Button(Swap)])
_wait_for_choice received choice Button(Attack)
_wait_for_choice(Player 1, [SelectThing(Skill(tackle)), SelectThing(Skill(lick)), Button(Back)])
_wait_for_choice received choice SelectThing(Skill(tackle))
_wait_for_choice(Basic Opponent, [Button(Attack), Button(Swap)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle
========================= 1 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_bench/bench_utils.py"", line 91, in execute_agent
    asyncio.run(agent.execute())
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py"", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py"", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py"", line 123, in execute
    await QATestWriter2(self.sdk, scene_name=scene_name).execute()
  File ""/Users/andrewvolter/Desktop/volter-monorepo/packages/lib-volter-mge2/mge_agents/qa_test_writer/qa_test_writer2.py"", line 67, in execute
    raise FixableException(f""After {self.max_number_of_runs} attempts to debug, could not pytests. Still have error {e}"")
common.exceptions.FixableException: After 5 attempts to debug, could not pytests. Still have error Pytest failed with exit code 1. Output:
============================= test session starts ==============================
platform darwin -- Python 3.11.9, pytest-7.4.4, pluggy-1.5.0 -- [REDACT]/volter-monorepo-KtBVlb9i-py3.11/bin/python
cachedir: .pytest_cache
metadata: {'Python': '3.11.9', 'Platform': 'macOS-15.0-arm64-arm-64bit', 'Packages': {'pytest': '7.4.4', 'pluggy': '1.5.0'}, 'Plugins': {'asyncio': '0.23.8', 'html': '3.2.0', 'env': '1.1.3', 'metadata': '3.1.1', 'anyio': '4.6.0', 'cov': '4.1.0', 'timeout': '2.3.1', 'sugar': '0.9.7'}}
rootdir: [REDACT]/volter-monorepo/packages/lib-volter-mge2
configfile: pytest.ini
plugins: asyncio-0.23.8, html-3.2.0, env-1.1.3, metadata-3.1.1, anyio-4.6.0, cov-4.1.0, timeout-2.3.1, sugar-0.9.7
asyncio: mode=Mode.STRICT
collecting ... collected 2 items

main_game/tests/test_main_game_scene.py::test_main_game_scene PASSED     [ 50%]
main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle FAILED [100%]

=================================== FAILURES ===================================
_______________________ test_main_game_scene_full_battle _______________________

app = <main_game.main.App object at 0x[REDACTED]>

    def test_main_game_scene_full_battle(app):
        # Setup
        player1 = app.create_player(""test_player1"")
        player1.display_name = ""Player 1""
    
        # Ensure the player has the correct creatures with specific speeds
        bubwool = Creature.from_prototype_id(""bubwool"")
        bubwool.speed = 20
        dumbird1 = Creature.from_prototype_id(""dumbird"")
        dumbird1.speed = 10
        player1.creatures = [bubwool, dumbird1]
    
        scene = MainGameScene(app, player1)
    
        runner = ThreadedSceneRunner()
        runner.start_game(scene)
    
        # Player 1 turn
        choices = runner.dequeue_wait_for_choice(player1)
        attack_choice = find_button(choices, ""Attack"")
        runner.make_choice(attack_choice)
    
        choices = runner.dequeue_wait_for_choice(player1)
        tackle_choice = find_select_thing(choices, ""tackle"")
        runner.make_choice(tackle_choice)
    
        # Handle random tiebreaker
>       random_call = runner.dequeue_random_call()

main_game/tests/test_main_game_scene.py:53: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <mini_game_engine.engine.qa_utils.ThreadedSceneRunner object at 0x[REDACTED]>

    def dequeue_random_call(self) -> Dict:
        try:
            event = self.__game_event_queue.get(timeout=1)
            if event['type'] == 'random_call':
                return {
                    'function': event['function'],
                    'args': event['args'],
                    'kwargs': event['kwargs']
                }
            else:
                self.__game_event_queue.put(event)  # Put the event back if it's not the one we're looking for
>               raise ValueError(f""Expected random_call event, got {event['type']}"")
E               ValueError: Expected random_call event, got choice_request

../../../../mge2/mini_game_engine/engine/qa_utils.py:186: ValueError
----------------------------- Captured stdout call -----------------------------
_wait_for_choice(Player 1, [Button(Attack), Button(Swap)])
_wait_for_choice received choice Button(Attack)
_wait_for_choice(Player 1, [SelectThing(Skill(tackle)), SelectThing(Skill(lick)), Button(Back)])
_wait_for_choice received choice SelectThing(Skill(tackle))
_wait_for_choice(Basic Opponent, [Button(Attack), Button(Swap)])
=========================== short test summary info ============================
FAILED main_game/tests/test_main_game_scene.py::test_main_game_scene_full_battle
========================= 1 failed, 1 passed in [REDACTED]s ==========================
PYTEST_EXIT_CODE: 1

",['new_prompt_logs/1727812072_310843_OneShotCoreAgent'],ladder/creature_battler_05_7/main_game,https://github.com/volter-ai/volter-monorepo/blob/99d2f7e2941108335d0a140bb76daf97575f791c/packages/lib-volter-mge2/mge_agents/one_shot_gen/one_shot_core.py
