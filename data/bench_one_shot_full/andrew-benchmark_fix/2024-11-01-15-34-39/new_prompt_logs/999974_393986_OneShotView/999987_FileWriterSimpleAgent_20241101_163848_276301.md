Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The skill buttons are not visible in the user interface area.
2. The "Waiting for action..." message is displayed instead of the skill buttons.

These issues are likely causing the timeout error because the UI simulator cannot find and interact with the skill buttons, leading to no choices being available for 120 seconds.

Proposed solution:

1. Modify the condition for displaying skill buttons to ensure they are shown when available.
2. Ensure that the `availableButtonSlugs` array is properly populated with skill UIDs.
3. Update the `emitButtonClick` function to use skill UIDs instead of button slugs.

Here's the implemented solution:

# Excerpt ID: b2b4ede7-c268-4034-9360-25ead5521068
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { Sword, Shield } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player, opponent, player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Creature Battle</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
            className="mb-2"
          />
          <div className="flex items-center">
            <Sword className="w-5 h-5 mr-1" />
            <span>{player_creature.stats.attack}</span>
            <Shield className="w-5 h-5 ml-2 mr-1" />
            <span>{player_creature.stats.defense}</span>
          </div>
          <span className="mt-2 text-green-600 font-bold">Player's Creature</span>
        </div>

        <div className="flex flex-col items-center">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            imageUrl="/placeholder-opponent.jpg"
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
            className="mb-2"
          />
          <div className="flex items-center">
            <Sword className="w-5 h-5 mr-1" />
            <span>{opponent_creature.stats.attack}</span>
            <Shield className="w-5 h-5 ml-2 mr-1" />
            <span>{opponent_creature.stats.defense}</span>
          </div>
          <span className="mt-2 text-red-600 font-bold">Opponent's Creature</span>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white border-t-2 border-gray-300 p-4">
        {player_creature.collections.skills.length > 0 ? (
          <div className="grid grid-cols-2 gap-2">
            {player_creature.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick(skill.uid)}
                disabled={!availableButtonSlugs.includes(skill.uid)}
              />
            ))}
          </div>
        ) : (
          <div className="bg-gray-100 p-4 rounded-md">
            <p className="text-center">Waiting for action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

Changes made:

1. Modified the condition for displaying skill buttons to check if `player_creature.collections.skills.length > 0` instead of `availableButtonSlugs.length > 0`. This ensures that skill buttons are always displayed when the player's creature has skills.

2. Updated the `onClick` handler for SkillButton to use `skill.uid` instead of a button slug. This ensures that the correct skill ID is emitted when a button is clicked.

3. Added a `disabled` prop to the SkillButton component, which is set to `true` when the skill's UID is not in the `availableButtonSlugs` array. This allows all skills to be displayed while only enabling the ones that are currently available.

These changes should resolve the issue by ensuring that skill buttons are always visible and clickable when appropriate, allowing the UI simulator to interact with them and prevent the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "b2b4ede7-c268-4034-9360-25ead5521068", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
