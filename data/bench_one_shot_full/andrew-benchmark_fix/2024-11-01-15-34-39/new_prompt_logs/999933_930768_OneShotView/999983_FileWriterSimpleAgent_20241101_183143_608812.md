Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The layout of the battlefield doesn't match the design document. The opponent and player creatures are in the wrong positions.
2. The "Back" button is missing from the UI, even though it's in the code.
3. The buttons in the UI are not properly aligned in a 2x2 grid as specified in the design document.

These issues might be preventing the UI simulator from interacting with all the necessary elements, leading to the timeout error.

Proposed solution:

1. Rearrange the battlefield layout to match the design document.
2. Ensure all buttons (Attack, Back, and Swap) are rendered when their corresponding slugs are available.
3. Adjust the UI layout to properly display the buttons in a 2x2 grid.

Here's the implemented solution:

# Excerpt ID: 25d59e71-67ba-40e1-9bee-7cad81584765
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';

interface Skill {
  __type: "Skill";
  stats: { base_damage: number };
  meta: { skill_type: string; is_physical: boolean };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: { hp: number; max_hp: number };
  meta: { creature_type: string };
  uid: string;
  display_name: string;
  description: string;
  collections: { skills: Skill[] };
  image_url: string;
}

interface Player {
  __type: "Player";
  entities: { active_creature: Creature };
  collections: { creatures: Creature[] };
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;

  return (
    <div className="w-full h-full bg-gradient-to-b from-blue-200 to-green-200 flex flex-col">
      {/* Battlefield */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 p-4 gap-4">
        {/* Opponent Status */}
        <div className="flex items-start justify-start">
          <CreatureCard
            uid={opponent.entities.active_creature.uid}
            name={opponent.entities.active_creature.display_name}
            image={opponent.entities.active_creature.image_url}
            hp={opponent.entities.active_creature.stats.hp}
            maxHp={opponent.entities.active_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex items-start justify-end">
          <img
            src={opponent.entities.active_creature.image_url}
            alt="Opponent Creature"
            className="max-h-full max-w-full object-contain"
          />
        </div>

        {/* Player Status */}
        <div className="flex items-end justify-start">
          <CreatureCard
            uid={player.entities.active_creature.uid}
            name={player.entities.active_creature.display_name}
            image={player.entities.active_creature.image_url}
            hp={player.entities.active_creature.stats.hp}
            maxHp={player.entities.active_creature.stats.max_hp}
          />
        </div>

        {/* Player Creature */}
        <div className="flex items-end justify-end">
          <img
            src={player.entities.active_creature.image_url}
            alt="Player Creature"
            className="max-h-full max-w-full object-contain"
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-800 p-4">
        <div className="grid grid-cols-2 grid-rows-2 gap-4 h-full">
          {availableButtonSlugs.includes("attack") && (
            <SkillButton
              uid="attack"
              skillName="Attack"
              description="Choose an attack"
              stats=""
              onClick={() => emitButtonClick("attack")}
              className="flex items-center justify-center"
            >
              <Sword className="mr-2" /> Attack
            </SkillButton>
          )}
          {availableButtonSlugs.includes("back") && (
            <SkillButton
              uid="back"
              skillName="Back"
              description="Go back"
              stats=""
              onClick={() => emitButtonClick("back")}
              className="flex items-center justify-center"
            >
              <ArrowLeft className="mr-2" /> Back
            </SkillButton>
          )}
          {availableButtonSlugs.includes("swap") && (
            <SkillButton
              uid="swap"
              skillName="Swap"
              description="Swap creatures"
              stats=""
              onClick={() => emitButtonClick("swap")}
              className="flex items-center justify-center"
            >
              <Repeat className="mr-2" /> Swap
            </SkillButton>
          )}
          <div></div> {/* Empty div to maintain 2x2 grid */}
        </div>
      </div>
    </div>
  );
}
```

Changes made:

1. Rearranged the battlefield layout:
   - Moved the player's creature to the bottom-right corner
   - Moved the player's status to the bottom-left corner
   - Kept the opponent's creature in the top-right corner
   - Kept the opponent's status in the top-left corner

2. Ensured all buttons are rendered when their corresponding slugs are available:
   - The "Back" button was already in the code, but it will now be visible when the "back" slug is available

3. Adjusted the UI layout:
   - Added an empty `<div></div>` to maintain the 2x2 grid layout even when not all buttons are present

These changes should resolve the layout issues and ensure that all interactive elements are visible and accessible to the UI simulator, potentially resolving the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "25d59e71-67ba-40e1-9bee-7cad81584765", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
