Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The layout of the battlefield doesn't match the design document. The opponent's and player's creatures and status cards are in incorrect positions.
2. The user interface area is not properly sized and positioned.
3. The "Back" button is missing from the UI, which should be present according to the code.
4. The creature images are using placeholder URLs instead of dynamic data from the props.

To resolve these issues, I propose the following solutions:

1. Rearrange the grid layout to match the design document.
2. Adjust the sizing of the battlefield and user interface areas.
3. Ensure all buttons are rendered based on the availableButtonSlugs.
4. Use dynamic image URLs from the creature data instead of placeholders.

Here's the implemented solution:

# Excerpt ID: a33dc3c0-153a-4101-bd2c-75ebb70e0cb4
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';

interface Skill {
  __type: "Skill";
  stats: { base_damage: number };
  meta: { skill_type: string; is_physical: boolean };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: { hp: number; max_hp: number };
  meta: { creature_type: string };
  uid: string;
  display_name: string;
  description: string;
  collections: { skills: Skill[] };
  image_url: string;
}

interface Player {
  __type: "Player";
  entities: { active_creature: Creature };
  collections: { creatures: Creature[] };
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;

  return (
    <div className="w-full h-full bg-gradient-to-b from-blue-200 to-green-200 flex flex-col">
      {/* Battlefield */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 p-4 gap-4">
        {/* Opponent Status */}
        <div className="flex items-start justify-start">
          <CreatureCard
            uid={opponent.entities.active_creature.uid}
            name={opponent.entities.active_creature.display_name}
            image={opponent.entities.active_creature.image_url}
            hp={opponent.entities.active_creature.stats.hp}
            maxHp={opponent.entities.active_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex items-end justify-end">
          <img
            src={opponent.entities.active_creature.image_url}
            alt="Opponent Creature"
            className="max-h-full max-w-full object-contain"
          />
        </div>

        {/* Player Creature */}
        <div className="flex items-start justify-start">
          <img
            src={player.entities.active_creature.image_url}
            alt="Player Creature"
            className="max-h-full max-w-full object-contain"
          />
        </div>

        {/* Player Status */}
        <div className="flex items-end justify-end">
          <CreatureCard
            uid={player.entities.active_creature.uid}
            name={player.entities.active_creature.display_name}
            image={player.entities.active_creature.image_url}
            hp={player.entities.active_creature.stats.hp}
            maxHp={player.entities.active_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-800 p-4">
        <div className="grid grid-cols-2 grid-rows-2 gap-4 h-full">
          {availableButtonSlugs.includes("attack") && (
            <SkillButton
              uid="attack"
              skillName="Attack"
              description="Choose an attack"
              stats=""
              onClick={() => emitButtonClick("attack")}
              className="flex items-center justify-center"
            >
              <Sword className="mr-2" /> Attack
            </SkillButton>
          )}
          {availableButtonSlugs.includes("back") && (
            <SkillButton
              uid="back"
              skillName="Back"
              description="Go back"
              stats=""
              onClick={() => emitButtonClick("back")}
              className="flex items-center justify-center"
            >
              <ArrowLeft className="mr-2" /> Back
            </SkillButton>
          )}
          {availableButtonSlugs.includes("swap") && (
            <SkillButton
              uid="swap"
              skillName="Swap"
              description="Swap creatures"
              stats=""
              onClick={() => emitButtonClick("swap")}
              className="flex items-center justify-center"
            >
              <Repeat className="mr-2" /> Swap
            </SkillButton>
          )}
        </div>
      </div>
    </div>
  );
}
```

These changes should resolve the issues and make the component match the design document more closely. The timeout error should be resolved as the UI elements are now properly positioned and all buttons are rendered based on the available button slugs.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "a33dc3c0-153a-4101-bd2c-75ebb70e0cb4", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
