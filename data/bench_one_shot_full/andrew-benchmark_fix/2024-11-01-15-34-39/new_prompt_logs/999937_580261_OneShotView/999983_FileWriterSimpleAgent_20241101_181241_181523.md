Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The layout of the battlefield doesn't match the design document. The player and opponent creatures are in the wrong positions.
2. The skill buttons in the user interface area are not properly displayed. Only the "Attack" and "Swap" buttons are visible, and they're not in a 2x2 grid as specified.
3. The creature-specific skills are not being rendered, which might be preventing the player from interacting with all available choices.

To resolve these issues, I propose the following solutions:

1. Adjust the grid layout for the battlefield to correctly position the creatures and their status cards.
2. Modify the user interface area to display all available buttons in a 2x2 grid.
3. Ensure that creature-specific skills are properly rendered and clickable.

Here's the implemented solution:

# Excerpt ID: f1565b38-adc0-4884-9651-f2d48f118af5
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { Sword, RefreshCw } from 'lucide-react';

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  skills: Skill[];
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;
  const playerCreature = player?.entities.active_creature;
  const opponentCreature = opponent?.entities.active_creature;

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Status */}
        <div className="col-start-1 row-start-1 flex justify-start items-start">
          {opponent && (
            <PlayerCard
              uid={opponent.uid}
              playerName={opponent.display_name}
              imageUrl="/placeholder-opponent.png"
            />
          )}
        </div>
        
        {/* Opponent Creature */}
        <div className="col-start-2 row-start-1 flex justify-end items-start">
          {opponentCreature && (
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              image={`/creatures/${opponentCreature.uid}.png`}
              hp={opponentCreature.stats.hp}
              maxHp={opponentCreature.stats.max_hp}
            />
          )}
        </div>
        
        {/* Player Creature */}
        <div className="col-start-1 row-start-2 flex justify-start items-end">
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              image={`/creatures/${playerCreature.uid}.png`}
              hp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          )}
        </div>
        
        {/* Player Status */}
        <div className="col-start-2 row-start-2 flex justify-end items-end">
          {player && (
            <PlayerCard
              uid={player.uid}
              playerName={player.display_name}
              imageUrl="/placeholder-player.png"
            />
          )}
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        <div className="grid grid-cols-2 grid-rows-2 gap-4 h-full">
          {availableButtonSlugs.map((slug, index) => {
            if (slug === 'attack') {
              return (
                <SkillButton
                  key={slug}
                  uid="attack-button"
                  skillName="Attack"
                  description="Perform a basic attack"
                  stats="Damage: 5"
                  onClick={() => emitButtonClick('attack')}
                >
                  <Sword className="mr-2" />
                  Attack
                </SkillButton>
              );
            } else if (slug === 'swap') {
              return (
                <SkillButton
                  key={slug}
                  uid="swap-button"
                  skillName="Swap"
                  description="Swap your active creature"
                  stats="Cost: 1 turn"
                  onClick={() => emitButtonClick('swap')}
                >
                  <RefreshCw className="mr-2" />
                  Swap
                </SkillButton>
              );
            } else {
              const skill = playerCreature?.skills.find(s => s.uid === slug);
              if (skill) {
                return (
                  <SkillButton
                    key={skill.uid}
                    uid={skill.uid}
                    skillName={skill.display_name}
                    description={skill.description}
                    stats={`Damage: ${skill.stats.base_damage}`}
                    onClick={() => emitButtonClick(slug)}
                  />
                );
              }
            }
            return null;
          })}
        </div>
      </div>
    </div>
  );
}
```

The main changes made are:

1. The battlefield layout remains the same as it was already correct.
2. In the user interface area, we now map over `availableButtonSlugs` to render all available buttons, including creature-specific skills.
3. Each button is now rendered based on its slug, ensuring that all available choices are displayed and clickable.
4. The `onClick` handlers for all buttons now use `emitButtonClick` with the correct slug.

These changes should resolve the timeout issue by ensuring that all available choices are properly rendered and interactive, allowing the UI simulator to progress through the game as expected.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "f1565b38-adc0-4884-9651-f2d48f118af5", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
