Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The main problem causing the timeout error is likely that no choices (buttons) are being displayed in the user interface area. The image shows "Waiting for action..." instead of skill buttons.

2. The creature images are not being displayed correctly. The image shows placeholder text ("Bubwool" and "Scizard") instead of actual creature images.

3. The layout of the battlefield seems correct, with creatures on the left and right sides, and proper indicators for player and opponent.

To resolve these issues, I propose the following solutions:

1. Ensure that the `availableButtonSlugs` array is being populated correctly. We should add a check to display a message when there are no available choices, but also make sure that the skills are being properly mapped to buttons when they exist.

2. Update the `CreatureCard` component to use the correct image URL for each creature. We should pass a prop for the creature's image URL instead of using a static placeholder.

3. Add error handling to log any issues with rendering buttons or creature images.

Here's the implementation of these solutions:

# Excerpt ID: 309f05ac-2a0d-4d19-af62-107cb39664eb
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { User, UserMinus } from 'lucide-react';

interface Skill {
  __type: "Skill";
  stats: {
    base_damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
  image_url: string; // Add this line to include the image URL for each creature
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Creature Battle</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <User className="w-8 h-8 mb-2 text-green-500" />
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl={player_creature.image_url}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
            className="transform scale-75 sm:scale-100"
          />
        </div>
        <div className="flex flex-col items-center">
          <UserMinus className="w-8 h-8 mb-2 text-red-500" />
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            imageUrl={opponent_creature.image_url}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
            className="transform scale-75 sm:scale-100"
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white border-t-2 border-gray-200 p-4 h-1/3">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug) => {
              const skill = player_creature.collections.skills.find(s => s.uid === slug);
              if (skill) {
                return (
                  <SkillButton
                    key={skill.uid}
                    uid={skill.uid}
                    skillName={skill.display_name}
                    description={skill.description}
                    stats={`Damage: ${skill.stats.base_damage}`}
                    onClick={() => emitButtonClick(slug)}
                  />
                );
              }
              return null;
            })}
          </div>
        ) : (
          <div className="bg-gray-100 p-4 rounded-lg h-full overflow-y-auto">
            <p className="text-gray-700">
              No actions available at the moment. Waiting for game state update...
            </p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Added an `image_url` property to the `Creature` interface to properly handle creature images.
2. Updated the `CreatureCard` components to use `player_creature.image_url` and `opponent_creature.image_url` instead of a static placeholder.
3. Modified the text in the user interface area when no buttons are available to be more informative.
4. Ensured that the `emitButtonClick` function is only called with valid button slugs.

These changes should resolve the timeout issue by ensuring that the UI always displays either available actions or a waiting message, and improve the overall appearance of the game scene by showing the correct creature images.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "309f05ac-2a0d-4d19-af62-107cb39664eb", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
