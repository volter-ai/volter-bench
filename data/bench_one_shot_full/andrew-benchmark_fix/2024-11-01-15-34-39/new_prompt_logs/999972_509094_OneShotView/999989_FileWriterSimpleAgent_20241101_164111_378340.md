Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly! Here's the corrected code for the MainGameSceneView component:

# Excerpt ID: e46afb8b-0383-4ea3-ab26-66b2dc4e238c
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { User, UserMinus } from 'lucide-react';

interface Skill {
  __type: "Skill";
  stats: {
    base_damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Creature Battle</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <User className="w-8 h-8 mb-2 text-green-500" />
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
            className="transform scale-75 sm:scale-100"
          />
        </div>
        <div className="flex flex-col items-center">
          <UserMinus className="w-8 h-8 mb-2 text-red-500" />
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
            className="transform scale-75 sm:scale-100"
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white border-t-2 border-gray-200 p-4 h-1/3">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {player_creature.collections.skills?.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick(skill.uid)}
              />
            )) ?? null}
          </div>
        ) : (
          <div className="bg-gray-100 p-4 rounded-lg h-full overflow-y-auto">
            <p className="text-gray-700">
              Waiting for action...
            </p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main correction made is in the User Interface section where we map over the player creature's skills. We've added optional chaining and a nullish coalescing operator to safely handle potential missing data:

# Excerpt ID: be648360-3469-47b2-b6d2-545e9692bb27
```tsx
{player_creature.collections.skills?.map((skill) => (
  // ... SkillButton component ...
)) ?? null}
```

This change ensures that if `player_creature.collections.skills` is undefined or null, the code won't throw an error. Instead, it will render nothing (null) in that case.

All other aspects of the code remain the same, as they were already correctly implementing the required guidelines and component usage. This version should now be safe to use and fully compliant with the specified requirements.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "e46afb8b-0383-4ea3-ab26-66b2dc4e238c", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
