Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The layout doesn't match the design document. The battlefield display should occupy the upper 2/3 of the screen, but in the image, it seems to take up more space.

2. The creature cards are not positioned correctly. The player's creature should be in the bottom-left, and the opponent's creature should be in the top-right.

3. The player and opponent information cards are not positioned correctly. The opponent's info should be in the top-left, and the player's info should be in the bottom-right.

4. The user interface area is not properly implemented. It should occupy the lower 1/3 of the screen and display buttons in a 2x2 grid.

5. The skill buttons are missing from the user interface.

6. The "Battle start!" message is displayed incorrectly and should be in the user interface area.

To resolve these issues, I propose the following solutions:

1. Adjust the layout to ensure the battlefield display takes up exactly 2/3 of the screen height.
2. Reposition the creature and player information cards to match the design document.
3. Implement the user interface area correctly, ensuring it takes up 1/3 of the screen height and displays buttons in a 2x2 grid.
4. Add the skill buttons to the user interface area.
5. Implement a message display in the user interface area for things like "Battle start!".

Here's the implemented solution:

# Excerpt ID: 18869fee-de39-42f8-809c-bd0e6b2dbac7
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { ArrowLeft, Repeat } from 'lucide-react';
import { Button } from "@/components/ui/button";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;
  const playerCreature = player?.entities.active_creature;
  const opponentCreature = opponent?.entities.active_creature;

  return (
    <div className="w-full h-full flex flex-col">
      {/* Battlefield Display */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Info */}
        <div className="col-start-1 row-start-1 flex justify-start items-start">
          {opponent && (
            <PlayerCard
              uid={opponent.uid}
              playerName={opponent.display_name}
              imageUrl="/placeholder-opponent-avatar.png"
            />
          )}
        </div>
        {/* Opponent Creature */}
        <div className="col-start-2 row-start-1 flex justify-end items-start">
          {opponentCreature && (
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              image="/placeholder-opponent-creature.png"
              hp={opponentCreature.stats.hp}
              maxHp={opponentCreature.stats.max_hp}
            />
          )}
        </div>
        {/* Player Creature */}
        <div className="col-start-1 row-start-2 flex justify-start items-end">
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              image="/placeholder-player-creature.png"
              hp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          )}
        </div>
        {/* Player Info */}
        <div className="col-start-2 row-start-2 flex justify-end items-end">
          {player && (
            <PlayerCard
              uid={player.uid}
              playerName={player.display_name}
              imageUrl="/placeholder-player-avatar.png"
            />
          )}
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4 flex flex-col">
        <div className="grid grid-cols-2 grid-rows-2 gap-4 flex-grow">
          {playerCreature?.collections.skills.map((skill, index) => (
            availableButtonSlugs.includes(skill.uid) && (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick(skill.uid)}
              />
            )
          ))}
          {availableButtonSlugs.includes('back') && (
            <Button onClick={() => emitButtonClick('back')}>
              <ArrowLeft className="mr-2 h-4 w-4" />
              Back
            </Button>
          )}
          {availableButtonSlugs.includes('swap') && (
            <Button onClick={() => emitButtonClick('swap')}>
              <Repeat className="mr-2 h-4 w-4" />
              Swap
            </Button>
          )}
        </div>
        {/* Message Display */}
        <div className="mt-2 text-center">
          {/* Add logic to display messages like "Battle start!" here */}
        </div>
      </div>
    </div>
  );
}
```

These changes should resolve the layout issues and implement the user interface area correctly. The battlefield display now takes up exactly 2/3 of the screen height, and the user interface area takes up the remaining 1/3. The creature and player information cards are positioned correctly, and the buttons in the user interface area are arranged in a 2x2 grid. A message display area has been added for showing messages like "Battle start!".

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "18869fee-de39-42f8-809c-bd0e6b2dbac7", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
