Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly! Here's the corrected code for the MainGameScene component:

# Excerpt ID: 4e773a4f-ce43-45b4-bd48-e251483525a3
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, Shield } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections?: {
    skills?: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <Sword className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={playerCreature?.uid ?? ""}
            name={playerCreature?.display_name ?? "Unknown"}
            imageUrl="/placeholder-creature.jpg"
            hp={playerCreature?.stats.hp ?? 0}
            className="transform scale-75"
          />
        </div>
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={opponentCreature?.uid ?? ""}
            name={opponentCreature?.display_name ?? "Unknown"}
            imageUrl="/placeholder-creature.jpg"
            hp={opponentCreature?.stats.hp ?? 0}
            className="transform scale-75"
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 shadow-lg">
        <div className="mb-4 h-24 overflow-y-auto bg-gray-100 p-2 rounded">
          {/* Game description text would go here */}
          <p>Battle in progress...</p>
        </div>
        <div className="flex flex-wrap gap-2">
          {playerCreature?.collections?.skills?.map((skill: Skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              disabled={!availableButtonSlugs.includes('use-skill')}
              onClick={() => emitButtonClick('use-skill', { skillId: skill.uid })}
            />
          ))}
          {availableButtonSlugs.includes('quit') && (
            <SkillButton
              uid="quit-button"
              skillName="Quit"
              description="Exit the battle"
              stats=""
              onClick={() => emitButtonClick('quit')}
            />
          )}
        </div>
      </div>
    </div>
  );
}
```

The main changes in this corrected version are:

1. Added optional chaining for `collections` and `skills` in the Creature interface.
2. Used the nullish coalescing operator (`??`) instead of logical OR (`||`) for default values, which is more appropriate for handling `undefined` or `null` values.
3. The mapping of skills now correctly checks for the existence of `playerCreature.collections.skills` using optional chaining.

These changes ensure that the component handles potential missing data more robustly, preventing potential runtime errors if certain properties are undefined. The rest of the implementation remains the same, following all the guidelines and correctly using custom components with UID props.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "4e773a4f-ce43-45b4-bd48-e251483525a3", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
