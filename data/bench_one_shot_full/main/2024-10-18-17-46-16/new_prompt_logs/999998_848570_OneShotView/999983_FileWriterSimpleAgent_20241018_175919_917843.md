Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The scene appears to be rendering correctly, showing the HUD, battlefield with two creatures, and the user interface area. However, the skill buttons are not visible, which could be causing the timeout.

2. The `availableButtonSlugs` array might be empty, causing the skill buttons not to render.

3. The `emitButtonClick` function is not being called, which could prevent the game from progressing.

To resolve these issues, I propose the following solution:

1. Ensure that the `availableButtonSlugs` array is populated with the correct skill UIDs.
2. Modify the skill button rendering logic to always show the buttons, but disable them if they're not in the `availableButtonSlugs` array.
3. Update the `emitButtonClick` function call to use the skill's UID instead of a separate slug.

Here's the implementation of the proposed solution:

# Excerpt ID: fbec22ac-3ef5-463e-bc7a-d319772d7ba8
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
  meta: {
    battle_ended: boolean;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2 flex justify-between items-center">
        <div>{props.data.entities.player.display_name}</div>
        <div className="flex items-center">
          <Shield className="mr-2" />
          {!props.data.meta.battle_ended ? "Battle in progress" : "Battle ended"}
        </div>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="w-1/3">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={playerCreature.stats.hp}
          />
        </div>
        <div className="w-1/3 text-center">VS</div>
        <div className="w-1/3">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={opponentCreature.stats.hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 h-1/4 overflow-y-auto">
        <div className="grid grid-cols-2 gap-4">
          {playerCreature.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              disabled={!availableButtonSlugs.includes(skill.uid)}
              onClick={() => availableButtonSlugs.includes(skill.uid) && emitButtonClick(skill.uid)}
            />
          ))}
        </div>
        {playerCreature.collections.skills.length === 0 && (
          <p className="text-center text-gray-600">
            Waiting for your turn...
          </p>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Always render the skill buttons, but disable them if they're not in the `availableButtonSlugs` array.
2. Update the `onClick` handler to only call `emitButtonClick` if the skill is available.
3. Show the "Waiting for your turn..." message only if there are no skills available.

These changes should ensure that the skill buttons are always visible, allowing the game to progress and preventing the timeout error. The buttons will be disabled when they're not available, and the game will only emit clicks for available skills.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "fbec22ac-3ef5-463e-bc7a-d319772d7ba8", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
