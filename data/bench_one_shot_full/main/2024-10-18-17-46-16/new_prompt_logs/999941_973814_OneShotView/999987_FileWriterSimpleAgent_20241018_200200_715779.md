Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that need to be addressed:

1. The layout of the creatures and their status cards is incorrect. The player's creature should be in the bottom-left, and the opponent's creature should be in the top-right.
2. The skill buttons are not properly aligned in a 2x2 grid as specified in the design document.
3. The "Attack" button is being rendered separately from the creature's skills, which is not consistent with the design.

To resolve these issues, I propose the following solutions:

1. Adjust the grid layout for the battlefield display to correctly position the creatures and their status cards.
2. Modify the skill button rendering logic to create a proper 2x2 grid, including the "Attack", "Swap", and individual skill buttons.
3. Remove the separate rendering of the "Attack" button and include it as part of the skill buttons.

Here's the implementation of these solutions:

# Excerpt ID: 761c4c3d-569c-459d-bbe8-d0943a1d9823
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;

  const renderSkillButtons = () => {
    const buttons = [];

    if (availableButtonSlugs.includes('attack')) {
      buttons.push(
        <SkillButton
          key="attack"
          uid="attack"
          skillName="Attack"
          description="Choose an attack"
          stats=""
          onClick={() => emitButtonClick('attack')}
        >
          <Sword className="mr-2 h-4 w-4" /> Attack
        </SkillButton>
      );
    }

    if (availableButtonSlugs.includes('swap')) {
      buttons.push(
        <SkillButton
          key="swap"
          uid="swap"
          skillName="Swap"
          description="Swap creatures"
          stats=""
          onClick={() => emitButtonClick('swap')}
        >
          <Repeat className="mr-2 h-4 w-4" /> Swap
        </SkillButton>
      );
    }

    player.entities.active_creature?.collections.skills.forEach((skill) => {
      if (availableButtonSlugs.includes(skill.uid)) {
        buttons.push(
          <SkillButton
            key={skill.uid}
            uid={skill.uid}
            skillName={skill.display_name}
            description={skill.description}
            stats={`Damage: ${skill.stats.base_damage}`}
            onClick={() => emitButtonClick(skill.uid)}
          />
        );
      }
    });

    // Ensure we have a 2x2 grid by adding empty buttons if necessary
    while (buttons.length < 4) {
      buttons.push(<div key={`empty-${buttons.length}`} />);
    }

    return buttons;
  };

  return (
    <div className="w-full h-full flex items-center justify-center bg-gray-100">
      <div className="w-full max-w-7xl aspect-video bg-white shadow-lg rounded-lg overflow-hidden">
        <div className="h-2/3 grid grid-cols-2 grid-rows-2 p-4 gap-4">
          <div className="row-start-2 col-start-1 flex items-end justify-start">
            <CreatureCard
              uid={player.entities.active_creature?.uid || ''}
              name={player.entities.active_creature?.display_name || 'Unknown'}
              image={`/creatures/${player.entities.active_creature?.uid || 'default'}_back.png`}
              hp={player.entities.active_creature?.stats.hp || 0}
              maxHp={player.entities.active_creature?.stats.max_hp || 1}
            />
          </div>
          <div className="row-start-1 col-start-2 flex items-start justify-end">
            <CreatureCard
              uid={opponent.entities.active_creature?.uid || ''}
              name={opponent.entities.active_creature?.display_name || 'Unknown'}
              image={`/creatures/${opponent.entities.active_creature?.uid || 'default'}_front.png`}
              hp={opponent.entities.active_creature?.stats.hp || 0}
              maxHp={opponent.entities.active_creature?.stats.max_hp || 1}
            />
          </div>
        </div>
        <div className="h-1/3 p-4">
          <div className="grid grid-cols-2 grid-rows-2 gap-4 h-full">
            {renderSkillButtons()}
          </div>
        </div>
      </div>
    </div>
  );
}
```

These changes address the identified issues:

1. The creature positioning in the battlefield display remains correct.
2. The skill buttons are now rendered in a 2x2 grid, including the "Attack" and "Swap" buttons along with individual skills.
3. The "Attack" button is now part of the skill button rendering logic.
4. The code ensures that only available button slugs are used with `emitButtonClick`.
5. All custom UI elements receive a `uid` prop as required.

These modifications should resolve the timeout issue by correctly rendering all elements and ensuring proper functionality of the buttons.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "761c4c3d-569c-459d-bbe8-d0943a1d9823", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
