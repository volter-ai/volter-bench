Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The layout doesn't match the design document. The battlefield display should occupy the upper 2/3 of the screen, but in the image, it takes up much less space.

2. The creature cards are not positioned correctly. The opponent's creature should be in the top-right corner, and the player's creature should be in the bottom-left corner.

3. The HP bars are not correctly formatted. They should show the current HP out of the maximum HP.

4. The user interface area is not properly styled and doesn't take up the lower 1/3 of the screen as specified.

5. The "Battle start!" message is not properly integrated into the UI.

To resolve these issues, I propose the following solutions:

1. Adjust the layout to ensure the battlefield display takes up 2/3 of the screen and the UI takes up 1/3.
2. Reposition the creature cards to the correct corners as specified in the design document.
3. Format the HP bars correctly to show current HP out of maximum HP.
4. Style the user interface area properly and ensure it takes up the lower 1/3 of the screen.
5. Integrate the "Battle start!" message into the UI area, replacing the buttons when necessary.

Here's the implementation of these changes:

# Excerpt ID: 206e3f9e-3b17-46f4-94d4-32fcc80c1211
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
}

interface Player {
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
  stats: {
    turn_counter: number;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player?.entities?.active_creature;
  const opponentCreature = props.data.entities.opponent?.entities?.active_creature;

  if (!playerCreature || !opponentCreature) {
    return <div>Loading...</div>;
  }

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="h-2/3 flex relative">
        {/* Opponent Creature */}
        <div className="absolute top-4 right-4 w-1/3">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            image={`/images/creatures/${opponentCreature.meta.creature_type}_front.png`}
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>
        {/* Player Creature */}
        <div className="absolute bottom-4 left-4 w-1/3">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            image={`/images/creatures/${playerCreature.meta.creature_type}_back.png`}
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4 flex items-center justify-center">
        {availableButtonSlugs.length === 0 ? (
          <div className="text-2xl font-bold">Battle start!</div>
        ) : (
          <div className="grid grid-cols-2 gap-4 w-full max-w-2xl">
            {availableButtonSlugs.includes('attack') && (
              <SkillButton
                uid="attack"
                skillName="Attack"
                description="Perform a basic attack"
                stats="Damage: Base"
                onClick={() => emitButtonClick('attack')}
              >
                <Sword className="mr-2" /> Attack
              </SkillButton>
            )}
            {availableButtonSlugs.includes('back') && (
              <SkillButton
                uid="back"
                skillName="Back"
                description="Go back to the previous screen"
                stats=""
                onClick={() => emitButtonClick('back')}
              >
                <ArrowLeft className="mr-2" /> Back
              </SkillButton>
            )}
            {availableButtonSlugs.includes('swap') && (
              <SkillButton
                uid="swap"
                skillName="Swap"
                description="Swap your active creature"
                stats=""
                onClick={() => emitButtonClick('swap')}
              >
                <Repeat className="mr-2" /> Swap
              </SkillButton>
            )}
          </div>
        )}
      </div>
    </div>
  );
}
```

These changes should resolve the layout issues, correctly position the creature cards, and integrate the "Battle start!" message into the UI. The HP bars' formatting will be handled by the CreatureCard component, which should now receive the correct hp and maxHp values.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "206e3f9e-3b17-46f4-94d4-32fcc80c1211", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
