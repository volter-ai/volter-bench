Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Problem Description:**
1. The UI simulator is timing out after 120s, suggesting that the interactive elements aren't properly handling clicks
2. Looking at the image, we can see skill buttons ("Tackle", "Lick") and a "Swap Creature" button
3. The code shows these buttons are rendered based on `availableButtonSlugs`, but there's no click handling implemented
4. The `emitButtonClick` function from `useCurrentButtons` is imported but not used

**Proposed Solution:**
1. Add click handlers to both the SkillButton and Button components
2. For skill buttons, we should emit the 'attack' slug when clicked
3. For the swap button, we should emit the 'swap' slug when clicked
4. Ensure buttons are only clickable when their corresponding slugs are available

Here's the complete implementation:

# Excerpt ID: f6c0ae64-1019-4877-807a-a0813dedd237
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Button } from "@/components/ui/button";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature?: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    bot: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player?.entities.active_creature;
  const botCreature = props.data.entities.bot?.entities.active_creature;
  const player = props.data.entities.player;
  const bot = props.data.entities.bot;

  const handleSkillClick = () => {
    if (availableButtonSlugs.includes('attack')) {
      emitButtonClick('attack');
    }
  };

  const handleSwapClick = () => {
    if (availableButtonSlugs.includes('swap')) {
      emitButtonClick('swap');
    }
  };

  return (
    <div className="w-full h-full flex flex-col bg-gradient-to-b from-blue-100 to-blue-200">
      {/* Battlefield Area */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 p-4 gap-4">
        {/* Top Left - Bot Status */}
        <div className="flex items-center justify-center">
          {bot && botCreature && (
            <PlayerCard
              uid={bot.uid}
              name={bot.display_name}
              imageUrl="/placeholder/opponent.png"
            />
          )}
        </div>

        {/* Top Right - Bot Creature */}
        <div className="flex items-center justify-center">
          {botCreature && (
            <CreatureCard
              uid={botCreature.uid}
              name={botCreature.display_name}
              imageUrl="/placeholder/creature.png"
              currentHp={botCreature.stats.hp}
              maxHp={botCreature.stats.max_hp}
            />
          )}
        </div>

        {/* Bottom Left - Player Creature */}
        <div className="flex items-center justify-center">
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              imageUrl="/placeholder/creature.png"
              currentHp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          )}
        </div>

        {/* Bottom Right - Player Status */}
        <div className="flex items-center justify-center">
          {player && playerCreature && (
            <PlayerCard
              uid={player.uid}
              name={player.display_name}
              imageUrl="/placeholder/player.png"
            />
          )}
        </div>
      </div>

      {/* UI Area */}
      <div className="h-1/3 p-4 bg-white/80">
        <div className="grid grid-cols-2 gap-4">
          {availableButtonSlugs.includes('attack') && playerCreature?.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={{
                damage: skill.stats.base_damage,
                type: skill.meta.skill_type
              }}
              onClick={handleSkillClick}
            />
          ))}
          {availableButtonSlugs.includes('swap') && (
            <Button
              onClick={handleSwapClick}
              variant="secondary"
              className="w-full h-full"
            >
              Swap Creature
            </Button>
          )}
        </div>
      </div>
    </div>
  );
}
```

The key changes made are:
1. Added `handleSkillClick` function to emit the 'attack' slug when skills are clicked
2. Added `handleSwapClick` function to emit the 'swap' slug when the swap button is clicked
3. Added `onClick` handlers to both the SkillButton and Button components
4. Maintained the conditional rendering based on `availableButtonSlugs`

These changes should resolve the timeout issue by properly handling user interactions and emitting the correct button slugs.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
