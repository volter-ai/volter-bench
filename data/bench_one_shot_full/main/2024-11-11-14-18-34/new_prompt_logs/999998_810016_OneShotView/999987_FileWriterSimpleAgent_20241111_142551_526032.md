Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Based on the error message and the blank white image provided, there appears to be a critical rendering issue with the MainMenuSceneView component. The main problems are:

1. The component is not rendering anything visible (blank white screen)
2. The UI simulator is timing out after 120 seconds
3. There's a connection refused error trying to load source maps

The likely causes are:

1. The useCurrentButtons hook may not be initializing properly, causing the buttons to never render
2. The null check on props.data is too strict and may be causing early returns
3. The component may not be receiving the expected data structure

Proposed Solution:

1. Add default values for availableButtonSlugs to prevent undefined errors
2. Modify the data check to be more specific about what properties are required
3. Add error boundaries and fallback UI for when data is partially available
4. Add debug logging for button availability

Here's the implemented solution:

# Excerpt ID: c360fab2-904f-437d-a73f-0c4fe809dc64
```jsx main_game/templates/MainMenuScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Play, XCircle } from 'lucide-react';

interface ExamplePlayer {
    uid: string,
    stats: {
        stat1: number,
    },
}

interface GameUIData {
    entities: {
        player: ExamplePlayer
    }
}

export function MainMenuSceneView(props: { data: GameUIData }) {
    const {
        availableButtonSlugs = [], // Provide default empty array
        emitButtonClick
    } = useCurrentButtons();

    // More specific data validation
    if (!props.data?.entities) {
        console.warn('MainMenuSceneView: Missing required data structure');
        // Return minimal UI instead of null
        return (
            <div className="w-full h-full overflow-hidden">
                <div className="w-full h-full relative bg-slate-900">
                    <div className="absolute inset-0 flex flex-col items-center justify-center">
                        <h1 className="text-6xl font-bold text-white tracking-wider">
                            GAME TITLE
                        </h1>
                    </div>
                </div>
            </div>
        );
    }

    // Debug log for button availability
    console.debug('Available buttons:', availableButtonSlugs);

    return (
        <div className="w-full h-full overflow-hidden">
            <div className="w-full h-full relative bg-slate-900">
                <div className="absolute inset-0 flex flex-col items-center justify-between py-12 aspect-video max-h-full max-w-full mx-auto">
                    <div className="flex-1 flex items-center justify-center">
                        <h1 className="text-6xl font-bold text-white tracking-wider">
                            GAME TITLE
                        </h1>
                    </div>

                    <div className="flex flex-col gap-4 items-center mb-8">
                        {Array.isArray(availableButtonSlugs) && availableButtonSlugs.includes('play') && (
                            <button
                                onClick={() => emitButtonClick('play')}
                                className="flex items-center gap-2 px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <Play size={24} />
                                <span>Play Game</span>
                            </button>
                        )}

                        {Array.isArray(availableButtonSlugs) && availableButtonSlugs.includes('quit') && (
                            <button
                                onClick={() => emitButtonClick('quit')}
                                className="flex items-center gap-2 px-8 py-4 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <XCircle size={24} />
                                <span>Quit</span>
                            </button>
                        )}
                    </div>
                </div>
            </div>
        </div>
    );
}
```

These changes ensure that:
1. The component always renders something visible
2. Button rendering is more defensive against undefined/null values
3. There's better error handling and debugging information
4. The core functionality remains intact while being more resilient to data issues

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
