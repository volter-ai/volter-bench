Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Based on the error message and the blank white image provided, there appears to be several issues:

1. The scene is not rendering at all (blank white screen)
2. The UI simulator is timing out after 120 seconds
3. There's a connection refused error trying to load source maps

The main issues appear to be:

1. The component may not be properly handling the initial state before data is loaded
2. The buttons might not be properly initialized or visible to the UI simulator
3. The error handling for missing data needs improvement

Proposed Solution:

1. Add proper initialization of availableButtonSlugs with default values
2. Improve the error boundary to show a more informative loading state
3. Add proper null checks for the data prop
4. Ensure buttons are properly visible and clickable
5. Add proper type safety for the button slugs

Here's the implemented solution:

# Excerpt ID: b26f04e0-a7ea-49fe-ab60-e89bf4fc12e2
```jsx main_game/templates/MainMenuScene.tsx
import { useCurrentButtons } from "@/lib/useChoices";
import { Play, XCircle } from 'lucide-react';

interface ExamplePlayer {
    uid: string;
    stats: {
        stat1: number;
    };
}

interface GameUIData {
    entities: {
        player: ExamplePlayer;
    };
}

const DEFAULT_BUTTON_SLUGS = ['play', 'quit'];

export function MainMenuSceneView(props: { data?: GameUIData }) {
    const {
        availableButtonSlugs = DEFAULT_BUTTON_SLUGS,
        emitButtonClick
    } = useCurrentButtons();

    // Show a basic error UI if data is explicitly null or undefined
    if (props.data === null || props.data === undefined) {
        return (
            <div className="w-full h-full flex items-center justify-center bg-slate-900">
                <h1 className="text-2xl text-white">Loading game data...</h1>
            </div>
        );
    }

    const buttonSlugs = Array.isArray(availableButtonSlugs) ? availableButtonSlugs : DEFAULT_BUTTON_SLUGS;

    return (
        <div className="w-full h-full overflow-hidden">
            <div className="w-full h-full relative bg-slate-900">
                <div className="absolute inset-0 flex flex-col items-center justify-between py-12">
                    <div className="flex-1 flex items-center justify-center">
                        <h1 className="text-6xl font-bold text-white tracking-wider">
                            GAME TITLE
                        </h1>
                    </div>

                    <div className="flex flex-col gap-4 items-center mb-8">
                        {buttonSlugs.includes('play') && (
                            <button
                                onClick={() => emitButtonClick('play')}
                                className="flex items-center gap-2 px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <Play size={24} />
                                <span>Play Game</span>
                            </button>
                        )}

                        {buttonSlugs.includes('quit') && (
                            <button
                                onClick={() => emitButtonClick('quit')}
                                className="flex items-center gap-2 px-8 py-4 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <XCircle size={24} />
                                <span>Quit</span>
                            </button>
                        )}
                    </div>
                </div>
            </div>
        </div>
    );
}
```

Key changes made:

1. Made the data prop optional with `?` operator
2. Added DEFAULT_BUTTON_SLUGS constant for fallback
3. Improved type safety with proper null checks
4. Removed aspect-ratio constraints that might affect button visibility
5. Added proper array checking for availableButtonSlugs
6. Improved loading state message
7. Simplified the layout structure to ensure buttons are always visible

These changes should resolve the timeout issues by ensuring the buttons are always available and clickable, while maintaining proper type safety and error handling.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
