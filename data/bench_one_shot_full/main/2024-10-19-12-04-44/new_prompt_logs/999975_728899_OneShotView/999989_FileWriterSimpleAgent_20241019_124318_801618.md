Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Thank you for providing the detailed information and custom components. I'll explain the architecture and implementation approach, and then provide the updated code for the MainGameSceneView component.

Architecture and Implementation Approach:

1. Component Structure:
   - We'll create a main container div that takes up the entire 16:9 game container.
   - Inside this, we'll have three main sections: HUD (top), Battlefield (middle), and User Interface (bottom).

2. HUD:
   - We'll implement this as a simple nav bar at the top of the screen using Tailwind classes.

3. Battlefield:
   - We'll use Flexbox to create a horizontal layout for the player and opponent creatures.
   - We'll use the custom CreatureCard component to display each creature's information.

4. User Interface:
   - We'll create a text box area that can switch between displaying text and buttons.
   - For the buttons, we'll use the custom SkillButton component to display the player's creature's skills.

5. Styling:
   - We'll use inline Tailwind classes for styling, ensuring the layout is responsive and fits the 16:9 container.
   - We'll use flexbox and grid layouts to achieve the desired positioning and spacing.

6. Data Handling:
   - We'll create interfaces for the data structures we receive, focusing on the Creature and Skill types.
   - We'll use optional chaining and nullish coalescing to handle potential missing data safely.

7. Button Interaction:
   - We'll use the useCurrentButtons hook to handle button interactions.

Now, let's implement the MainGameSceneView component:

# Excerpt ID: 6e8f178c-cd7a-4dc7-9cd6-5d72023a536e
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
  meta: {
    battle_ended: boolean;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Creature Battle</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center px-4">
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={playerCreature?.uid ?? ""}
            name={playerCreature?.display_name ?? "Unknown"}
            imageUrl="/placeholder-creature.png"
            hp={playerCreature?.stats.hp ?? 0}
            maxHp={playerCreature?.stats.max_hp ?? 1}
          />
          <div className="mt-2 flex items-center">
            <Shield className="mr-1" />
            <span>{playerCreature?.stats.defense}</span>
            <Swords className="ml-2 mr-1" />
            <span>{playerCreature?.stats.attack}</span>
          </div>
        </div>

        <div className="flex flex-col items-center">
          <CreatureCard
            uid={opponentCreature?.uid ?? ""}
            name={opponentCreature?.display_name ?? "Unknown"}
            imageUrl="/placeholder-creature.png"
            hp={opponentCreature?.stats.hp ?? 0}
            maxHp={opponentCreature?.stats.max_hp ?? 1}
          />
          <div className="mt-2 flex items-center">
            <Shield className="mr-1" />
            <span>{opponentCreature?.stats.defense}</span>
            <Swords className="ml-2 mr-1" />
            <span>{opponentCreature?.stats.attack}</span>
          </div>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-200">
        {props.data.meta.battle_ended ? (
          <p className="text-center text-xl font-bold">Battle Ended!</p>
        ) : (
          <div className="grid grid-cols-2 gap-2">
            {playerCreature?.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick(skill.uid)}
                disabled={!availableButtonSlugs.includes(skill.uid)}
              />
            ))}
          </div>
        )}
      </div>
    </div>
  );
}
```

This implementation follows the architecture described earlier and uses the custom components as specified. It creates a responsive layout that fits into a 16:9 container, displays the battlefield with creature information, and shows the player's skills as buttons in the user interface area. The component also handles potential missing data and uses the provided hooks for button interactions.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "6e8f178c-cd7a-4dc7-9cd6-5d72023a536e", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
