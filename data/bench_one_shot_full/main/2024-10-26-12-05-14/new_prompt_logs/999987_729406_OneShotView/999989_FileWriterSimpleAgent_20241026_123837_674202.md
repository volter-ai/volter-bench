Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide an improved version of the code that addresses the issues and follows the guidelines more closely. Here's the corrected code:

# Excerpt ID: 7d8d55b2-1ef4-4b3a-9481-e867430912d7
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

const CreatureCard = ({ creature, isPlayer }: { creature: Creature; isPlayer: boolean }) => (
  <Card className={`p-4 ${isPlayer ? 'bg-blue-100' : 'bg-red-100'}`}>
    <h2 className="text-lg font-semibold">{creature.display_name}</h2>
    <p>HP: {creature.stats.hp} / {creature.stats.max_hp}</p>
    <Shield className={`mt-2 ${isPlayer ? 'text-blue-500' : 'text-red-500'}`} />
  </Card>
);

export function MainGameSceneView({ data }: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = data.entities.player_creature;
  const foeCreature = data.entities.foe_creature;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <div className="bg-gray-800 text-white p-2">
        <h1 className="text-xl font-bold">Game HUD</h1>
      </div>

      {/* Battlefield */}
      <div className="flex-grow flex items-center justify-between p-4">
        {playerCreature && <CreatureCard creature={playerCreature} isPlayer={true} />}
        <Swords className="text-red-500" />
        {foeCreature && <CreatureCard creature={foeCreature} isPlayer={false} />}
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-200">
        <Card className="mb-4 h-24 p-2 overflow-y-auto">
          <p>Game progress and actions will be described here...</p>
        </Card>
        <div className="flex flex-wrap gap-2">
          {availableButtonSlugs.includes('tackle') && (
            <Button
              onClick={() => emitButtonClick('tackle')}
              variant="default"
            >
              Tackle
            </Button>
          )}
          {/* Add more buttons here as needed */}
        </div>
      </div>
    </div>
  );
}
```

This improved version:

1. Uses the `Card` and `Button` components from the UI library.
2. Creates a `CreatureCard` component to encapsulate the creature display logic.
3. Passes the `uid` prop implicitly through the `creature` object to the `CreatureCard` component.
4. Maintains the use of Tailwind CSS for styling.
5. Keeps the layout and structure as per the requirements.
6. Uses proper TypeScript typing for props and data.
7. Safely handles potential missing data.
8. Implements the 'tackle' button based on `availableButtonSlugs`.

This version should better align with the guidelines and provide a more structured and reusable approach to the game UI.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "7d8d55b2-1ef4-4b3a-9481-e867430912d7", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
