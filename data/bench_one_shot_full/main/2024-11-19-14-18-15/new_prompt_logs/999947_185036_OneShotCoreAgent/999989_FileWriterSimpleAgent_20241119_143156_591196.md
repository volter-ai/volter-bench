Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
The issue is that MainMenuScene is trying to transition to MainGameScene, but MainGameScene isn't registered in App. We need to either:

1. Remove the transition to MainGameScene and just quit, or
2. Create and register MainGameScene properly

Since we have test_whole_game.py trying to test the full game flow, we should implement option 2. The MainMenuScene should transition to MainGameScene where the actual battle takes place.

Here's the fix for main.py, adding the MainGameScene registration:

# Excerpt ID: e1ae4639-b686-429d-95b4-3c6fe6f55276
```python main_game/main.py
import uuid

from mini_game_engine.engine.lib import HumanListener, AbstractApp, BotListener
from main_game.models import Player
from main_game.scenes.main_menu_scene import MainMenuScene
from main_game.scenes.main_game_scene import MainGameScene

class App(AbstractApp):
    def __init__(self):
        super().__init__()
        self.register_scene("MainMenuScene", MainMenuScene, is_entry_point=True)
        self.register_scene("MainGameScene", MainGameScene)

    def create_player(self, player_id: str):
        player = Player.from_prototype_id(prototype_id="default_player")
        player.uid = player_id
        player.set_listener(HumanListener())
        return player

    def create_bot(self, prototype_id: str):
        bot = Player.from_prototype_id(prototype_id=prototype_id)
        bot.uid = str(uuid.uuid4())
        bot.set_listener(BotListener())
        return bot

if __name__ == '__main__':
    app = App()
    app.run(app.create_player("just_a_guy"))
```

And here's the initial MainGameScene implementation:

# Excerpt ID: e8428aec-1291-459b-8c27-3b127200b86e
```python main_game/scenes/main_game_scene.py
from mini_game_engine.engine.lib import AbstractGameScene, Button, SelectThing
from main_game.models import Player, Creature

class MainGameScene(AbstractGameScene):
    def __init__(self, app, player):
        super().__init__(app, player)
        self.opponent = self._app.create_bot("basic_opponent")
        
        # Initialize battle state
        self.player.active_creature = self.player.creatures[0]
        self.opponent.active_creature = self.opponent.creatures[0]
        
        # Reset HP of all creatures
        for creature in self.player.creatures:
            creature.hp = creature.max_hp
        for creature in self.opponent.creatures:
            creature.hp = creature.max_hp

    def __str__(self):
        player_creature = self.player.active_creature
        opponent_creature = self.opponent.active_creature
        
        return f"""=== Battle Scene ===
Your {player_creature.display_name}: HP {player_creature.hp}/{player_creature.max_hp}
Opponent's {opponent_creature.display_name}: HP {opponent_creature.hp}/{opponent_creature.max_hp}

> Attack
> Swap
"""

    def run(self):
        self._show_text(self.player, "Battle Start!")
        
        while True:
            # Basic battle loop - just quit for now to pass tests
            # We'll implement the full battle logic later
            quit_button = Button("Quit")
            choice = self._wait_for_choice(self.player, [quit_button])
            if choice == quit_button:
                self._quit_whole_game()
```

This implementation:
1. Properly registers MainGameScene in App
2. Creates a basic MainGameScene that initializes the battle state
3. Provides a minimal battle loop that allows the tests to run
4. Follows the pure data model approach by keeping all logic in the scene
5. Uses the engine's capabilities for scene transitions and choice handling

Would you like me to continue with the full battle implementation next?

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
