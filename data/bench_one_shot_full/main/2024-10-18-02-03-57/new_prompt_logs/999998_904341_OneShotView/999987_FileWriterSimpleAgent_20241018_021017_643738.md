Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that need to be addressed:

1. The skill buttons are not visible in the UI, even though they are defined in the code.
2. The "Waiting for your turn..." message is displayed instead of the skill buttons.
3. The creature images are not being displayed correctly.
4. The max HP of the creatures is not shown, only the current HP.

To resolve these issues, I propose the following solutions:

1. We need to correctly use the `availableButtonSlugs` to render the skill buttons.
2. We should only show the "Waiting for your turn..." message when there are no available buttons.
3. We need to update the `CreatureCard` component to use the correct image URL.
4. We should display both current and max HP for each creature.

Here's the implementation of these solutions:

# Excerpt ID: 8f66f269-506a-4bb4-a2c3-c0bd116a7e6f
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
  meta: {
    battle_ended: boolean;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl={`/creatures/${player_creature.uid}.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
        <div className="flex flex-col items-center">
          <Swords className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={foe_creature.uid}
            name={foe_creature.display_name}
            imageUrl={`/creatures/${foe_creature.uid}.png`}
            hp={foe_creature.stats.hp}
            maxHp={foe_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-200">
        {availableButtonSlugs.length > 0 ? (
          <div className="flex flex-wrap gap-2">
            {player_creature.collections.skills
              .filter(skill => availableButtonSlugs.includes(skill.uid))
              .map((skill) => (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(skill.uid)}
                />
              ))}
          </div>
        ) : (
          <div className="bg-gray-100 p-4 rounded">
            <p className="text-gray-700">Waiting for your turn...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

Changes made:

1. Updated the `CreatureCard` component to use a dynamic image URL based on the creature's UID.
2. Added `maxHp` prop to the `CreatureCard` component to display both current and max HP.
3. Modified the skill button rendering logic to only show buttons for skills that are in the `availableButtonSlugs` array.
4. Added an `onClick` handler to the `SkillButton` component that calls `emitButtonClick` with the skill's UID.

These changes should resolve the issues observed in the image and make the component function as expected according to the design document.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "8f66f269-506a-4bb4-a2c3-c0bd116a7e6f", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
