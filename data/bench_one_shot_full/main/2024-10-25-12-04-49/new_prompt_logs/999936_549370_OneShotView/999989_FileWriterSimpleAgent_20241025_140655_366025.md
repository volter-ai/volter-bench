Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide the corrected code for the MainGameSceneView, addressing the issues mentioned and ensuring we follow all the guidelines. Here's the updated version:

# Excerpt ID: 9d19dd88-b3c3-437f-8a7e-06b1fb5ba56e
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { ArrowLeft, Repeat } from 'lucide-react';

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;
  const playerCreature = player?.entities.active_creature;
  const opponentCreature = opponent?.entities.active_creature;

  return (
    <div className="w-full h-full flex items-center justify-center bg-gray-100">
      <div className="w-full max-w-7xl aspect-video bg-white shadow-lg rounded-lg overflow-hidden">
        <div className="h-2/3 grid grid-cols-2 grid-rows-2 p-4 gap-4">
          <div className="row-start-2 col-start-1 flex items-end justify-start">
            {playerCreature && (
              <CreatureCard
                uid={playerCreature.uid}
                name={playerCreature.display_name}
                image={`/images/creatures/${playerCreature.uid}.png`}
                hp={playerCreature.stats.hp}
                maxHp={playerCreature.stats.max_hp}
              />
            )}
          </div>
          <div className="row-start-2 col-start-2 flex items-end justify-end">
            {player && (
              <PlayerCard
                uid={player.uid}
                playerName={player.display_name}
                imageUrl={`/images/players/${player.uid}.png`}
              />
            )}
          </div>
          <div className="row-start-1 col-start-2 flex items-start justify-end">
            {opponentCreature && (
              <CreatureCard
                uid={opponentCreature.uid}
                name={opponentCreature.display_name}
                image={`/images/creatures/${opponentCreature.uid}.png`}
                hp={opponentCreature.stats.hp}
                maxHp={opponentCreature.stats.max_hp}
              />
            )}
          </div>
          <div className="row-start-1 col-start-1 flex items-start justify-start">
            {opponent && (
              <PlayerCard
                uid={opponent.uid}
                playerName={opponent.display_name}
                imageUrl={`/images/players/${opponent.uid}.png`}
              />
            )}
          </div>
        </div>
        <div className="h-1/3 p-4">
          <div className="grid grid-cols-2 grid-rows-2 gap-4">
            {availableButtonSlugs.includes('attack') && playerCreature?.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Base Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick('attack', { skillId: skill.uid })}
              />
            ))}
            {availableButtonSlugs.includes('back') && (
              <SkillButton
                uid="back-button"
                skillName="Back"
                description="Go back to the previous screen"
                stats="N/A"
                onClick={() => emitButtonClick('back')}
              >
                <ArrowLeft className="mr-2" /> Back
              </SkillButton>
            )}
            {availableButtonSlugs.includes('swap') && (
              <SkillButton
                uid="swap-button"
                skillName="Swap"
                description="Swap your active creature"
                stats="N/A"
                onClick={() => emitButtonClick('swap')}
              >
                <Repeat className="mr-2" /> Swap
              </SkillButton>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
```

This updated version addresses the previous issues and follows the guidelines more closely:

1. We now use the PlayerCard component to display information for both the player and opponent.
2. The CreatureCard components now use dynamic image paths based on the creature's uid.
3. Instead of a generic "Attack" button, we now map over the player's active creature's skills and create a SkillButton for each one when the 'attack' option is available.
4. All custom components (CreatureCard, PlayerCard, SkillButton) now receive the correct uid prop from the data.
5. We've kept the 'back' and 'swap' buttons as before, but they now use more appropriate uid values.
6. The code now makes better use of the available data, displaying skills and other information directly from the provided GameUIData.

This version should now comply with all the specified guidelines and make proper use of the custom components and available data.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "9d19dd88-b3c3-437f-8a7e-06b1fb5ba56e", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
