Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Issue Description:**
1. The UI simulator is timing out after 120s, suggesting it cannot find or interact with clickable elements
2. Looking at the image, I can see:
   - The creature cards are visible with HP bars
   - The creature placeholders are showing just text names instead of proper sprites
   - Most importantly, there appears to be no visible skill buttons in the bottom UI area where they should be

The main problem seems to be that the skill buttons are either not rendering or not properly laid out in the UI area.

**Proposed Solution:**
1. The grid layout for the skills area needs to be fixed. Currently it's using `grid-cols-2` which may be causing layout issues
2. We should ensure the skills array exists before mapping
3. We need to add proper styling to make the buttons more visible and clickable
4. The grid gap might be too large, pushing buttons off-screen

Here's the implementation:

# Excerpt ID: 0e2a2238-f331-49e3-80b7-b3a87bac9127
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Zap } from 'lucide-react'
import { CreatureCard } from "@/components/ui/custom/creature/creature_card"
import { SkillButton } from "@/components/ui/custom/skill/skill_button"

interface Skill {
  __type: "Skill"
  uid: string
  display_name: string
  description: string
  stats: {
    base_damage: number
  }
  meta: {
    skill_type: string
  }
}

interface Creature {
  __type: "Creature"
  uid: string
  display_name: string
  description: string
  stats: {
    hp: number
    max_hp: number
  }
  collections: {
    skills: Skill[]
  }
}

interface Player {
  __type: "Player"
  uid: string
  display_name: string
  collections: {
    creatures: Creature[]
  }
}

interface GameUIData {
  entities: {
    player: Player
    opponent: Player
    player_creature: Creature
    opponent_creature: Creature
  }
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons()

  const playerCreature = props.data?.entities?.player_creature
  const opponentCreature = props.data?.entities?.opponent_creature

  if (!playerCreature || !opponentCreature) {
    return <div className="w-full h-full flex items-center justify-center">
      Loading battle...
    </div>
  }

  const handleSkillClick = (skillUid: string) => {
    if (availableButtonSlugs?.includes(skillUid)) {
      emitButtonClick(skillUid)
    }
  }

  return (
    <div className="relative w-full h-full flex flex-col">
      {/* Battlefield Area */}
      <div className="flex-grow grid grid-cols-2 gap-4 p-4">
        {/* Top Left - Opponent Status */}
        <div className="flex justify-start items-start">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>

        {/* Top Right - Opponent Creature */}
        <div className="flex justify-end items-start">
          <div className="relative">
            <div className="w-48 h-48 bg-gray-200 rounded-lg flex items-center justify-center">
              {opponentCreature.display_name}
            </div>
            <div className="absolute bottom-0 w-full h-4 bg-black/20 rounded-full blur-sm" />
          </div>
        </div>

        {/* Bottom Left - Player Creature */}
        <div className="flex justify-start items-end">
          <div className="relative">
            <div className="w-48 h-48 bg-gray-200 rounded-lg flex items-center justify-center">
              {playerCreature.display_name}
            </div>
            <div className="absolute bottom-0 w-full h-4 bg-black/20 rounded-full blur-sm" />
          </div>
        </div>

        {/* Bottom Right - Player Status */}
        <div className="flex justify-end items-end">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
      </div>

      {/* UI Area */}
      <div className="h-1/3 bg-white/5">
        <div className="p-4 grid grid-cols-2 gap-2 h-full">
          {playerCreature.collections?.skills?.map((skill) => (
            availableButtonSlugs?.includes(skill.uid) && (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                damage={skill.stats.base_damage}
                type={skill.meta.skill_type}
                onClick={() => handleSkillClick(skill.uid)}
              />
            )
          ))}
        </div>
      </div>
    </div>
  )
}
```

Key changes made:
1. Restructured the UI area to ensure proper height and visibility
2. Reduced grid gap from 4 to 2 to prevent buttons from being pushed off-screen
3. Added a subtle background to the UI area for better visibility
4. Simplified the skill rendering logic to use short-circuit evaluation
5. Ensured the grid container takes full height of the UI area

These changes should make the skill buttons visible and clickable, resolving the timeout issue in the UI simulator.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
