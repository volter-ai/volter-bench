Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The scene is mostly correct, but there are no skill buttons visible in the user interface area.
2. The "Waiting for game action..." message is displayed, which suggests that there are no available button slugs.
3. The timeout error indicates that the UI simulator is not receiving the expected input or response within the allocated time.

Proposed solution:

1. Ensure that the `availableButtonSlugs` array is being populated correctly.
2. Add a check to display skill buttons even when `availableButtonSlugs` is empty, to prevent the UI from getting stuck in a waiting state.
3. Add error handling to catch and log any issues with button rendering.

Here's the implementation of the proposed solution:

# Excerpt ID: 477e6999-f723-45d2-95cd-910306965a9a
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    bot: Player;
    player_creature: Creature;
    bot_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const botCreature = props.data.entities.bot_creature;

  return (
    <div className="w-full h-full flex flex-col">
      {/* HUD */}
      <nav className="w-full h-16 bg-gray-800 text-white flex items-center justify-between px-4">
        <div>Player: {props.data.entities.player.display_name}</div>
        <div>Opponent: {props.data.entities.bot.display_name}</div>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center px-8">
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={playerCreature.stats.hp}
          />
        </div>
        <div className="flex flex-col items-center">
          <Swords className="w-8 h-8 mb-2" />
          <CreatureCard
            uid={botCreature.uid}
            name={botCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={botCreature.stats.hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="w-full h-1/3 bg-gray-100 p-4 overflow-y-auto">
        <div className="flex flex-wrap gap-2">
          {playerCreature.collections.skills.map((skill) => {
            const isAvailable = availableButtonSlugs.includes(skill.uid);
            return (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.damage}`}
                onClick={() => isAvailable && emitButtonClick(skill.uid)}
                disabled={!isAvailable}
              />
            );
          })}
        </div>
        {playerCreature.collections.skills.length === 0 && (
          <div className="text-center">
            No skills available
          </div>
        )}
      </div>
    </div>
  );
}
```

Changes made:

1. Removed the condition that only renders skill buttons when `availableButtonSlugs` is not empty. This ensures that skill buttons are always displayed, even when there are no available actions.
2. Added a `disabled` prop to the `SkillButton` component, which is set to `true` when the skill is not in the `availableButtonSlugs` array.
3. Modified the `onClick` handler to only emit the button click if the skill is available.
4. Added a fallback message when there are no skills in the player's creature's skill collection.

These changes should resolve the timeout issue by ensuring that the UI always renders something, even when there are no available actions. The skill buttons will be visible but disabled when not available, providing a clearer user interface and preventing the UI from getting stuck in a waiting state.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "477e6999-f723-45d2-95cd-910306965a9a", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
