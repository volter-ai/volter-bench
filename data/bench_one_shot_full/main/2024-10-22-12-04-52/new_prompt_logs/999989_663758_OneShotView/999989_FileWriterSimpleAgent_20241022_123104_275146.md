Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide the corrected code for the MainGameScene component, addressing the issues mentioned and ensuring we follow all guidelines.

# Excerpt ID: ecb19d85-f3e6-4d4d-95da-3bbc1deacb2f
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Button } from "@/components/ui/button";
import { Sword, RotateCcw, Home } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  description: string;
  collections?: {
    skills?: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full aspect-video bg-gray-100 flex flex-col">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="text-center">
          <h2 className="text-lg font-semibold mb-2">Player</h2>
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              imageUrl={`/creatures/${playerCreature.uid}.png`}
              hp={playerCreature.stats.hp}
            />
          )}
        </div>
        <Sword className="w-12 h-12 text-red-500" />
        <div className="text-center">
          <h2 className="text-lg font-semibold mb-2">Opponent</h2>
          {opponentCreature && (
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              imageUrl={`/creatures/${opponentCreature.uid}.png`}
              hp={opponentCreature.stats.hp}
            />
          )}
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-gray-200 p-4">
        <div className="bg-white rounded-lg p-4 mb-4 h-24 overflow-y-auto">
          {/* Game description text would go here */}
          <p>Battle in progress...</p>
        </div>
        <div className="flex flex-wrap gap-2">
          {playerCreature?.collections?.skills?.map((skill: Skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
            />
          ))}
          {availableButtonSlugs.includes("play-again") && (
            <Button onClick={() => emitButtonClick("play-again")}>
              <RotateCcw className="mr-2 h-4 w-4" /> Play Again
            </Button>
          )}
          {availableButtonSlugs.includes("return-to-main-menu") && (
            <Button onClick={() => emitButtonClick("return-to-main-menu")}>
              <Home className="mr-2 h-4 w-4" /> Main Menu
            </Button>
          )}
        </div>
      </div>
    </div>
  );
}
```

This corrected version addresses the issues mentioned:

1. The unused PlayerCard import has been removed.
2. The imageUrl prop for CreatureCard now uses a dynamic path based on the creature's uid.
3. We've added null checks for the creatures before rendering their CreatureCards.
4. The skills mapping now properly checks if collections and skills exist before mapping.

Additionally, all custom components (CreatureCard and SkillButton) are used with their required uid props, and we're following the guidelines for button interactions and layout.

This version should now be compliant with all the specified requirements and guidelines.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "ecb19d85-f3e6-4d4d-95da-3bbc1deacb2f", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
