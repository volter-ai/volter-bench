Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The layout of the creatures is incorrect. The opponent's creature (Scizard) should be in the top-right corner, while the player's creature (Bubwool) should be in the bottom-left corner.

2. The HP bars are not properly styled or positioned.

3. The skill buttons are not correctly aligned in a 2x2 grid as specified in the design document.

4. The "Return to Main Menu" button is not properly styled to match the skill buttons.

5. The background for the battlefield and UI areas is missing.

Proposed solution:

1. Swap the positions of the opponent and player creatures in the layout.
2. Adjust the styling of the CreatureCard component to properly display the HP bars.
3. Modify the grid layout for the skill buttons to ensure a 2x2 arrangement.
4. Style the "Return to Main Menu" button to match the skill buttons.
5. Add background colors to distinguish the battlefield and UI areas.

Here's the implemented solution:

# Excerpt ID: fb21f133-15cd-4aa6-904a-2e6af5ffab12
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, ArrowLeft } from 'lucide-react'
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";

interface Skill {
  __type: "Skill";
  stats: { base_damage: number };
  meta: { skill_type: string; is_physical: boolean };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: { creature_type: string };
  collections: { skills: Skill[] };
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  __type: "Player";
  collections: { creatures: Creature[] };
  uid: string;
  display_name: string;
  description: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
  meta: { battle_ended: boolean };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow flex bg-gray-200">
        {/* Opponent Creature */}
        <div className="w-1/2 flex flex-col items-end justify-start p-4">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            image={`/images/creatures/${opponent_creature.meta.creature_type}.png`}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
          />
        </div>
        {/* Player Creature */}
        <div className="w-1/2 flex flex-col items-start justify-end p-4">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            image={`/images/creatures/${player_creature.meta.creature_type}_back.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        <div className="grid grid-cols-2 gap-4 h-full">
          {availableButtonSlugs.includes('use-skill') && player_creature.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
              onClick={() => emitButtonClick('use-skill', { skillId: skill.uid })}
            >
              <Sword className="mr-2 h-4 w-4" />
              {skill.display_name}
            </SkillButton>
          ))}
          {availableButtonSlugs.includes('return-to-main-menu') && (
            <SkillButton
              uid="return-to-main-menu"
              skillName="Return to Main Menu"
              description="Go back to the main menu"
              stats=""
              onClick={() => emitButtonClick('return-to-main-menu')}
            >
              <ArrowLeft className="mr-2 h-4 w-4" />
              Return to Main Menu
            </SkillButton>
          )}
        </div>
      </div>
    </div>
  );
}
```

These changes address the issues identified:

1. The opponent's creature is now positioned in the top-right corner (items-end justify-start), and the player's creature is in the bottom-left corner (items-start justify-end).
2. The CreatureCard component is now responsible for properly displaying the HP bars.
3. The grid layout for skill buttons now uses "grid-cols-2 gap-4 h-full" to ensure a 2x2 arrangement.
4. The "Return to Main Menu" button is now styled using the SkillButton component, matching the other skill buttons.
5. Background colors have been added to distinguish the battlefield (bg-gray-200) and UI areas (bg-gray-100).

These changes should resolve the layout issues and improve the overall appearance of the game scene.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "fb21f133-15cd-4aa6-904a-2e6af5ffab12", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
