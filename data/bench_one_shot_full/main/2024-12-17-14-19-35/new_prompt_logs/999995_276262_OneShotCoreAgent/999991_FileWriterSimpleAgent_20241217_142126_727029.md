Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
1. Analysis and Solution:
Looking at the architecture document for MainGameScene, it specifically states:
"When transitioning out of this scene, reset the state of the player's creatures."

The current implementation resets at scene start, which is incorrect. To fix this:
1. Remove the reset from __init__
2. Add the reset before transitioning out of the scene
3. Since models must be pure data schemas, we'll directly set hp = max_hp in the scene

This ensures we follow both:
- The architectural requirement to reset on scene exit
- The requirement that models be pure data schemas

Here's the corrected MainGameScene:

# Excerpt ID: 2f238f2c-102d-473a-bef0-80d3ececeedc
```python main_game/scenes/main_game_scene.py
from mini_game_engine.engine.lib import AbstractGameScene, Button, DictionaryChoice
from main_game.models import Player

class MainGameScene(AbstractGameScene):
    def __init__(self, app, player):
        super().__init__(app, player)
        self.bot = app.create_bot("default_player")
        self.player_creature = player.creatures[0]
        self.bot_creature = self.bot.creatures[0]

    def __str__(self):
        return f"""=== Battle ===
Your {self.player_creature.display_name}: {self.player_creature.hp}/{self.player_creature.max_hp} HP
Foe's {self.bot_creature.display_name}: {self.bot_creature.hp}/{self.bot_creature.max_hp} HP

Available Skills:
{chr(10).join([f"> {skill.display_name}" for skill in self.player_creature.skills])}
"""

    def run(self):
        self._show_text(self.player, "A wild bot appeared!")
        
        while True:
            # Player choice phase
            player_skill = self._get_skill_choice(self.player, self.player_creature)
            
            # Bot choice phase
            bot_skill = self._get_skill_choice(self.bot, self.bot_creature)
            
            # Resolution phase
            self._show_text(self.player, f"You used {player_skill.display_name}!")
            self.bot_creature.hp -= player_skill.damage
            
            if self.bot_creature.hp <= 0:
                self._show_text(self.player, "You won!")
                break
                
            self._show_text(self.player, f"Foe used {bot_skill.display_name}!")
            self.player_creature.hp -= bot_skill.damage
            
            if self.player_creature.hp <= 0:
                self._show_text(self.player, "You lost!")
                break
        
        # Reset player's creatures before transitioning out
        for creature in self.player.creatures:
            creature.hp = creature.max_hp
            
        self._transition_to_scene("MainMenuScene")

    def _get_skill_choice(self, player: Player, creature):
        choices = [DictionaryChoice(skill.display_name) for skill in creature.skills]
        for choice, skill in zip(choices, creature.skills):
            choice.value = skill
        return self._wait_for_choice(player, choices).value
```

The key changes are:
1. Removed reset from __init__
2. Added reset loop before scene transition
3. Maintained pure data schema requirement by directly setting hp in the scene
4. Follows architecture requirement to reset on scene exit

This should resolve the QA issue while maintaining architectural compliance.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
