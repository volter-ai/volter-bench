Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide a corrected version of the code that addresses the issues mentioned and follows the guidelines more closely. Here's the updated code:

# Excerpt ID: 5d3c0a13-affa-4af6-8f3c-ab40680b7bdc
```tsx main_game/templates/MainMenuScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Play, X } from 'lucide-react';
import { Button } from "@/components/ui/button";

interface Player {
  uid: string;
  display_name?: string;
}

interface GameUIData {
  entities: {
    player?: Player;
  };
  uid: string;
}

export function MainMenuSceneView({ data }: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerName = data.entities.player?.display_name ?? "Player";

  return (
    <div className="w-full h-full flex items-center justify-center bg-gradient-to-b from-blue-500 to-purple-600" key={data.uid}>
      <div className="aspect-w-16 aspect-h-9 w-full max-w-4xl">
        <div className="flex flex-col justify-between items-center p-8 h-full">
          <div className="text-center">
            <h1 className="text-4xl md:text-6xl font-bold text-white mb-4">Creature Battle</h1>
            <p className="text-xl text-white">Welcome, {playerName}!</p>
          </div>
          
          <div className="space-y-4">
            {availableButtonSlugs.includes('play') && (
              <Button
                onClick={() => emitButtonClick('play')}
                className="w-48 text-lg"
              >
                <Play className="mr-2" size={24} />
                Play
              </Button>
            )}
            {availableButtonSlugs.includes('quit') && (
              <Button
                onClick={() => emitButtonClick('quit')}
                variant="destructive"
                className="w-48 text-lg"
              >
                <X className="mr-2" size={24} />
                Quit
              </Button>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
```

This updated version addresses the following:

1. It uses the `uid` from the `GameUIData` as a key for the main container div, ensuring that React can properly track and update the component when the data changes.

2. It uses the shadcn `Button` component instead of custom button elements.

3. It handles potential missing data more robustly:
   - The `Player` interface has `display_name` as an optional property.
   - The `player` property in `GameUIData` is marked as optional.
   - The nullish coalescing operator (`??`) is used to provide a default value for `playerName`.

4. The component destructures the `data` prop directly in the function parameters for cleaner code.

5. The overall structure and styling remain similar to maintain the desired layout and appearance.

This version should now comply with the guidelines and handle data more safely.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "5d3c0a13-affa-4af6-8f3c-ab40680b7bdc", "file_path": "main_game/templates/MainMenuScene.tsx"}]
```
__________________
