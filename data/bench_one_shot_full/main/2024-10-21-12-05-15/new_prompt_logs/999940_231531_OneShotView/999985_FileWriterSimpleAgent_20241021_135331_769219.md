Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that need to be addressed:

1. The layout of the creatures and their status information is incorrect. The player's creature (Bubwool) should be in the bottom-left, but it's in the top-left. The opponent's creature (Scizard) should be in the top-right, but it's in the top-left as well.

2. The status information for both creatures is not properly aligned with their respective images.

3. The skill buttons are not properly styled and don't include icons or descriptions as specified in the code.

4. The overall layout doesn't match the 2/3 battlefield and 1/3 UI split described in the design document.

To resolve these issues, we need to make the following changes:

1. Adjust the grid layout to correctly position the creatures and their status information.
2. Ensure that the status information is properly aligned with the creature images.
3. Style the skill buttons correctly, including icons and descriptions.
4. Adjust the overall layout to match the 2/3 battlefield and 1/3 UI split.

Here's the implemented solution:

# Excerpt ID: 84ddb777-1147-42e6-84dd-e08321995a9a
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, RefreshCw } from 'lucide-react';
import { CreatureCard, Progress } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player?.entities.active_creature;
  const opponentCreature = props.data.entities.opponent?.entities.active_creature;

  return (
    <div className="w-full h-full flex items-center justify-center bg-gray-100">
      <div className="w-full max-w-7xl aspect-video bg-white shadow-lg rounded-lg overflow-hidden flex flex-col">
        <div className="h-2/3 grid grid-cols-2 grid-rows-2 p-4 gap-4">
          <div className="row-start-2 col-start-1 flex items-end justify-start">
            {playerCreature && (
              <CreatureCard
                uid={playerCreature.uid}
                name={playerCreature.display_name}
                image={`/images/creatures/${playerCreature.uid}_back.png`}
                hp={playerCreature.stats.hp}
                maxHp={playerCreature.stats.max_hp}
              />
            )}
          </div>
          <div className="row-start-2 col-start-2 flex items-end justify-end">
            {playerCreature && (
              <div className="text-right">
                <h3 className="font-bold">{playerCreature.display_name}</h3>
                <Progress 
                  uid={`${playerCreature.uid}-hp`}
                  value={(playerCreature.stats.hp / playerCreature.stats.max_hp) * 100} 
                  className="w-32"
                />
                <p>HP: {playerCreature.stats.hp} / {playerCreature.stats.max_hp}</p>
              </div>
            )}
          </div>
          <div className="row-start-1 col-start-2 flex items-start justify-end">
            {opponentCreature && (
              <CreatureCard
                uid={opponentCreature.uid}
                name={opponentCreature.display_name}
                image={`/images/creatures/${opponentCreature.uid}_front.png`}
                hp={opponentCreature.stats.hp}
                maxHp={opponentCreature.stats.max_hp}
              />
            )}
          </div>
          <div className="row-start-1 col-start-1 flex items-start justify-start">
            {opponentCreature && (
              <div className="text-left">
                <h3 className="font-bold">{opponentCreature.display_name}</h3>
                <Progress 
                  uid={`${opponentCreature.uid}-hp`}
                  value={(opponentCreature.stats.hp / opponentCreature.stats.max_hp) * 100} 
                  className="w-32"
                />
                <p>HP: {opponentCreature.stats.hp} / {opponentCreature.stats.max_hp}</p>
              </div>
            )}
          </div>
        </div>
        <div className="h-1/3 p-4 bg-gray-100">
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.includes('attack') && (
              <SkillButton
                uid="attack-button"
                skillName="Attack"
                description="Perform a basic attack"
                stats="Damage varies"
                onClick={() => emitButtonClick('attack')}
              >
                <Sword className="mr-2 h-4 w-4" /> Attack
              </SkillButton>
            )}
            {availableButtonSlugs.includes('swap') && (
              <SkillButton
                uid="swap-button"
                skillName="Swap"
                description="Swap your active creature"
                stats="No damage"
                onClick={() => emitButtonClick('swap')}
              >
                <RefreshCw className="mr-2 h-4 w-4" /> Swap
              </SkillButton>
            )}
            {playerCreature?.collections?.skills?.map((skill: Skill) => (
              availableButtonSlugs.includes(skill.uid) && (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Base Damage: ${skill.stats.base_damage}`}
                  onClick={() => emitButtonClick(skill.uid)}
                />
              )
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

The main changes made are:

1. Adjusted the grid layout to correctly position the creatures and their status information.
2. Added a flex container with `flex-col` to ensure proper 2/3 and 1/3 split between battlefield and UI.
3. Added background color to the UI section to differentiate it from the battlefield.
4. Ensured that skill buttons are only rendered if their corresponding slug is in the `availableButtonSlugs` array.
5. Kept the existing structure for creature cards and progress bars, as they seem to be custom components that likely handle their own internal styling.

These changes should resolve the layout issues and ensure that the component matches the design document more closely. The timeout error may have been caused by the incorrect layout preventing proper interaction with the UI elements. By fixing the layout, we should allow the game simulation to progress correctly.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "84ddb777-1147-42e6-84dd-e08321995a9a", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
