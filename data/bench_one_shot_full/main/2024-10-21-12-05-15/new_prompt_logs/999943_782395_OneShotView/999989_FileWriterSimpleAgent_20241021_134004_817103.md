Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide the corrected code for the MainGameSceneView component, addressing the issues with uid props and incorporating the PlayerCard component. I'll also make some assumptions about image URLs based on the creature's name.

# Excerpt ID: 3862faca-b60e-4cf4-85bc-c4140ad8a2b1
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, RefreshCw } from 'lucide-react'
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { Button } from "@/components/ui/button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons()

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;

  const getCreatureImageUrl = (name: string) => `/creatures/${name.toLowerCase()}.png`;

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="row-start-1 col-start-1 flex justify-start items-start">
          <CreatureCard
            uid={opponent.entities.active_creature?.uid ?? ""}
            name={opponent.entities.active_creature?.display_name ?? "Unknown"}
            image={getCreatureImageUrl(opponent.entities.active_creature?.display_name ?? "unknown")}
            hp={opponent.entities.active_creature?.stats.hp ?? 0}
            maxHp={opponent.entities.active_creature?.stats.max_hp ?? 1}
          />
        </div>

        {/* Opponent Creature */}
        <div className="row-start-1 col-start-2 flex justify-end items-start">
          <img 
            src={getCreatureImageUrl(opponent.entities.active_creature?.display_name ?? "unknown")} 
            alt="Opponent Creature" 
            className="w-40 h-40 object-contain"
          />
        </div>

        {/* Player Creature */}
        <div className="row-start-2 col-start-1 flex justify-start items-end">
          <img 
            src={getCreatureImageUrl(player.entities.active_creature?.display_name ?? "unknown")} 
            alt="Player Creature" 
            className="w-40 h-40 object-contain"
          />
        </div>

        {/* Player Creature Status */}
        <div className="row-start-2 col-start-2 flex justify-end items-end">
          <CreatureCard
            uid={player.entities.active_creature?.uid ?? ""}
            name={player.entities.active_creature?.display_name ?? "Unknown"}
            image={getCreatureImageUrl(player.entities.active_creature?.display_name ?? "unknown")}
            hp={player.entities.active_creature?.stats.hp ?? 0}
            maxHp={player.entities.active_creature?.stats.max_hp ?? 1}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        <div className="grid grid-cols-2 gap-4">
          {availableButtonSlugs.includes('attack') && (
            <Button onClick={() => emitButtonClick('attack')}>
              <Sword className="mr-2 h-4 w-4" /> Attack
            </Button>
          )}
          {availableButtonSlugs.includes('swap') && (
            <Button onClick={() => emitButtonClick('swap')}>
              <RefreshCw className="mr-2 h-4 w-4" /> Swap
            </Button>
          )}
          {player.entities.active_creature?.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Base Damage: ${skill.stats.base_damage}`}
            />
          ))}
        </div>
        <div className="mt-4 flex justify-between">
          <PlayerCard
            uid={player.uid}
            playerName={player.display_name}
            imageUrl={`/players/${player.display_name.toLowerCase().replace(' ', '_')}.png`}
          />
          <PlayerCard
            uid={opponent.uid}
            playerName={opponent.display_name}
            imageUrl={`/players/${opponent.display_name.toLowerCase().replace(' ', '_')}.png`}
          />
        </div>
      </div>
    </div>
  )
}
```

This corrected version addresses the following issues:

1. All custom components (CreatureCard, SkillButton, and PlayerCard) now have the uid prop correctly passed.
2. The PlayerCard component is now used to display both the player and opponent information.
3. I've added a simple function `getCreatureImageUrl` to generate image URLs based on creature names. This assumes that creature images are stored in a `/creatures/` directory with lowercase filenames.
4. Player images are assumed to be in a `/players/` directory with lowercase, underscore-separated filenames.
5. The code now handles potential missing data more robustly, providing fallback values for all properties.

This implementation should now correctly use all the custom components as specified and handle the uid props properly. It also provides a more complete representation of the game state, including both player and opponent information.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "3862faca-b60e-4cf4-85bc-c4140ad8a2b1", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
