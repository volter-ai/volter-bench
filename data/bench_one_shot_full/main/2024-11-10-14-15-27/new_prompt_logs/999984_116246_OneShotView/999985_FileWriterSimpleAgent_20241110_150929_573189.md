Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Issue Description:**
Looking at the image and error, there appear to be several problems:
1. The UI simulator is timing out after 120s, suggesting it can't find or interact with clickable elements
2. The bottom section where skill buttons should appear seems to be empty in the image
3. The error suggests connection issues with source maps, but more importantly indicates the UI is not properly interactive

The main gameplay area shows the creatures correctly, but the crucial interactive elements (skill buttons) aren't visible or properly accessible.

**Proposed Solution:**
1. The `availableSkills` filtering logic may be incorrect - we should ensure we're properly matching skills to available button slugs
2. The skills section needs a fallback UI state when no skills are available
3. We should ensure the skill buttons are properly sized and visible
4. Add error boundaries and loading states

Here's the complete implementation:

# Excerpt ID: 321b4f98-1b23-4906-adf7-cb3ae0344bd4
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react'
import { CreatureCard } from "@/components/ui/custom/creature/creature_card"
import { SkillButton } from "@/components/ui/custom/skill/skill_button"
import { PlayerCard } from "@/components/ui/custom/player/player_card"

interface Skill {
  __type: "Skill"
  uid: string
  display_name: string
  description: string
  stats: {
    base_damage: number
  }
}

interface Creature {
  __type: "Creature"
  uid: string
  display_name: string
  description: string
  meta: {
    prototype_id: string
  }
  stats: {
    hp: number
    max_hp: number
  }
  collections: {
    skills: Skill[]
  }
}

interface Player {
  __type: "Player"
  uid: string
  display_name: string
  meta: {
    prototype_id: string
  }
  collections: {
    creatures: Creature[]
  }
}

interface GameUIData {
  entities: {
    player: Player
    bot: Player
    player_creature: Creature
    bot_creature: Creature
  }
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons()

  const { player, bot, player_creature, bot_creature } = props.data.entities

  // Map available slugs to skills
  const availableSkills = player_creature?.collections.skills.filter(skill => 
    availableButtonSlugs.includes(skill.uid)
  ) || []

  return (
    <div className="h-screen w-screen flex flex-col bg-background">
      {/* HUD */}
      <nav className="h-[10%] flex items-center justify-between px-6 border-b">
        {player && (
          <PlayerCard
            uid={player.uid}
            name={player.display_name}
            imageUrl={`/players/${player.meta?.prototype_id || 'default'}.png`}
          />
        )}
        {bot && (
          <PlayerCard
            uid={bot.uid}
            name={bot.display_name}
            imageUrl={`/players/${bot.meta?.prototype_id || 'default'}.png`}
          />
        )}
      </nav>

      {/* Battlefield */}
      <div className="h-[60%] flex justify-between items-center px-12">
        <div className="flex flex-col items-center gap-4">
          <span className="text-lg font-bold">Your Creature</span>
          {player_creature && (
            <CreatureCard
              uid={player_creature.uid}
              name={player_creature.display_name}
              currentHp={player_creature.stats.hp}
              maxHp={player_creature.stats.max_hp}
              imageUrl={`/creatures/${player_creature.meta?.prototype_id || 'default'}.png`}
            />
          )}
        </div>

        <div className="flex flex-col items-center gap-4">
          <span className="text-lg font-bold">Opponent's Creature</span>
          {bot_creature && (
            <CreatureCard
              uid={bot_creature.uid}
              name={bot_creature.display_name}
              currentHp={bot_creature.stats.hp}
              maxHp={bot_creature.stats.max_hp}
              imageUrl={`/creatures/${bot_creature.meta?.prototype_id || 'default'}.png`}
            />
          )}
        </div>
      </div>

      {/* Skills/Controls */}
      <div className="h-[30%] flex flex-col items-center justify-center p-6 border-t">
        {availableSkills.length > 0 ? (
          <div className="grid grid-cols-2 gap-4 w-full max-w-2xl">
            {availableSkills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={{
                  damage: skill.stats.base_damage
                }}
                onClick={() => emitButtonClick(skill.uid)}
              />
            ))}
          </div>
        ) : (
          <div className="text-center text-gray-500">
            Waiting for available actions...
          </div>
        )}
      </div>
    </div>
  )
}
```

Key changes made:
1. Added a fallback UI state when no skills are available
2. Added width constraints to the skills grid (`max-w-2xl`)
3. Made the skills grid full-width within its container
4. Added proper spacing and layout constraints
5. Ensured the skills section maintains its height even when empty

These changes should make the UI more robust and interactive, resolving the timeout issues in the UI simulator.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
