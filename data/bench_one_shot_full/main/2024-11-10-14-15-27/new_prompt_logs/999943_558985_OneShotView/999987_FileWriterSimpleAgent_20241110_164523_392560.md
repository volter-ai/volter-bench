Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Problem Description:**
Looking at the image and the error, there are several issues:
1. The UI simulator is timing out after 120s, suggesting it cannot interact with elements properly
2. The buttons in the UI area appear to be non-interactive or not properly bound to click events
3. The skill buttons ("Tackle" and "Lick") don't seem to be using the SkillButton component as defined in the code
4. The `uid` prop is missing from some custom components

**Proposed Solution:**
1. Add proper `uid` props to all custom components (CreatureCard and SkillButton)
2. Ensure the skill buttons are properly mapped and rendered using the SkillButton component
3. Fix the grid layout in the UI area to properly contain and display the buttons
4. Ensure button clicks are properly emitted with correct slugs

Here's the corrected code:

# Excerpt ID: 5ba690a3-7a23-4e3b-bdf9-4b75b6f81903
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts"
import { Shield, Sword, ArrowLeft, RefreshCw } from 'lucide-react'
import { CreatureCard } from "@/components/ui/custom/creature/creature_card"
import { SkillButton } from "@/components/ui/custom/skill/skill_button"
import { Button } from "@/components/ui/button"

interface Skill {
  __type: "Skill"
  uid: string
  display_name: string
  description: string
  stats: {
    base_damage: number
  }
  meta: {
    skill_type: string
    prototype_id: string
  }
}

interface Creature {
  __type: "Creature"
  uid: string
  display_name: string
  stats: {
    hp: number
    max_hp: number
  }
  meta: {
    creature_type: string
    prototype_id: string
  }
  collections: {
    skills: Skill[]
  }
}

interface Player {
  __type: "Player"
  uid: string
  display_name: string
  entities: {
    active_creature?: Creature
  }
}

interface GameUIData {
  entities: {
    player: Player
    bot: Player
  }
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons()

  const playerCreature = props.data.entities.player?.entities.active_creature
  const botCreature = props.data.entities.bot?.entities.active_creature

  const handleSkillClick = () => {
    emitButtonClick('attack')
  }

  const handleBackClick = () => {
    emitButtonClick('back')
  }

  const handleSwapClick = () => {
    emitButtonClick('swap')
  }

  return (
    <div className="w-full h-full aspect-video relative bg-gradient-to-b from-blue-100 to-blue-200">
      {/* Battlefield Area */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 p-4 gap-4">
        {/* Top Left - Bot Status */}
        <div className="flex justify-start items-start">
          {botCreature && (
            <CreatureCard
              uid={`creature-card-${botCreature.uid}`}
              name={botCreature.display_name}
              imageUrl={`/assets/creatures/${botCreature.meta.prototype_id}/front.png`}
              currentHp={botCreature.stats.hp}
              maxHp={botCreature.stats.max_hp}
            />
          )}
        </div>

        {/* Top Right - Bot Creature */}
        <div className="flex justify-end items-center relative">
          {botCreature && (
            <div className="absolute bottom-0 right-0">
              <div className="w-48 h-48 bg-black/10 rounded-full absolute bottom-0 transform translate-y-1/4" />
              <img 
                src={`/assets/creatures/${botCreature.meta.prototype_id}/front.png`}
                alt={botCreature.display_name}
                className="relative z-10 w-48 h-48 object-contain"
              />
            </div>
          )}
        </div>

        {/* Bottom Left - Player Creature */}
        <div className="flex justify-start items-center relative">
          {playerCreature && (
            <div className="absolute bottom-0 left-0">
              <div className="w-48 h-48 bg-black/10 rounded-full absolute bottom-0 transform translate-y-1/4" />
              <img 
                src={`/assets/creatures/${playerCreature.meta.prototype_id}/back.png`}
                alt={playerCreature.display_name}
                className="relative z-10 w-48 h-48 object-contain"
              />
            </div>
          )}
        </div>

        {/* Bottom Right - Player Status */}
        <div className="flex justify-end items-end">
          {playerCreature && (
            <CreatureCard
              uid={`creature-card-${playerCreature.uid}`}
              name={playerCreature.display_name}
              imageUrl={`/assets/creatures/${playerCreature.meta.prototype_id}/front.png`}
              currentHp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          )}
        </div>
      </div>

      {/* UI Area */}
      <div className="h-1/3 bg-slate-800/50 p-4">
        <div className="grid grid-cols-2 gap-4 h-full">
          {availableButtonSlugs.includes('attack') && playerCreature?.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={`skill-button-${skill.uid}`}
              skillName={skill.display_name}
              description={skill.description}
              stats={{
                damage: skill.stats.base_damage,
                type: skill.meta.skill_type
              }}
              onClick={handleSkillClick}
            />
          ))}
          
          {availableButtonSlugs.includes('back') && (
            <Button 
              onClick={handleBackClick}
              className="flex items-center gap-2"
            >
              <ArrowLeft className="w-4 h-4" />
              Back
            </Button>
          )}
          
          {availableButtonSlugs.includes('swap') && (
            <Button 
              onClick={handleSwapClick}
              className="flex items-center gap-2"
            >
              <RefreshCw className="w-4 h-4" />
              Swap
            </Button>
          )}
        </div>
      </div>
    </div>
  )
}
```

Key changes made:
1. Added unique `uid` props to CreatureCard and SkillButton components
2. Removed the skillUid parameter from handleSkillClick since we should only emit the button slug
3. Removed uid from non-custom Button components
4. Ensured proper conditional rendering based on availableButtonSlugs

These changes should resolve the timeout issue by making the components properly interactive and ensuring correct event emission.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
