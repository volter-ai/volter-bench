Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide the corrected code for the MainGameScene component, addressing the issues mentioned and ensuring we follow all guidelines. Here's the updated version:

# Excerpt ID: 66a1f36f-ee75-4499-a155-e56b2e7d4381
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Player {
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;
  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2 flex justify-between items-center">
        <PlayerCard
          uid={player?.uid || ""}
          playerName={player?.display_name || "Unknown Player"}
          imageUrl="/placeholder-player.jpg"
        />
        <div>Battle in Progress</div>
        <PlayerCard
          uid={opponent?.uid || ""}
          playerName={opponent?.display_name || "Unknown Opponent"}
          imageUrl="/placeholder-opponent.jpg"
        />
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <Sword className="mb-2" />
          <CreatureCard
            uid={playerCreature?.uid || ""}
            name={playerCreature?.display_name || "Unknown"}
            imageUrl={`/creatures/${playerCreature?.meta?.prototype_id || 'default'}.jpg`}
            hp={playerCreature?.stats.hp || 0}
          />
        </div>
        <div className="flex flex-col items-center">
          <Shield className="mb-2" />
          <CreatureCard
            uid={opponentCreature?.uid || ""}
            name={opponentCreature?.display_name || "Unknown"}
            imageUrl={`/creatures/${opponentCreature?.meta?.prototype_id || 'default'}.jpg`}
            hp={opponentCreature?.stats.hp || 0}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-300">
        <div className="mb-4 h-24 overflow-y-auto bg-gray-100 p-2 rounded">
          {/* Game text would go here */}
          <p>Battle in progress...</p>
        </div>
        <div className="flex justify-center space-x-2">
          {playerCreature?.collections?.skills?.map((skill: Skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              onClick={() => emitButtonClick(`use-skill-${skill.uid}`)}
              disabled={!availableButtonSlugs.includes(`use-skill-${skill.uid}`)}
            />
          ))}
          {availableButtonSlugs.includes("quit") && (
            <SkillButton
              uid="quit"
              skillName="Quit"
              description="Quit the battle"
              stats=""
              onClick={() => emitButtonClick("quit")}
            />
          )}
        </div>
      </div>
    </div>
  );
}
```

Changes and improvements:

1. Added the PlayerCard component to display player information in the HUD.
2. Updated the interface to include Player type and adjusted the GameUIData structure.
3. Changed the creature image URLs to use a dynamic path based on the creature's prototype_id. This assumes you have a naming convention for creature images.
4. Removed the hardcoded "quit" button and instead render it conditionally based on its presence in availableButtonSlugs.
5. Ensured that all custom components (PlayerCard, CreatureCard, SkillButton) receive a uid prop.
6. Used optional chaining and nullish coalescing throughout to handle potentially missing data safely.

This version adheres more closely to the guidelines and makes better use of the provided custom components. It also handles the dynamic nature of the quit button more appropriately. The image URLs for players and creatures should be adjusted based on your actual asset structure.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "66a1f36f-ee75-4499-a155-e56b2e7d4381", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
