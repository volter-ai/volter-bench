Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Thank you for providing the detailed information and requirements. I'll explain the architecture and implementation approach, and then provide the updated code for the MainGameSceneView component.

Architecture and Implementation Approach:

1. Component Structure:
   - We'll create a main container for the entire game scene.
   - Inside this container, we'll have three main sections:
     a. HUD (Header)
     b. Battlefield
     c. User Interface (Bottom)

2. Styling:
   - We'll use Tailwind CSS for inline styling to create the layout and design.
   - The main container will use flex layout to organize the sections vertically.
   - The battlefield will use flex layout to position creatures horizontally.

3. Custom Components:
   - We'll use the provided custom components (CreatureCard, PlayerCard, SkillButton) to display the relevant data.

4. Data Handling:
   - We'll create interfaces for the main data structures (Player, Creature, Skill) to ensure type safety.
   - We'll use optional chaining and nullish coalescing to handle potential missing data.

5. Button Handling:
   - We'll use the availableButtonSlugs and emitButtonClick from useCurrentButtons to manage button visibility and interactions.

6. Responsive Design:
   - We'll use Tailwind's responsive classes to ensure the game fits well in a 16:9 container and adapts to different screen sizes.

Now, let's implement the MainGameSceneView component:

# Excerpt ID: 9c642b8e-f8a3-4ee7-89ba-e83e526f78dd
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Button } from "@/components/ui/button";
import { Shield, Zap, Activity } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="flex flex-col h-screen w-full bg-gray-100">
      {/* HUD */}
      <div className="bg-gray-800 text-white p-2 flex justify-between items-center">
        <PlayerCard
          uid={props.data.entities.player.uid}
          playerName={props.data.entities.player.display_name}
          imageUrl="/path/to/player/image.jpg"
        />
        <PlayerCard
          uid={props.data.entities.opponent.uid}
          playerName={props.data.entities.opponent.display_name}
          imageUrl="/path/to/opponent/image.jpg"
        />
      </div>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            imageUrl={`/path/to/${playerCreature.meta.creature_type}_creature.jpg`}
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
          <div className="mt-2 flex space-x-2">
            <Shield className="text-blue-500" />
            <span>{playerCreature.stats.defense}</span>
            <Zap className="text-yellow-500" />
            <span>{playerCreature.stats.speed}</span>
            <Activity className="text-red-500" />
            <span>{playerCreature.stats.attack}</span>
          </div>
        </div>
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            imageUrl={`/path/to/${opponentCreature.meta.creature_type}_creature.jpg`}
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
          <div className="mt-2 flex space-x-2">
            <Shield className="text-blue-500" />
            <span>{opponentCreature.stats.defense}</span>
            <Zap className="text-yellow-500" />
            <span>{opponentCreature.stats.speed}</span>
            <Activity className="text-red-500" />
            <span>{opponentCreature.stats.attack}</span>
          </div>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-200">
        <div className="grid grid-cols-2 gap-4">
          {playerCreature.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
            />
          ))}
        </div>
        <div className="mt-4 flex justify-center space-x-4">
          {availableButtonSlugs.includes('quit-game') && (
            <Button onClick={() => emitButtonClick('quit-game')}>Quit Game</Button>
          )}
          {availableButtonSlugs.includes('return-to-main-menu') && (
            <Button onClick={() => emitButtonClick('return-to-main-menu')}>Return to Main Menu</Button>
          )}
        </div>
      </div>
    </div>
  );
}
```

This implementation creates a layout that fits the requirements described in the VIEW_SUMMARY. It uses the custom components as specified and incorporates Tailwind CSS for styling. The component is designed to be responsive and should fit well within a 16:9 container.

The code handles potential missing data by using optional chaining and provides a structured layout for the game scene, including the HUD, battlefield, and user interface sections. The player's skills are displayed using the SkillButton component, and the available game control buttons (quit game, return to main menu) are rendered based on the availableButtonSlugs.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "9c642b8e-f8a3-4ee7-89ba-e83e526f78dd", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
