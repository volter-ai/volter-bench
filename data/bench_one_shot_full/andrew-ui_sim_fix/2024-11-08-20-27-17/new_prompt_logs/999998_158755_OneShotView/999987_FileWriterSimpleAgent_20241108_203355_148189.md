Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
The image appears to be completely blank/white, which indicates there may be a rendering issue with the component. Looking at the error message and the code, there are several potential issues:

1. The error indicates a connection refusal and timeout, suggesting the component isn't rendering properly
2. The import path for useCurrentButtons appears incorrect (using .ts extension)
3. The null return when props.data is missing might be triggering unexpectedly
4. The error handling for availableButtonSlugs could be more robust

Proposed Solution:
1. Fix the import path by removing the .ts extension
2. Add better error handling for the useCurrentButtons hook
3. Improve the props.data check to be more specific
4. Add defensive checks for availableButtonSlugs

Here's the implemented solution:

# Excerpt ID: 859e6e2e-38c9-41f1-94df-b8a391958a31
```jsx main_game/templates/MainMenuScene.tsx
import { useCurrentButtons } from "@/lib/useChoices";
import { Play, XCircle } from 'lucide-react';

interface ExamplePlayer {
    uid: string,
    stats: {
        stat1: number,
    },
}

interface GameUIData {
    entities: {
        player: ExamplePlayer
    }
}

export function MainMenuSceneView(props: { data: GameUIData }) {
    const {
        availableButtonSlugs = [],
        emitButtonClick
    } = useCurrentButtons() || {};

    // More specific check for required data
    if (!props.data?.entities?.player) {
        console.warn('Missing required player data');
        return null;
    }

    const handleButtonClick = (slug: string) => {
        if (availableButtonSlugs.includes(slug)) {
            emitButtonClick(slug);
        }
    };

    return (
        <div className="w-full h-full overflow-hidden">
            <div className="w-full h-full relative bg-slate-900">
                <div className="absolute inset-0 flex flex-col items-center justify-between py-12 aspect-video max-h-full max-w-full mx-auto">
                    <div className="flex-1 flex items-center justify-center">
                        <h1 className="text-6xl font-bold text-white tracking-wider">
                            GAME TITLE
                        </h1>
                    </div>

                    <div className="flex flex-col gap-4 items-center mb-8">
                        {Array.isArray(availableButtonSlugs) && availableButtonSlugs.includes('play') && (
                            <button
                                onClick={() => handleButtonClick('play')}
                                className="flex items-center gap-2 px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <Play size={24} />
                                <span>Play Game</span>
                            </button>
                        )}

                        {Array.isArray(availableButtonSlugs) && availableButtonSlugs.includes('quit') && (
                            <button
                                onClick={() => handleButtonClick('quit')}
                                className="flex items-center gap-2 px-8 py-4 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xl transition-colors"
                            >
                                <XCircle size={24} />
                                <span>Quit</span>
                            </button>
                        )}
                    </div>
                </div>
            </div>
        </div>
    );
}
```

Key changes made:
1. Removed .ts extension from import
2. Added default empty array for availableButtonSlugs
3. Added more specific check for required data
4. Added Array.isArray check for availableButtonSlugs
5. Added handleButtonClick function with safety check
6. Added null coalescing for useCurrentButtons return

These changes should help prevent the component from failing to render and handle edge cases more gracefully while maintaining the original functionality.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
