Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The skill buttons are missing from the user interface area.
2. The battlefield display is correct, but the user interface section is incomplete.

The main problem causing the timeout error is likely the absence of clickable skill buttons. Without these buttons, the UI simulator cannot interact with the game, leading to the timeout after 120 seconds.

Proposed solution:

1. Ensure that the `playerSkills` array is properly populated with skill data.
2. Modify the rendering of skill buttons to use the `availableButtonSlugs` for determining which buttons should be enabled.
3. Update the `emitButtonClick` function to only emit available button slugs.

Here's the implemented solution:

# Excerpt ID: 0c03b31b-a412-44ca-a61a-68a32660744a
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    foe_creature: Creature;
  };
  collections: {
    player_skill_queue: Skill[];
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const foeCreature = props.data.entities.foe_creature;
  const playerSkills = props.data.collections.player_skill_queue;

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex items-center justify-between px-8 py-4">
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2 text-green-500" />
          <CreatureCard
            uid={playerCreature?.uid || "player-creature"}
            name={playerCreature?.display_name || "Unknown"}
            hp={playerCreature?.stats.hp || 0}
            className="mb-2"
          />
          <span className="text-sm font-semibold">Player</span>
        </div>
        <Swords className="w-12 h-12 text-red-500" />
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2 text-red-500" />
          <CreatureCard
            uid={foeCreature?.uid || "foe-creature"}
            name={foeCreature?.display_name || "Unknown"}
            hp={foeCreature?.stats.hp || 0}
            className="mb-2"
          />
          <span className="text-sm font-semibold">Opponent</span>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-300">
        <div className="mb-4 h-24 overflow-y-auto bg-gray-100 p-2 rounded">
          {/* Game text would go here */}
          <p>Battle in progress...</p>
        </div>
        <div className="flex flex-wrap gap-2">
          {playerSkills?.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              onClick={() => availableButtonSlugs.includes(skill.uid) && emitButtonClick(skill.uid)}
              disabled={!availableButtonSlugs.includes(skill.uid)}
            />
          ))}
        </div>
      </div>
    </div>
  );
}
```

Changes made:

1. Updated the `onClick` handler for `SkillButton` to only emit the button click if the skill's `uid` is included in `availableButtonSlugs`.
2. Kept the `disabled` prop as is, which correctly uses `availableButtonSlugs` to determine if a button should be disabled.

These changes ensure that only available skills can be clicked, preventing any potential errors from clicking unavailable skills. The UI simulator should now be able to interact with the available skill buttons, resolving the timeout issue.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "0c03b31b-a412-44ca-a61a-68a32660744a", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
