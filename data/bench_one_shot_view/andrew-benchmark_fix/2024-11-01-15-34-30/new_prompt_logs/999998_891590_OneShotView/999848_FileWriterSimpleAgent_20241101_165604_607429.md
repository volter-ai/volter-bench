Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The skill buttons are not visible in the user interface area.
2. The creature images are not properly positioned according to the design document.
3. The "Waiting for action..." message is displayed, indicating that no choices are available.

Proposed solution:

1. Modify the condition for displaying skill buttons to ensure they appear when choices are available.
2. Adjust the positioning and sizing of creature images to match the design document.
3. Ensure that the `availableButtonSlugs` are properly populated and used to render skill buttons.
4. Add click handlers to the skill buttons to emit button clicks.

Here's the implemented solution:

# Excerpt ID: 88cfb33a-63dd-4640-be54-40952460a710
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { MessageSquare } from 'lucide-react';

interface Skill {
  __type: "Skill";
  stats: {
    base_damage: number;
  };
  meta: {
    prototype_id: string;
    category: string;
    skill_type: string;
    is_physical: boolean;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    prototype_id: string;
    category: string;
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  __type: "Player";
  meta: {
    prototype_id: string;
    category: string;
  };
  collections: {
    creatures: Creature[];
  };
  uid: string;
  display_name: string;
  description: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="flex justify-start items-start">
          <CreatureCard
            uid={opponent_creature?.uid ?? ""}
            name={opponent_creature?.display_name ?? "Unknown"}
            image={`/images/creatures/${opponent_creature?.meta.prototype_id ?? "unknown"}_front.png`}
            hp={opponent_creature?.stats.hp ?? 0}
            maxHp={opponent_creature?.stats.max_hp ?? 1}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex justify-end items-start">
          <img
            src={`/images/creatures/${opponent_creature?.meta.prototype_id ?? "unknown"}_front.png`}
            alt={opponent_creature?.display_name ?? "Unknown Creature"}
            className="w-32 h-32 object-contain"
          />
        </div>

        {/* Player Creature */}
        <div className="flex justify-start items-end">
          <img
            src={`/images/creatures/${player_creature?.meta.prototype_id ?? "unknown"}_back.png`}
            alt={player_creature?.display_name ?? "Unknown Creature"}
            className="w-32 h-32 object-contain"
          />
        </div>

        {/* Player Creature Status */}
        <div className="flex justify-end items-end">
          <CreatureCard
            uid={player_creature?.uid ?? ""}
            name={player_creature?.display_name ?? "Unknown"}
            image={`/images/creatures/${player_creature?.meta.prototype_id ?? "unknown"}_back.png`}
            hp={player_creature?.stats.hp ?? 0}
            maxHp={player_creature?.stats.max_hp ?? 1}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {player_creature?.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                onClick={() => emitButtonClick(skill.uid)}
              />
            ))}
          </div>
        ) : (
          <div className="flex items-center justify-center h-full">
            <MessageSquare className="w-8 h-8 mr-2" />
            <span className="text-lg">Waiting for action...</span>
          </div>
        )}
      </div>
    </div>
  );
}
```

Changes made:

1. Modified the condition for displaying skill buttons to use `availableButtonSlugs.length > 0`.
2. Adjusted the size of creature images from `w-48 h-48` to `w-32 h-32` to better fit the layout.
3. Added an `onClick` prop to the `SkillButton` component that calls `emitButtonClick` with the skill's `uid`.
4. Ensured that the `SkillButton` components are only rendered when `availableButtonSlugs` is not empty.

These changes should resolve the timeout issue by ensuring that the skill buttons are properly displayed and interactive when choices are available. The adjusted layout should also better match the design document's description.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "88cfb33a-63dd-4640-be54-40952460a710", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
