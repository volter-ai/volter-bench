Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The creature cards are not positioned correctly. The player's creature (Bubwool) should be in the bottom-left, and the opponent's creature (Scizard) should be in the top-right.

2. The creature status information (name and HP) is not correctly positioned. The player's status should be in the bottom-right, and the opponent's status should be in the top-left.

3. The skill buttons (Tackle and Lick) are not properly integrated with the available button slugs system.

4. The layout doesn't fully utilize the screen space as described in the design document.

To resolve these issues, I propose the following solutions:

1. Adjust the grid layout to correctly position the creature cards and status information.
2. Integrate the skill buttons with the available button slugs system.
3. Improve the overall layout to better utilize the screen space.

Here's the implemented solution:

# Excerpt ID: 781347a3-4a3b-4a40-9b56-6eead6ad4242
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';
import { Button } from "@/components/ui/button";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player?.entities.active_creature;
  const opponentCreature = props.data.entities.opponent?.entities.active_creature;

  return (
    <div className="h-screen w-screen flex flex-col">
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        <div className="row-start-1 col-start-1 flex items-start justify-start">
          <div className="text-left">
            <h3 className="text-xl font-bold">{opponentCreature?.display_name}</h3>
            <p>HP: {opponentCreature?.stats.hp} / {opponentCreature?.stats.max_hp}</p>
          </div>
        </div>
        <div className="row-start-1 col-start-2 flex items-start justify-end">
          {opponentCreature && (
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              imageUrl={`/images/creatures/${opponentCreature.display_name.toLowerCase()}_front.png`}
              hp={opponentCreature.stats.hp}
              maxHp={opponentCreature.stats.max_hp}
            />
          )}
        </div>
        <div className="row-start-2 col-start-1 flex items-end justify-start">
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              imageUrl={`/images/creatures/${playerCreature.display_name.toLowerCase()}_back.png`}
              hp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          )}
        </div>
        <div className="row-start-2 col-start-2 flex items-end justify-end">
          <div className="text-right">
            <h3 className="text-xl font-bold">{playerCreature?.display_name}</h3>
            <p>HP: {playerCreature?.stats.hp} / {playerCreature?.stats.max_hp}</p>
          </div>
        </div>
      </div>
      <div className="h-1/3 bg-gray-100 p-4 flex flex-col space-y-2">
        <div className="flex space-x-2">
          {availableButtonSlugs.includes('attack') && (
            <Button onClick={() => emitButtonClick('attack')}>
              <Sword className="mr-2 h-4 w-4" /> Attack
            </Button>
          )}
          {availableButtonSlugs.includes('swap') && (
            <Button onClick={() => emitButtonClick('swap')}>
              <Repeat className="mr-2 h-4 w-4" /> Swap
            </Button>
          )}
          {availableButtonSlugs.includes('back') && (
            <Button onClick={() => emitButtonClick('back')}>
              <ArrowLeft className="mr-2 h-4 w-4" /> Back
            </Button>
          )}
        </div>
        <div className="flex flex-wrap gap-2">
          {playerCreature?.collections.skills.map((skill) => (
            availableButtonSlugs.includes(skill.uid) && (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Base Damage: ${skill.stats.base_damage}`}
                onClick={() => emitButtonClick(skill.uid)}
              />
            )
          ))}
        </div>
      </div>
    </div>
  );
}
```

The changes made include:

1. Rearranged the grid layout to correctly position the creature cards and status information.
2. Integrated the skill buttons with the available button slugs system by checking if the skill's uid is in the availableButtonSlugs array.
3. Added an onClick prop to the SkillButton component to emit the button click with the skill's uid.
4. Removed the separate "Attack" button as skills now serve this purpose.

These changes should resolve the positioning issues and ensure that all interactive elements are properly connected to the game's logic system, potentially resolving the timeout error by making all intended interactions available and functional.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "781347a3-4a3b-4a40-9b56-6eead6ad4242", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
