Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The main problem causing the timeout error is likely the absence of clickable buttons in the user interface area. The lower third of the screen is empty, which means there are no interactive elements for the UI simulator to click on.

2. The creature displays are not positioned correctly. They should be on opposite sides of the battlefield, but they appear to be centered.

3. The background colors don't match the design document. The battlefield should be green, and the user interface area should be a different color.

To resolve these issues, I propose the following solutions:

1. Modify the button rendering logic to ensure that buttons are always displayed, even if there are no available skills. This will provide clickable elements for the UI simulator.

2. Adjust the positioning of the CreatureDisplay components to place them on opposite sides of the battlefield.

3. Update the background colors to match the design document.

4. Ensure that the skill buttons are properly mapped to the available skills of the player's creature.

Here's the implemented solution:

# Excerpt ID: f3ab1ff4-cc49-4c8f-8018-9affc5cce336
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Card } from "@/components/ui/card";
import { Sword, Shield, Zap, Heart } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureDisplay = ({ creature, isPlayer }: { creature: Creature; isPlayer: boolean }) => (
  <Card className={`flex flex-col items-center p-4 ${isPlayer ? 'self-start' : 'self-end'}`}>
    <div className="text-lg font-bold">{creature.display_name}</div>
    <div className="w-32 h-32 bg-gray-300 rounded-full mb-2"></div>
    <div className="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
      <div className="bg-blue-600 h-2.5 rounded-full" style={{ width: `${(creature.stats.hp / creature.stats.max_hp) * 100}%` }}></div>
    </div>
    <div className="text-sm">{`HP: ${creature.stats.hp}/${creature.stats.max_hp}`}</div>
    <div className="flex space-x-2 mt-2">
      <span title="Attack"><Sword size={16} /> {creature.stats.attack}</span>
      <span title="Defense"><Shield size={16} /> {creature.stats.defense}</span>
      <span title="Speed"><Zap size={16} /> {creature.stats.speed}</span>
    </div>
  </Card>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="flex flex-col h-screen w-full max-w-[177.78vh] mx-auto" style={{ aspectRatio: '16/9' }}>
      {/* HUD */}
      <Card className="bg-gray-800 text-white p-2 flex justify-between items-center">
        <div>{props.data.entities.player?.display_name}</div>
        <div>{props.data.entities.opponent?.display_name}</div>
      </Card>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center bg-green-100 p-4">
        {playerCreature && <CreatureDisplay creature={playerCreature} isPlayer={true} />}
        {opponentCreature && <CreatureDisplay creature={opponentCreature} isPlayer={false} />}
      </div>

      {/* User Interface */}
      <Card className="bg-gray-100 p-4 h-1/3">
        <div className="grid grid-cols-2 gap-4">
          {playerCreature?.collections?.skills?.map((skill) => (
            <button
              key={skill.uid}
              onClick={() => availableButtonSlugs.includes(skill.uid) && emitButtonClick(skill.uid)}
              className={`font-bold py-2 px-4 rounded ${
                availableButtonSlugs.includes(skill.uid)
                  ? 'bg-blue-500 hover:bg-blue-700 text-white'
                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'
              }`}
              disabled={!availableButtonSlugs.includes(skill.uid)}
            >
              {skill.display_name}
            </button>
          ))}
        </div>
        {availableButtonSlugs.length === 0 && (
          <div className="bg-white p-4 rounded shadow mt-4">
            Waiting for your turn...
          </div>
        )}
      </Card>
    </div>
  );
}
```

These changes address the identified issues:

1. The button rendering logic now displays all skills of the player's creature, with unavailable skills grayed out. This ensures there are always clickable elements for the UI simulator.
2. The CreatureDisplay components are now positioned on opposite sides of the battlefield using `self-start` and `self-end` classes.
3. The battlefield background color is set to `bg-green-100` to match the design document.
4. The skill buttons are now properly mapped to the player creature's skills, and they respect the `availableButtonSlugs` to determine which buttons are active.

These modifications should resolve the timeout error and bring the component closer to the intended design and functionality.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "f3ab1ff4-cc49-4c8f-8018-9affc5cce336", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
