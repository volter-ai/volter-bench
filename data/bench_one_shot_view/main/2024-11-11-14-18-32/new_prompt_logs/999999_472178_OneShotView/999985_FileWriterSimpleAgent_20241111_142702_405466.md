Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Issue Description:**
Looking at the image and the error, there are several problems:

1. The UI simulator is timing out after 120s, suggesting it cannot properly interact with the buttons
2. The skill buttons appear to be rendered but may not be properly clickable
3. The layout shows the basic structure but the interaction layer seems to be failing

The error suggests there's a connection issue when trying to load source maps, but more importantly, the timeout indicates the UI simulator cannot complete its intended interactions.

**Proposed Solution:**

1. Add proper z-index management to ensure clickable elements are accessible
2. Adjust the skills UI container to ensure it's properly positioned and interactive
3. Modify the button click handler to properly handle the skill interactions
4. Ensure the grid layout doesn't interfere with button accessibility

Here's the complete implementation:

# Excerpt ID: 0c7b68eb-fb3b-4776-abb7-1f7473b9bcac
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Sword } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
  meta: {
    prototype_id: string;
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
  meta: {
    prototype_id: string;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player, foe, player_creature, foe_creature } = props.data.entities;

  const getImageUrl = (type: string, id: string) => `/assets/${type}/${id}.png`;

  const handleSkillClick = (skillUid: string) => {
    if (availableButtonSlugs.includes(skillUid)) {
      emitButtonClick(skillUid);
    }
  };

  return (
    <div className="relative h-screen w-screen bg-slate-900 text-white overflow-hidden">
      <div className="grid grid-rows-[auto_1fr_auto] h-full max-w-7xl mx-auto">
        {/* HUD */}
        <nav className="flex justify-between items-center p-4 bg-slate-800 z-10">
          {player && (
            <PlayerCard
              uid={player.uid}
              name={player.display_name}
              imageUrl={getImageUrl('player', player.meta.prototype_id)}
            />
          )}
          <div className="flex items-center gap-2">
            <Sword className="w-6 h-6" />
            <span>Battle Scene</span>
          </div>
          {foe && (
            <PlayerCard
              uid={foe.uid}
              name={foe.display_name}
              imageUrl={getImageUrl('player', foe.meta.prototype_id)}
            />
          )}
        </nav>

        {/* Battlefield */}
        <div className="flex justify-between items-center p-8 gap-8 z-10">
          {player_creature && (
            <div className="relative">
              <span className="absolute -top-8 left-1/2 transform -translate-x-1/2 text-green-400">
                Your Creature
              </span>
              <CreatureCard
                uid={player_creature.uid}
                name={player_creature.display_name}
                hp={player_creature.stats.hp}
                maxHp={player_creature.stats.max_hp}
                imageUrl={getImageUrl('creature', player_creature.meta.prototype_id)}
              />
            </div>
          )}

          {foe_creature && (
            <div className="relative">
              <span className="absolute -top-8 left-1/2 transform -translate-x-1/2 text-red-400">
                Enemy Creature
              </span>
              <CreatureCard
                uid={foe_creature.uid}
                name={foe_creature.display_name}
                hp={foe_creature.stats.hp}
                maxHp={foe_creature.stats.max_hp}
                imageUrl={getImageUrl('creature', foe_creature.meta.prototype_id)}
              />
            </div>
          )}
        </div>

        {/* Skills UI */}
        <div className="relative bg-slate-800 p-4 z-20">
          <div className="grid grid-cols-3 gap-4">
            {player_creature?.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                name={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.damage}`}
                disabled={!availableButtonSlugs.includes(skill.uid)}
                onClick={() => handleSkillClick(skill.uid)}
              />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

Key changes made:
1. Added `relative` and `overflow-hidden` to the main container to ensure proper positioning context
2. Added z-index management (`z-10` and `z-20`) to ensure proper layering of interactive elements
3. Made the skills UI container `relative` to ensure it maintains its own stacking context
4. Ensured all custom UI components receive their required `uid` props

These changes should resolve the timeout issue by making the buttons properly accessible to the UI simulator while maintaining the intended visual layout.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
