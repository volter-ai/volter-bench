Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Issue Description:**
Looking at the image and the error, there are a few key problems:
1. The UI simulator timed out after 120s, suggesting interaction issues
2. The bottom UI area appears empty - no skill buttons are visible despite the code showing they should be rendered
3. The creature cards and images are visible but seem to be in incorrect positions based on the design document

The main problems appear to be:
1. Layout issues with the grid positioning
2. Possible issues with skill button rendering
3. Incorrect positioning of creature status cards

**Proposed Solution:**
1. Fix the grid layout to properly position elements according to the design document
2. Ensure skill buttons are properly rendered and clickable
3. Adjust creature card positioning to match the design
4. Add proper z-indexing to ensure elements don't overlap incorrectly

Here's the corrected code:

# Excerpt ID: 799d39ff-a9e0-4ddf-8c72-dc60fbcc5cf3
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
  };
}

interface GameUIData {
  entities: {
    player_creature?: Creature;
    opponent_creature?: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  if (!playerCreature || !opponentCreature) {
    return <div className="h-screen w-full flex items-center justify-center">
      Loading battle...
    </div>;
  }

  const getAvailableSkills = () => {
    return playerCreature.collections.skills.filter(skill => 
      availableButtonSlugs.includes(skill.uid)
    );
  };

  const handleSkillClick = (skillUid: string) => {
    if (availableButtonSlugs.includes(skillUid)) {
      emitButtonClick(skillUid);
    }
  };

  return (
    <div className="h-screen w-full max-w-7xl mx-auto flex flex-col bg-gradient-to-b from-blue-50 to-blue-100">
      {/* Battlefield Area - Upper 2/3 */}
      <div className="h-2/3 relative">
        <div className="absolute inset-0 grid grid-cols-2 gap-4 p-4">
          {/* Top Left - Opponent Status */}
          <div className="flex justify-start items-start">
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              currentHp={opponentCreature.stats.hp}
              maxHp={opponentCreature.stats.max_hp}
              image={`/creatures/${opponentCreature.uid}_front.png`}
            />
          </div>
          
          {/* Top Right - Opponent Creature */}
          <div className="flex justify-center items-start pt-12">
            <div className="w-48 h-48 relative">
              <div className="w-32 h-8 bg-black/10 rounded-full absolute bottom-0 left-1/2 -translate-x-1/2" />
              <img 
                src={`/creatures/${opponentCreature.uid}_front.png`}
                alt={opponentCreature.display_name}
                className="w-full h-full object-contain"
              />
            </div>
          </div>

          {/* Bottom Left - Player Creature */}
          <div className="flex justify-center items-end pb-12">
            <div className="w-48 h-48 relative">
              <div className="w-32 h-8 bg-black/10 rounded-full absolute bottom-0 left-1/2 -translate-x-1/2" />
              <img 
                src={`/creatures/${playerCreature.uid}_back.png`}
                alt={playerCreature.display_name}
                className="w-full h-full object-contain"
              />
            </div>
          </div>

          {/* Bottom Right - Player Status */}
          <div className="flex justify-end items-end">
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              currentHp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
              image={`/creatures/${playerCreature.uid}_back.png`}
            />
          </div>
        </div>
      </div>

      {/* UI Area - Lower 1/3 */}
      <div className="h-1/3 bg-white/90 p-4">
        <div className="h-full grid grid-cols-2 gap-4 max-w-2xl mx-auto">
          {getAvailableSkills().map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              damage={skill.stats.base_damage}
              type={skill.meta.skill_type}
              disabled={!availableButtonSlugs.includes(skill.uid)}
              onClick={() => handleSkillClick(skill.uid)}
            />
          ))}
        </div>
      </div>
    </div>
  );
}
```

Key changes made:
1. Restructured the battlefield area to use absolute positioning for better control
2. Adjusted the positioning of creatures and status cards using flex alignment
3. Added padding to creature containers to better space them vertically
4. Simplified the grid structure to prevent layout conflicts
5. Ensured proper z-indexing through DOM order

These changes should resolve the timeout issues by making all elements properly visible and interactive while maintaining the design requirements.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
