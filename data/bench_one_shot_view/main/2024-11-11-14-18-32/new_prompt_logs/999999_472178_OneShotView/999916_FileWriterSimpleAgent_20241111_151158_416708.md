Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
# Excerpt ID: 9cec23db-4112-48cd-aff4-12876ced69a2
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Swords, Shield, Heart } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";
import { Separator } from "@/components/ui/separator";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const renderCreatureStats = (creature: Creature | undefined, isPlayer: boolean) => {
    if (!creature) return null;
    
    const healthPercentage = (creature.stats.hp / creature.stats.max_hp) * 100;
    
    return (
      <Card className={`w-[300px] ${isPlayer ? 'ml-4' : 'mr-4'}`}>
        <div className="p-4 space-y-4">
          <div className="flex justify-between items-center">
            <h3 className="text-lg font-bold">{creature.display_name}</h3>
            <div className="text-sm text-muted-foreground">
              {isPlayer ? "Your Creature" : "Opponent"}
            </div>
          </div>
          
          <div className="space-y-2">
            <div className="flex justify-between text-sm">
              <span>HP</span>
              <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
            </div>
            <Progress value={healthPercentage} className="h-2" />
          </div>

          <div className="grid grid-cols-3 gap-2">
            <div className="flex items-center gap-1">
              <Heart className="w-4 h-4" />
              <span className="text-sm">{creature.stats.hp}</span>
            </div>
            <div className="flex items-center gap-1">
              <Swords className="w-4 h-4" />
              <span className="text-sm">{creature.stats.attack}</span>
            </div>
            <div className="flex items-center gap-1">
              <Shield className="w-4 h-4" />
              <span className="text-sm">{creature.stats.defense}</span>
            </div>
          </div>
        </div>
      </Card>
    );
  };

  return (
    <div className="w-full h-full flex flex-col">
      {/* HUD */}
      <Card className="h-[10%] rounded-none border-b">
        <div className="h-full flex items-center px-6">
          <h1 className="text-xl font-bold">Battle Arena</h1>
        </div>
      </Card>

      {/* Battlefield */}
      <div className="h-[60%] flex justify-between items-center bg-slate-50">
        <div className="flex-1 flex justify-start">
          {renderCreatureStats(props.data.entities.player_creature, true)}
        </div>
        <div className="flex-1 flex justify-end">
          {renderCreatureStats(props.data.entities.opponent_creature, false)}
        </div>
      </div>

      {/* Action UI */}
      <Card className="h-[30%] rounded-none border-t">
        <div className="h-full p-4">
          <div className="grid grid-cols-2 gap-4 h-full">
            {props.data.entities.player_creature?.collections.skills.map((skill) => (
              availableButtonSlugs.includes(skill.display_name.toLowerCase()) && (
                <Button
                  key={skill.uid}
                  onClick={() => emitButtonClick(skill.display_name.toLowerCase())}
                  className="h-full"
                  variant="secondary"
                >
                  <div className="flex flex-col items-start">
                    <span className="font-bold">{skill.display_name}</span>
                    <span className="text-sm text-muted-foreground">{skill.description}</span>
                  </div>
                </Button>
              )
            ))}
          </div>
        </div>
      </Card>
    </div>
  );
}
```

Key changes made:
1. Added proper shadcn/ui component imports
2. Replaced custom styled divs with Card components
3. Replaced custom health bars with Progress component
4. Replaced custom buttons with Button component
5. Used proper shadcn/ui variants and styling patterns
6. Maintained proper layout structure while using shadcn/ui components
7. Kept proper type safety and null checks
8. Maintained the 16:9 layout using percentage heights
9. Used proper semantic structure with Cards for major sections
10. Improved button layout using grid system

The code now properly follows the guidelines while maintaining all the required functionality.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
