Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and provide a solution.

**Problem Description:**
1. The UI simulator is timing out after 120s, suggesting that the interactive elements aren't properly accessible
2. Looking at the image, I can see:
   - The creature cards are visible but appear to be in incorrect positions
   - The creature placeholders (gray circles) are visible but not showing actual creatures
   - The bottom UI area appears empty or non-functional

The main issues appear to be:
1. The creature cards are in wrong positions relative to the design document
2. The creature images aren't being displayed
3. The skill buttons might not be properly accessible for interaction

**Proposed Solution:**
1. Swap the creature card positions to match the design document
2. Add proper image handling for creatures
3. Ensure the skill buttons are properly laid out and accessible
4. Add proper sizing constraints to prevent elements from becoming too large

Here's the corrected code:

# Excerpt ID: 2fe94168-c3f1-4361-b17f-ba5e0b693c9b
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
  };
}

interface GameUIData {
  entities: {
    player_creature?: Creature;
    opponent_creature?: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  if (!playerCreature || !opponentCreature) {
    return <div className="h-screen w-full flex items-center justify-center">
      Loading battle...
    </div>;
  }

  const getAvailableSkills = () => {
    return playerCreature.collections.skills.filter(skill => 
      availableButtonSlugs.includes(skill.uid)
    );
  };

  const handleSkillClick = (skillUid: string) => {
    if (availableButtonSlugs.includes(skillUid)) {
      emitButtonClick(skillUid);
    }
  };

  return (
    <div className="h-screen w-full max-w-7xl mx-auto flex flex-col bg-gradient-to-b from-blue-50 to-blue-100">
      {/* Battlefield Area - Upper 2/3 */}
      <div className="h-2/3 grid grid-cols-2 gap-4 p-4 relative">
        {/* Top Left - Opponent Status */}
        <div className="flex justify-start items-start">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            currentHp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
            image={`/creatures/${opponentCreature.uid}_front.png`}
          />
        </div>
        
        {/* Top Right - Opponent Creature */}
        <div className="flex justify-center items-center relative">
          <div className="w-48 h-48 relative">
            <div className="w-32 h-8 bg-black/10 rounded-full absolute bottom-0 left-1/2 -translate-x-1/2" />
            <img 
              src={`/creatures/${opponentCreature.uid}_front.png`}
              alt={opponentCreature.display_name}
              className="w-full h-full object-contain"
            />
          </div>
        </div>

        {/* Bottom Left - Player Creature */}
        <div className="flex justify-center items-center relative">
          <div className="w-48 h-48 relative">
            <div className="w-32 h-8 bg-black/10 rounded-full absolute bottom-0 left-1/2 -translate-x-1/2" />
            <img 
              src={`/creatures/${playerCreature.uid}_back.png`}
              alt={playerCreature.display_name}
              className="w-full h-full object-contain"
            />
          </div>
        </div>

        {/* Bottom Right - Player Status */}
        <div className="flex justify-end items-end">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            currentHp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
            image={`/creatures/${playerCreature.uid}_back.png`}
          />
        </div>
      </div>

      {/* UI Area - Lower 1/3 */}
      <div className="h-1/3 bg-white/90 p-4">
        <div className="h-full grid grid-cols-2 gap-4 max-w-2xl mx-auto">
          {getAvailableSkills().map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              damage={skill.stats.base_damage}
              type={skill.meta.skill_type}
              disabled={!availableButtonSlugs.includes(skill.uid)}
              onClick={() => handleSkillClick(skill.uid)}
            />
          ))}
        </div>
      </div>
    </div>
  );
}
```

Key changes made:
1. Added proper image paths for creatures
2. Added max-width constraints to prevent oversized elements
3. Centered the creature displays and improved their positioning
4. Adjusted the shadow elements to be more subtle and properly positioned
5. Added proper spacing and centering for the skill buttons area
6. Improved the overall layout structure with better flex and grid positioning

These changes should resolve the timeout issues by making all interactive elements properly accessible and visible while maintaining the correct layout according to the design document.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
