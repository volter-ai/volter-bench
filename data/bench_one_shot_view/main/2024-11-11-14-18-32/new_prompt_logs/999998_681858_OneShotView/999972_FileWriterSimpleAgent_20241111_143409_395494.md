Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and provide a solution.

**Issue Description:**
Looking at the image and error, there are several problems:
1. The UI simulator is timing out after 120s, suggesting interaction issues
2. The skills UI area shows only one button ("Tackle") when there should be multiple skills displayed in a 3-column grid
3. The error suggests connection issues with source maps, but this is likely a symptom rather than the core issue
4. The layout appears correct but the interaction layer may be blocked

**Proposed Solution:**
1. The main issue appears to be with the button click handling. The current code checks if the skill UID matches an available button slug, but these might be different values
2. We need to ensure the skill buttons are properly mapped to available button slugs
3. Add proper click handling that maps skill UIDs to their corresponding button slugs
4. Ensure the container sizing doesn't block interactions

Here's the implementation:

# Excerpt ID: a6268430-7f29-43b5-8c7b-dafefb4f1673
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, User } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
  meta: {
    prototype_id: string;
    category: string;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    prototype_id: string;
    category: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  meta: {
    prototype_id: string;
    category: string;
  };
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
  collections: {
    player_skill_queue: any[];
    foe_skill_queue: any[];
  };
  meta: Record<string, unknown>;
  stats: Record<string, unknown>;
  uid: string;
  display_name: string;
  description: string;
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  const getCreatureImageUrl = (creature: Creature) => {
    return `/assets/creatures/${creature.meta.prototype_id}.png`;
  };

  const handleSkillClick = (skillUid: string) => {
    // Find the matching button slug for the skill
    const matchingSlug = availableButtonSlugs.find(slug => 
      slug.toLowerCase().includes(skillUid.toLowerCase()) || 
      skillUid.toLowerCase().includes(slug.toLowerCase())
    );
    
    if (matchingSlug) {
      emitButtonClick(matchingSlug);
    }
  };

  return (
    <div className="h-screen w-screen bg-slate-900">
      <div className="container mx-auto h-full grid grid-rows-[auto_1fr_auto] gap-4 p-4">
        {/* HUD */}
        <nav className="flex justify-between items-center bg-slate-800 rounded-lg p-4">
          <div className="flex items-center gap-2">
            <User className="w-6 h-6 text-white" />
            <span className="text-white font-semibold">{props.data.display_name}</span>
          </div>
          <div className="flex gap-4">
            <Sword className="w-6 h-6 text-white" />
            <Shield className="w-6 h-6 text-white" />
          </div>
        </nav>

        {/* Battlefield */}
        <div className="flex justify-between items-center px-8">
          {player_creature && (
            <div className="relative">
              <span className="absolute -top-8 left-1/2 -translate-x-1/2 text-white font-semibold">
                Your Creature
              </span>
              <CreatureCard
                uid={player_creature.uid}
                name={player_creature.display_name}
                hp={player_creature.stats.hp}
                maxHp={player_creature.stats.max_hp}
                imageUrl={getCreatureImageUrl(player_creature)}
              />
            </div>
          )}

          {foe_creature && (
            <div className="relative">
              <span className="absolute -top-8 left-1/2 -translate-x-1/2 text-white font-semibold">
                Opponent's Creature
              </span>
              <CreatureCard
                uid={foe_creature.uid}
                name={foe_creature.display_name}
                hp={foe_creature.stats.hp}
                maxHp={foe_creature.stats.max_hp}
                imageUrl={getCreatureImageUrl(foe_creature)}
              />
            </div>
          )}
        </div>

        {/* Skills UI */}
        <div className="bg-slate-800 rounded-lg p-4">
          <div className="grid grid-cols-3 gap-4">
            {player_creature?.collections.skills.map((skill) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                name={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.damage}`}
                disabled={!availableButtonSlugs.some(slug => 
                  slug.toLowerCase().includes(skill.uid.toLowerCase()) || 
                  skill.uid.toLowerCase().includes(slug.toLowerCase())
                )}
                onClick={() => handleSkillClick(skill.uid)}
              />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
}
```

Key changes made:
1. Removed `aspect-video` class that might have been causing layout issues
2. Improved the button slug matching logic to be more flexible with partial matches
3. Applied the same matching logic to the disabled state of buttons
4. Simplified the container structure to ensure proper sizing and interaction areas

These changes should resolve the timeout issues by ensuring proper button interactions while maintaining the intended layout and functionality.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
