Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue and propose a solution.

**Issue Description:**
1. The error indicates a timeout after 120s, suggesting the UI simulator couldn't interact with expected elements
2. Looking at the image, I notice:
   - The battlefield layout appears correct with creatures and status cards
   - The bottom third of the screen (UI Area) appears empty
   - No skill buttons are visible despite the code mapping over availableSkills
3. The core issue seems to be that the interactive elements (skill buttons) aren't properly rendering or are inaccessible

**Proposed Solution:**
1. Add error handling for availableSkills to ensure it's not undefined
2. Add a check to ensure availableButtonSlugs exists
3. Add proper z-index and positioning to ensure UI elements are clickable
4. Add proper styling to make skill buttons visible and accessible
5. Ensure the UI area has a minimum height to prevent collapse

Here's the implementation:

# Excerpt ID: 092a4b1f-d7ba-48d0-85cb-8bdfd1fa8802
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Sword } from 'lucide-react'
import { CreatureCard } from "@/components/ui/custom/creature/creature_card"
import { SkillButton } from "@/components/ui/custom/skill/skill_button"

interface Skill {
  __type: "Skill"
  uid: string
  display_name: string
  description: string
  stats: {
    base_damage: number
  }
  meta: {
    skill_type: string
  }
}

interface Creature {
  __type: "Creature"
  uid: string
  display_name: string
  description: string
  stats: {
    hp: number
    max_hp: number
  }
  collections: {
    skills: Skill[]
  }
}

interface GameUIData {
  entities: {
    player_creature: Creature
    opponent_creature: Creature
  }
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs = [],
    emitButtonClick
  } = useCurrentButtons()

  const playerCreature = props.data?.entities?.player_creature
  const opponentCreature = props.data?.entities?.opponent_creature

  if (!playerCreature || !opponentCreature) {
    return <div className="w-screen h-screen flex items-center justify-center">
      Loading...
    </div>
  }

  // Filter skills based on available button slugs
  const availableSkills = playerCreature.collections.skills?.filter(skill => 
    availableButtonSlugs.includes(`skill_${skill.uid}`)
  ) || []

  const handleSkillClick = (skillUid: string) => {
    emitButtonClick(`skill_${skillUid}`)
  }

  return (
    <div className="w-screen h-screen flex flex-col bg-gradient-to-b from-sky-100 to-sky-300">
      {/* Battlefield Area (upper 2/3) */}
      <div className="flex-grow-[2] grid grid-cols-2 relative p-4 gap-4">
        {/* Top Left - Opponent Status */}
        <div className="flex items-start justify-start">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            imageUrl={`/creatures/${opponentCreature.meta?.prototype_id || 'default'}_front.png`}
            currentHp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>

        {/* Top Right - Opponent Creature */}
        <div className="flex items-end justify-end">
          <div className="relative">
            <img
              src={`/creatures/${opponentCreature.meta?.prototype_id || 'default'}_front.png`}
              alt={opponentCreature.display_name}
              className="w-48 h-48 object-contain"
            />
            <div className="absolute bottom-0 w-full h-4 bg-black/20 rounded-full blur-sm" />
          </div>
        </div>

        {/* Bottom Left - Player Creature */}
        <div className="flex items-end justify-start">
          <div className="relative">
            <img
              src={`/creatures/${playerCreature.meta?.prototype_id || 'default'}_back.png`}
              alt={playerCreature.display_name}
              className="w-48 h-48 object-contain"
            />
            <div className="absolute bottom-0 w-full h-4 bg-black/20 rounded-full blur-sm" />
          </div>
        </div>

        {/* Bottom Right - Player Status */}
        <div className="flex items-end justify-end">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            imageUrl={`/creatures/${playerCreature.meta?.prototype_id || 'default'}_front.png`}
            currentHp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
      </div>

      {/* UI Area (lower 1/3) */}
      <div className="flex-grow-[1] min-h-[200px] grid grid-cols-2 gap-4 p-4 bg-white/80 relative z-10">
        {availableSkills.length > 0 ? (
          availableSkills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              damage={skill.stats.base_damage}
              type={skill.meta.skill_type}
              onClick={() => handleSkillClick(skill.uid)}
            />
          ))
        ) : (
          <div className="col-span-2 flex items-center justify-center text-gray-500">
            No actions available
          </div>
        )}
      </div>
    </div>
  )
}
```

Key changes made:
1. Added default empty array for availableButtonSlugs
2. Added null check for skills collection
3. Added min-height and z-index to UI area
4. Added fallback UI when no skills are available
5. Improved grid layout for skill buttons

These changes should resolve the timeout issue by ensuring the UI elements are properly rendered and accessible for interaction.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
