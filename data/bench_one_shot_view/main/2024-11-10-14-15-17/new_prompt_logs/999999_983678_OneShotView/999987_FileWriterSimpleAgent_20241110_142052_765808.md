Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
Let me analyze the issue:

1. Problem Description:
The main issue appears to be that the skill buttons are not properly handling click events, leading to a timeout error. From the image, I can see:
- The battlefield layout is correct with two creatures
- The skill button area is visible but appears to not be properly interactive
- The "Tackle" skill button is visible but may not be properly connected to the click handler

The timeout error suggests that the UI simulator cannot properly interact with the buttons, likely because the click events aren't being properly handled or emitted.

2. Proposed Solution:
The main issue is that the SkillButton component isn't properly connected to the emitButtonClick handler. We need to:
- Add an onClick handler to the SkillButton component
- Properly emit the skill.uid when the button is clicked
- Ensure the button is only clickable when it's in the availableButtonSlugs list

3. Here's the corrected code:

# Excerpt ID: 45eda5c8-1bc3-49c2-8801-e0cb6ba9cc65
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield } from 'lucide-react'
import { CreatureCard } from "@/components/ui/custom/creature/creature_card"
import { PlayerCard } from "@/components/ui/custom/player/player_card"
import { SkillButton } from "@/components/ui/custom/skill/skill_button"

interface Skill {
  __type: "Skill"
  uid: string
  display_name: string
  description: string
  stats: {
    damage: number
  }
}

interface Creature {
  __type: "Creature"
  uid: string
  display_name: string
  description: string
  stats: {
    hp: number
    max_hp: number
  }
  meta: {
    prototype_id: string
  }
  collections: {
    skills: Skill[]
  }
}

interface Player {
  __type: "Player"
  uid: string
  display_name: string
  meta: {
    prototype_id: string
  }
  collections: {
    creatures: Creature[]
  }
}

interface GameUIData {
  entities: {
    player: Player
    foe: Player
    player_creature: Creature
    foe_creature: Creature
  }
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons()

  const { player, foe, player_creature, foe_creature } = props.data.entities

  if (!player || !foe || !player_creature || !foe_creature) {
    return <div className="h-screen w-full flex items-center justify-center">
      Loading game state...
    </div>
  }

  const handleSkillClick = (skillUid: string) => {
    if (availableButtonSlugs.includes(skillUid)) {
      emitButtonClick(skillUid)
    }
  }

  return (
    <div className="h-screen w-full flex flex-col">
      <nav className="h-16 bg-slate-800 flex items-center justify-between px-4">
        <PlayerCard
          uid={player.uid}
          name={player.display_name}
          imageUrl={`/players/${player.meta?.prototype_id || 'default'}.png`}
        />
        <PlayerCard
          uid={foe.uid}
          name={foe.display_name}
          imageUrl={`/players/${foe.meta?.prototype_id || 'default'}.png`}
        />
      </nav>

      <main className="flex-grow flex justify-between items-center px-8 bg-slate-900">
        <div className="relative">
          <span className="absolute -top-8 left-1/2 -translate-x-1/2 text-green-400">
            Your Creature
          </span>
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
            imageUrl={`/creatures/${player_creature.meta?.prototype_id || 'default'}.png`}
          />
        </div>

        <div className="relative">
          <span className="absolute -top-8 left-1/2 -translate-x-1/2 text-red-400">
            Enemy Creature
          </span>
          <CreatureCard
            uid={foe_creature.uid}
            name={foe_creature.display_name}
            hp={foe_creature.stats.hp}
            maxHp={foe_creature.stats.max_hp}
            imageUrl={`/creatures/${foe_creature.meta?.prototype_id || 'default'}.png`}
          />
        </div>
      </main>

      <section className="h-1/3 bg-slate-700 p-4">
        <div className="grid grid-cols-4 gap-4">
          {player_creature.collections.skills?.map(skill => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              name={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              disabled={!availableButtonSlugs.includes(skill.uid)}
              onClick={() => handleSkillClick(skill.uid)}
            />
          ))}
        </div>
      </section>
    </div>
  )
}
```

The key changes made were:
1. Added a handleSkillClick function to manage skill button clicks
2. Added an onClick handler to the SkillButton component
3. Properly connected the button clicks to emit the correct skill uid
4. Maintained the disabled state based on availableButtonSlugs

These changes should resolve the timeout error by properly handling button interactions and emitting the correct events.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
