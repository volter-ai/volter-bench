Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The scene is correctly displaying the battlefield with two creatures (Bubwool) for both the player and the opponent.
2. The HUD (Battle Arena) is visible at the top of the screen.
3. The "Waiting for game action..." message is displayed in the user interface area.

The main problem appears to be that no skill buttons are being rendered in the user interface area. This is likely causing the timeout error because the UI simulator cannot find any interactive elements to click on.

Proposed solution:
1. We need to ensure that the `availableButtonSlugs` array is being populated correctly.
2. We should map over the `availableButtonSlugs` instead of `playerSkills` to render the skill buttons.
3. We need to find the corresponding skill for each available button slug.

Here's the implementation of the proposed solution:

# Excerpt ID: 5a8c9604-8e87-46f5-83d7-8b78aaeefb81
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Shield } from 'lucide-react';

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
  collections: {
    player_skill_queue: Skill[];
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const foeCreature = props.data.entities.foe_creature;
  const playerSkills = props.data.collections.player_skill_queue || [];

  const getSkillByUid = (uid: string) => playerSkills.find(skill => skill.uid === uid);

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={playerCreature.stats.hp}
          />
          <div className="mt-2 flex items-center">
            <Shield className="w-4 h-4 mr-1 text-blue-500" />
            <span className="text-sm font-bold">Player</span>
          </div>
        </div>
        <div className="flex flex-col items-center">
          <CreatureCard
            uid={foeCreature.uid}
            name={foeCreature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={foeCreature.stats.hp}
          />
          <div className="mt-2 flex items-center">
            <Shield className="w-4 h-4 mr-1 text-red-500" />
            <span className="text-sm font-bold">Opponent</span>
          </div>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-200">
        {availableButtonSlugs.length > 0 ? (
          <div className="flex flex-wrap gap-2">
            {availableButtonSlugs.map((slug) => {
              const skill = getSkillByUid(slug);
              if (!skill) return null;
              return (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(slug)}
                />
              );
            })}
          </div>
        ) : (
          <div className="bg-gray-100 p-4 rounded-md">
            <p className="text-gray-700">Waiting for game action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

Changes made:
1. Updated `playerSkills` to use `props.data.collections.player_skill_queue` instead of accessing it through the player's creatures.
2. Added a `getSkillByUid` function to find the corresponding skill for each available button slug.
3. Changed the mapping in the User Interface section to use `availableButtonSlugs` instead of `playerSkills`.
4. Updated the `onClick` handler for `SkillButton` to emit the button slug instead of the skill's uid.

These changes should ensure that the skill buttons are rendered when available, allowing the UI simulator to interact with them and prevent the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "5a8c9604-8e87-46f5-83d7-8b78aaeefb81", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
