Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current scene:

1. The layout of the battlefield display is incorrect. The opponent's creature (Scizard) is in the top-left corner instead of the top-right, and the player's creature (Bubwool) is in the bottom-right instead of the bottom-left.

2. The creature status cards are misplaced. The opponent's status card is in the top-right corner instead of the top-left, and the player's status card is in the bottom-left instead of the bottom-right.

3. The "Waiting for opponent..." message is visible, indicating that there are no available choices for the player to select. This could be causing the timeout error if the game is stuck in this state.

To resolve these issues, we need to make the following changes:

1. Swap the positions of the opponent and player creatures in the grid layout.
2. Swap the positions of the opponent and player status cards in the grid layout.
3. Ensure that the availableButtonSlugs array is being properly populated with choices when it's the player's turn.

Here's the implementation of the proposed solution:

# Excerpt ID: 4d8a216c-b20f-4058-88df-4759b58541cb
```jsx main_game/templates/MainGameScene.tsx
import React from 'react';
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Zap } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  return (
    <div className="w-full h-full flex flex-col">
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Status */}
        <div className="col-start-1 row-start-1 flex justify-start items-start">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            imageUrl={`/images/creatures/${opponent_creature.meta.creature_type}.png`}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="col-start-2 row-start-1 flex justify-end items-start">
          <img
            src={`/images/creatures/${opponent_creature.meta.creature_type}_front.png`}
            alt={opponent_creature.display_name}
            className="w-48 h-48 object-contain"
          />
        </div>

        {/* Player Creature */}
        <div className="col-start-1 row-start-2 flex justify-start items-end">
          <img
            src={`/images/creatures/${player_creature.meta.creature_type}_back.png`}
            alt={player_creature.display_name}
            className="w-48 h-48 object-contain"
          />
        </div>

        {/* Player Status */}
        <div className="col-start-2 row-start-2 flex justify-end items-end">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl={`/images/creatures/${player_creature.meta.creature_type}.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug, index) => {
              const skill = player_creature.collections.skills[index];
              return (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                  onClick={() => emitButtonClick(slug)}
                >
                  {skill.meta.is_physical ? <Sword className="mr-2" /> : <Zap className="mr-2" />}
                  {skill.display_name}
                </SkillButton>
              );
            })}
          </div>
        ) : (
          <div className="text-center text-xl">Waiting for opponent...</div>
        )}
      </div>
    </div>
  );
}
```

The main changes made to the code are:

1. The grid layout for the battlefield display remains the same, as the issue was with the content placement rather than the grid structure itself.
2. The "Opponent Status" and "Opponent Creature" divs are now correctly placed in the top row of the grid (row-start-1).
3. The "Player Creature" and "Player Status" divs are now correctly placed in the bottom row of the grid (row-start-2).

These changes should correct the layout issues visible in the image. The timeout error is likely caused by the game state not progressing, which is not directly addressed in this component. Ensure that the `availableButtonSlugs` array is being properly populated when it's the player's turn to act. If the array remains empty, the "Waiting for opponent..." message will continue to display, potentially causing the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "4d8a216c-b20f-4058-88df-4759b58541cb", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
