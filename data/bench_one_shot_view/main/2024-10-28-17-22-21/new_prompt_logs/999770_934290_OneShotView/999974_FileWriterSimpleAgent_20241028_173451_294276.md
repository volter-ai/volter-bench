Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The creature images are not displayed correctly. The opponent's creature (Scizard) is missing its image, and the player's creature (Bubwool) image is not properly sized or positioned.

2. The layout of the battlefield display is not consistent with the design document. The creature cards and status displays are in incorrect positions.

3. The skill buttons are not visible in the user interface area, which could be causing the timeout error as the UI simulator cannot interact with them.

To resolve these issues, I propose the following solutions:

1. Adjust the CreatureCard component to properly display the creature images and ensure they are sized correctly.
2. Rearrange the grid layout of the battlefield display to match the design document.
3. Ensure that the skill buttons are rendered when availableButtonSlugs are present.

Here's the implemented solution:

# Excerpt ID: d684bf7d-5e10-425c-bc23-8c4bdd6b11f3
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, Shield, Zap, Heart } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  const renderCreatureCard = (creature: Creature, isOpponent: boolean) => (
    <CreatureCard
      uid={creature.uid}
      name={creature.display_name}
      imageUrl={`/images/creatures/${creature.meta.creature_type}/${isOpponent ? 'front' : 'back'}.png`}
      hp={creature.stats.hp}
      maxHp={creature.stats.max_hp}
      className={`w-full h-full ${isOpponent ? 'transform scale-x-[-1]' : ''}`}
    />
  );

  const renderCreatureStatus = (creature: Creature) => (
    <div className="flex flex-col items-center justify-center h-full">
      <h2 className="text-xl font-bold mb-2">{creature.display_name}</h2>
      <div className="flex space-x-2 mb-2">
        <Sword size={16} /> <span>{creature.stats.attack}</span>
        <Shield size={16} /> <span>{creature.stats.defense}</span>
        <Zap size={16} /> <span>{creature.stats.speed}</span>
        <Heart size={16} /> <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
      </div>
      <div className="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
        <div className="bg-blue-600 h-2.5 rounded-full" style={{ width: `${(creature.stats.hp / creature.stats.max_hp) * 100}%` }}></div>
      </div>
    </div>
  );

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        <div className="row-start-1 col-start-1">
          {renderCreatureStatus(opponent_creature)}
        </div>
        <div className="row-start-1 col-start-2">
          {renderCreatureCard(opponent_creature, true)}
        </div>
        <div className="row-start-2 col-start-1">
          {renderCreatureCard(player_creature, false)}
        </div>
        <div className="row-start-2 col-start-2">
          {renderCreatureStatus(player_creature)}
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4 h-full">
            {player_creature.collections.skills
              .filter(skill => availableButtonSlugs.includes(skill.uid))
              .map((skill) => (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}, Physical: ${skill.meta.is_physical}`}
                  onClick={() => emitButtonClick(skill.uid)}
                />
              ))}
          </div>
        ) : (
          <div className="flex items-center justify-center h-full">
            <p className="text-xl">Waiting for opponent...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Rearranged the grid layout in the battlefield display to match the design document. The opponent's status is now in the top-left, and the player's status is in the bottom-right.

2. Adjusted the CreatureCard rendering to ensure proper sizing and positioning. The `className` prop now includes `w-full h-full` to make sure the cards fill their grid cells.

3. Ensured that the SkillButtons are rendered when availableButtonSlugs are present. The existing code for this was correct, so no changes were needed here.

These changes should resolve the layout issues and ensure that the skill buttons are visible and interactive, which should prevent the timeout error in the UI simulator.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "d684bf7d-5e10-425c-bc23-8c4bdd6b11f3", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
