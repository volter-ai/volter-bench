Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Based on the image and the error message, it appears that the main issue is a timeout after 120 seconds. This suggests that the UI is not responding or updating as expected, which could be due to the lack of interactive elements or buttons for the user to interact with.

The problem with the scene:
1. The skill buttons are not visible in the user interface area.
2. The "Waiting for game action..." message is displayed, indicating that no choices are available.
3. The creature cards are visible, but there's no way for the user to interact with the game.

Proposed solution:
1. Ensure that the `availableButtonSlugs` array is properly populated with the correct skill UIDs.
2. Modify the rendering logic for skill buttons to use `availableButtonSlugs` instead of directly mapping over `player_creature.collections.skills`.
3. Add a check to ensure that `player_creature` and its properties exist before trying to access them.
4. Implement error handling to provide feedback if the data is not loaded correctly.

Here's the implemented solution:

# Excerpt ID: fdbcee27-fb88-4be0-a69d-8b4c16a67788
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  const getSkillByUid = (uid: string) => {
    return player_creature?.collections.skills.find(skill => skill.uid === uid);
  };

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2 flex justify-between items-center">
        <div className="flex items-center">
          <Shield className="mr-2" />
          <span>Player</span>
        </div>
        <div className="flex items-center">
          <span>Opponent</span>
          <Swords className="ml-2" />
        </div>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <CreatureCard
          uid={player_creature?.uid ?? ""}
          name={player_creature?.display_name ?? "Unknown"}
          imageUrl="/placeholder-creature.jpg"
          hp={player_creature?.stats.hp ?? 0}
          className="transform scale-x-[-1]"
        />
        <CreatureCard
          uid={foe_creature?.uid ?? ""}
          name={foe_creature?.display_name ?? "Unknown"}
          imageUrl="/placeholder-creature.jpg"
          hp={foe_creature?.stats.hp ?? 0}
        />
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 h-1/3 overflow-y-auto">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((skillUid) => {
              const skill = getSkillByUid(skillUid);
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(skillUid)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <p className="text-center text-gray-600">
            Waiting for game action...
          </p>
        )}
      </div>
    </div>
  );
}
```

Changes made:
1. Added a `getSkillByUid` function to find the skill details based on the UID.
2. Modified the rendering of skill buttons to use `availableButtonSlugs` instead of directly mapping over `player_creature.collections.skills`.
3. Added a null check when rendering each skill button to ensure that the skill exists.
4. Used optional chaining (`?.`) throughout the component to handle cases where data might be undefined.

These changes should ensure that the skill buttons are rendered correctly when `availableButtonSlugs` is populated, and that the component doesn't break if some data is missing. This should resolve the timeout issue by making sure that interactive elements are available when they should be.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "fdbcee27-fb88-4be0-a69d-8b4c16a67788", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
