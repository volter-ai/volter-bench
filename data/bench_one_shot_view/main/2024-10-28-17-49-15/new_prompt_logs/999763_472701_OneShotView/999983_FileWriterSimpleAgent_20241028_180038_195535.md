Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The main problem appears to be that no skills are available, as indicated by the message "No skills available. Waiting for game action..." This suggests that the `availableButtonSlugs` array is empty, which could prevent any interaction with the game.

2. The creature names and health points are displayed incorrectly. The player's creature name is upside down, and the HP values are not formatted properly.

3. The creature images are not visible, which might be due to incorrect image paths or missing images.

To resolve these issues, I propose the following solutions:

1. Add a check to ensure that `player_creature` and its skills are properly loaded before rendering the skill buttons.
2. Correct the display of creature names and health points.
3. Update the image paths for the creatures to use a more reliable source.
4. Add error handling to prevent the component from breaking if data is missing.

Here's the implemented solution:

# Excerpt ID: 30900473-fa4f-4b99-b036-4ccecc8b3e34
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  const getSkillByUid = (uid: string) => {
    return player_creature?.collections.skills.find(skill => skill.uid === uid);
  };

  const renderCreatureCard = (creature: Creature | undefined, isPlayer: boolean) => {
    if (!creature) return null;
    return (
      <CreatureCard
        uid={creature.uid}
        name={creature.display_name}
        imageUrl={`/creatures/${creature.uid}.png`}
        hp={creature.stats.hp}
        maxHp={creature.stats.max_hp}
        className={isPlayer ? "transform scale-x-[-1]" : ""}
      />
    );
  };

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2 flex justify-between items-center">
        <div className="flex items-center">
          <Shield className="mr-2" />
          <span>Player</span>
        </div>
        <div className="flex items-center">
          <span>Opponent</span>
          <Swords className="ml-2" />
        </div>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        {renderCreatureCard(player_creature, true)}
        {renderCreatureCard(foe_creature, false)}
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 h-1/3 overflow-y-auto">
        {player_creature && player_creature.collections.skills.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((skillUid) => {
              const skill = getSkillByUid(skillUid);
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(skillUid)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <p className="text-center text-gray-600">
            No skills available. Waiting for game action...
          </p>
        )}
      </div>
    </div>
  );
}
```

These changes address the identified issues:

1. We now check if `player_creature` and its skills exist before rendering the skill buttons.
2. The creature names and health points display has been corrected by using the `CreatureCard` component consistently.
3. The image paths have been updated to use a more specific path (`/creatures/${creature.uid}.png`), which should be more reliable.
4. Error handling has been added by using optional chaining and null checks throughout the component.

These modifications should resolve the timeout error by ensuring that the component renders correctly even when data is missing or skills are not available. The UI should now be more robust and interactive, allowing the game simulation to progress.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "30900473-fa4f-4b99-b036-4ccecc8b3e34", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
