Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The main problem appears to be that there are no skill buttons visible in the user interface area. This could be why the UI simulator is timing out, as it's unable to find and interact with any choices.

2. The creature cards are displayed correctly, but their health values seem to be inverted (HP: 10 for the opponent and HP: -9H for the player).

3. The player's creature name is displayed as "loowduB" instead of "Ioowdub", which might be a minor rendering issue.

To resolve these issues, I propose the following solutions:

1. Ensure that the `availableButtonSlugs` array is populated with skill UIDs. We should add a check to display a message when there are no available skills.

2. Fix the health display for both creatures by ensuring we're using the correct property from the creature's stats.

3. Add error handling for cases where creature data might be undefined.

4. Adjust the layout to ensure all elements are visible and properly sized.

Here's the implemented solution:

# Excerpt ID: cfe81096-bc06-417f-bdda-2d91596222b5
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Shield, Swords } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  __type: "Skill";
  stats: {
    damage: number;
  };
  uid: string;
  display_name: string;
  description: string;
}

interface Creature {
  __type: "Creature";
  stats: {
    hp: number;
    max_hp: number;
  };
  uid: string;
  display_name: string;
  description: string;
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  const getSkillByUid = (uid: string) => {
    return player_creature?.collections.skills.find(skill => skill.uid === uid);
  };

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2 flex justify-between items-center">
        <div className="flex items-center">
          <Shield className="mr-2" />
          <span>Player</span>
        </div>
        <div className="flex items-center">
          <span>Opponent</span>
          <Swords className="ml-2" />
        </div>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <CreatureCard
          uid={player_creature?.uid ?? ""}
          name={player_creature?.display_name ?? "Unknown"}
          imageUrl="/placeholder-creature.jpg"
          hp={player_creature?.stats.hp ?? 0}
          maxHp={player_creature?.stats.max_hp ?? 0}
          className="transform scale-x-[-1]"
        />
        <CreatureCard
          uid={foe_creature?.uid ?? ""}
          name={foe_creature?.display_name ?? "Unknown"}
          imageUrl="/placeholder-creature.jpg"
          hp={foe_creature?.stats.hp ?? 0}
          maxHp={foe_creature?.stats.max_hp ?? 0}
        />
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 h-1/3 overflow-y-auto">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((skillUid) => {
              const skill = getSkillByUid(skillUid);
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(skillUid)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <p className="text-center text-gray-600">
            No skills available. Waiting for game action...
          </p>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Added a `maxHp` prop to the `CreatureCard` components to ensure proper health display.
2. Modified the condition in the User Interface section to display a message when there are no available skills.
3. Kept the existing error handling for cases where creature data might be undefined.
4. Maintained the layout structure to ensure all elements are visible and properly sized.

These changes should address the timeout issue by ensuring that the UI always displays something interactive or informative, even when there are no available skills. The health display for creatures should now be correct, and the component should be more resilient to potential undefined data.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "cfe81096-bc06-417f-bdda-2d91596222b5", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
