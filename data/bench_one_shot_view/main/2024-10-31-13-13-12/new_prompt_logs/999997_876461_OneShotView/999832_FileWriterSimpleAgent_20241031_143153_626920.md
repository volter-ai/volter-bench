Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The layout of the creatures and their status cards is incorrect. The opponent's creature (Scizard) should be in the top-right corner, and its status card should be in the top-left corner. The player's creature (Bubwool) should be in the bottom-left corner, and its status card should be in the bottom-right corner.

2. The skill buttons are not visible in the user interface area. Instead, we see a "Waiting for action..." message, which suggests that the `availableButtonSlugs` array might be empty.

To resolve these issues, I propose the following solutions:

1. Adjust the grid layout in the Battlefield Display section to correctly position the creatures and their status cards.
2. Modify the condition for displaying skill buttons to ensure they appear when skills are available.

Here's the implementation of the proposed solution:

# Excerpt ID: c03bb9d7-56a7-4f12-a8ad-3a49093f11de
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { MessageSquare } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex items-center justify-center bg-gray-100">
      <div className="w-full max-w-7xl aspect-video bg-white shadow-lg rounded-lg overflow-hidden flex flex-col">
        {/* Battlefield Display */}
        <div className="flex-grow grid grid-cols-2 grid-rows-2 p-4 gap-4">
          {/* Opponent Status */}
          <div className="row-start-1 col-start-1 flex items-start justify-start">
            {opponentCreature && (
              <CreatureCard
                uid={opponentCreature.uid}
                name={opponentCreature.display_name}
                image={`/images/creatures/${opponentCreature.meta.creature_type}_front.png`}
                hp={opponentCreature.stats.hp}
                maxHp={opponentCreature.stats.max_hp}
              />
            )}
          </div>
          
          {/* Opponent Creature */}
          <div className="row-start-1 col-start-2 flex items-center justify-center">
            <img
              src={`/images/creatures/${opponentCreature?.meta.creature_type}_front.png`}
              alt={opponentCreature?.display_name}
              className="h-full w-auto object-contain"
            />
          </div>
          
          {/* Player Creature */}
          <div className="row-start-2 col-start-1 flex items-center justify-center">
            <img
              src={`/images/creatures/${playerCreature?.meta.creature_type}_back.png`}
              alt={playerCreature?.display_name}
              className="h-full w-auto object-contain"
            />
          </div>
          
          {/* Player Status */}
          <div className="row-start-2 col-start-2 flex items-end justify-end">
            {playerCreature && (
              <CreatureCard
                uid={playerCreature.uid}
                name={playerCreature.display_name}
                image={`/images/creatures/${playerCreature.meta.creature_type}_back.png`}
                hp={playerCreature.stats.hp}
                maxHp={playerCreature.stats.max_hp}
              />
            )}
          </div>
        </div>

        {/* User Interface */}
        <div className="h-1/3 p-4 bg-gray-200">
          {playerCreature?.collections.skills.length > 0 ? (
            <div className="grid grid-cols-2 gap-4 h-full">
              {playerCreature.collections.skills.map((skill: Skill) => (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                  onClick={() => emitButtonClick(skill.uid)}
                  className="w-full h-full text-lg"
                />
              ))}
            </div>
          ) : (
            <div className="flex items-center justify-center h-full">
              <div className="bg-white p-4 rounded-lg shadow flex items-center space-x-2">
                <MessageSquare className="w-6 h-6 text-blue-500" />
                <span className="text-lg">Waiting for action...</span>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}
```

The main changes made are:

1. The grid layout in the Battlefield Display section remains the same, as it was already correctly positioned.

2. In the User Interface section, the condition for displaying skill buttons has been changed from `availableButtonSlugs.length > 0` to `playerCreature?.collections.skills.length > 0`. This ensures that the skill buttons are displayed when the player's creature has skills available.

3. The mapping of skill buttons now uses `playerCreature.collections.skills` instead of relying on `availableButtonSlugs`.

These changes should resolve the layout issues and ensure that the skill buttons are displayed when available, addressing the timeout error caused by the absence of interactive elements.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "c03bb9d7-56a7-4f12-a8ad-3a49093f11de", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
