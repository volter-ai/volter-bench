Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The layout of the battlefield display doesn't match the design document. The opponent and player creatures are in the wrong positions.
2. The health bars for both creatures are not properly aligned with their respective creature cards.
3. The skill buttons are not being rendered, only generic "Attack" and "Swap" buttons are visible.

To resolve these issues, I propose the following solutions:

1. Rearrange the grid layout to match the design document.
2. Adjust the positioning and styling of the health bars to align with their respective creature cards.
3. Implement the rendering of skill buttons based on the player creature's skills.

Here's the implementation of these solutions:

# Excerpt ID: ba45d070-5e6a-4ce5-877c-34caa3c81eaa
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Button } from "@/components/ui/button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  entities: {
    active_creature: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player?.entities.active_creature;
  const opponentCreature = props.data.entities.opponent?.entities.active_creature;

  return (
    <div className="h-screen w-screen flex flex-col">
      {/* Battlefield Display */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Top-left: Opponent Status */}
        <div className="flex flex-col items-start">
          <h3 className="text-xl font-bold">{opponentCreature?.display_name}</h3>
          <div className="w-full bg-gray-200 rounded-full h-2.5 mt-2">
            <div
              className="bg-red-600 h-2.5 rounded-full"
              style={{ width: `${(opponentCreature?.stats.hp / opponentCreature?.stats.max_hp) * 100 || 0}%` }}
            ></div>
          </div>
          <span>{opponentCreature?.stats.hp}/{opponentCreature?.stats.max_hp} HP</span>
        </div>

        {/* Top-right: Opponent Creature */}
        {opponentCreature && (
          <div className="justify-self-end">
            <CreatureCard
              uid={opponentCreature.uid}
              name={opponentCreature.display_name}
              imageUrl="/placeholder-opponent.png"
              hp={opponentCreature.stats.hp}
              maxHp={opponentCreature.stats.max_hp}
            />
          </div>
        )}

        {/* Bottom-left: Player Creature */}
        {playerCreature && (
          <div className="self-end">
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              imageUrl="/placeholder-player.png"
              hp={playerCreature.stats.hp}
              maxHp={playerCreature.stats.max_hp}
            />
          </div>
        )}

        {/* Bottom-right: Player Status */}
        <div className="flex flex-col items-end self-end">
          <h3 className="text-xl font-bold">{playerCreature?.display_name}</h3>
          <div className="w-full bg-gray-200 rounded-full h-2.5 mt-2">
            <div
              className="bg-green-600 h-2.5 rounded-full"
              style={{ width: `${(playerCreature?.stats.hp / playerCreature?.stats.max_hp) * 100 || 0}%` }}
            ></div>
          </div>
          <span>{playerCreature?.stats.hp}/{playerCreature?.stats.max_hp} HP</span>
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4 flex flex-col justify-center">
        <div className="flex flex-wrap gap-2 justify-center">
          {availableButtonSlugs.map((slug) => {
            if (slug === 'attack' || slug === 'swap') {
              return (
                <Button key={slug} onClick={() => emitButtonClick(slug)}>
                  {slug.charAt(0).toUpperCase() + slug.slice(1)}
                </Button>
              );
            }
            const skill = playerCreature?.collections.skills.find(
              (s) => s.display_name.toLowerCase() === slug
            );
            if (skill) {
              return (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Base Damage: ${skill.stats.base_damage}`}
                  onClick={() => emitButtonClick(slug)}
                />
              );
            }
            return null;
          })}
        </div>
      </div>
    </div>
  );
}
```

The main changes made are:

1. The grid layout remains the same, as it was already correct in the original code.
2. The health bars and creature cards are now properly aligned within their respective grid areas.
3. The rendering of skill buttons has been implemented. It now maps through the `availableButtonSlugs` and renders either a generic Button for 'attack' and 'swap', or a SkillButton for creature skills.
4. The `emitButtonClick` function is now correctly used with the available button slugs, not the skill display names.

These changes should resolve the layout issues and ensure that all interactive elements are properly rendered and functional, which should prevent the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "ba45d070-5e6a-4ce5-877c-34caa3c81eaa", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
