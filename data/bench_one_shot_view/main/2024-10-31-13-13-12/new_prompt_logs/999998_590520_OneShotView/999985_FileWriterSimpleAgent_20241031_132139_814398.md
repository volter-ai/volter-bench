Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The scene appears to be rendering correctly, with the battlefield displaying both the player's and opponent's creatures, their health, and the appropriate icons.
2. The user interface area is showing the "Waiting for your turn..." message, which suggests that there are no available buttons to click.
3. The timeout error after 120 seconds indicates that the UI simulator was unable to interact with any elements within the given time frame.

The main problem seems to be that the `availableButtonSlugs` array is empty, preventing any skill buttons from being rendered. This could be causing the UI simulator to fail as it cannot find any interactive elements.

Proposed solution:
1. We should add a check to ensure that `availableButtonSlugs` is not empty before rendering the skill buttons or the waiting message.
2. If `availableButtonSlugs` is empty, we should render a message indicating that there are no available actions, rather than showing the "Waiting for your turn..." message.
3. We should also add a fallback button that allows the player to end their turn if there are no available actions. This will ensure that there's always an interactive element for the UI simulator to click.

Here's the implementation of the proposed solution:

# Excerpt ID: a90bda38-601c-4ab2-9374-4ccb34d4d09f
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Shield, Swords } from 'lucide-react';
import { Button } from "@/components/ui/button";

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections?: {
    skills?: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, foe_creature } = props.data.entities;

  const handleEndTurn = () => {
    emitButtonClick("end_turn");
  };

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2 text-green-500" />
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={player_creature.stats.hp}
          />
          <p className="mt-2 font-bold">Player</p>
        </div>
        <div className="flex flex-col items-center">
          <Swords className="w-8 h-8 mb-2 text-red-500" />
          <CreatureCard
            uid={foe_creature.uid}
            name={foe_creature.display_name}
            imageUrl="/placeholder-creature.jpg"
            hp={foe_creature.stats.hp}
          />
          <p className="mt-2 font-bold">Opponent</p>
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-300">
        {availableButtonSlugs.length > 0 && player_creature.collections?.skills ? (
          <div className="flex flex-wrap gap-2">
            {availableButtonSlugs.map((slug) => {
              const skill = player_creature.collections.skills.find(
                (s: Skill) => s.uid === slug
              );
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.damage}`}
                  onClick={() => emitButtonClick(slug)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <div className="text-center">
            <p className="text-gray-600 mb-2">
              {availableButtonSlugs.length === 0
                ? "No actions available."
                : "No skills available for this creature."}
            </p>
            <Button onClick={handleEndTurn}>End Turn</Button>
          </div>
        )}
      </div>
    </div>
  );
}
```

These changes ensure that:
1. If there are no available button slugs, we display "No actions available" instead of "Waiting for your turn..."
2. We've added an "End Turn" button that's always visible when there are no other actions available.
3. The "End Turn" button emits an "end_turn" slug when clicked, providing an interactive element for the UI simulator.

These modifications should resolve the timeout issue by ensuring there's always an interactive element available, even when no skills can be used.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "a90bda38-601c-4ab2-9374-4ccb34d4d09f", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
