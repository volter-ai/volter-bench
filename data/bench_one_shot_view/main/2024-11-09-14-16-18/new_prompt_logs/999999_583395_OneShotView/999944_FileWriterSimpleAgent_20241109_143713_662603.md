Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: ## Proposed Code Change
# Excerpt ID: d7c28aae-7102-4404-a638-a97a84da2b8d
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Heart } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureDisplay = ({ creature, isPlayer }: { creature: Creature, isPlayer: boolean }) => {
  if (!creature) return null;
  
  return (
    <Card className="flex flex-col items-center p-4">
      <div className="text-white mb-2">{creature.display_name}</div>
      <div className="w-48 h-48 bg-slate-700 rounded-lg flex items-center justify-center" 
           aria-label={`${isPlayer ? 'Player' : 'Opponent'} creature display area`}>
        <span className="text-white">
          {isPlayer ? "Player's" : "Opponent's"} {creature.display_name}
        </span>
      </div>
      <div className="mt-2 flex gap-2" aria-label="Health status">
        <Heart className="text-red-500" />
        <span className="text-white">
          {creature.stats.hp}/{creature.stats.max_hp}
        </span>
      </div>
      <div className="flex gap-2 mt-1">
        <div className="flex items-center" aria-label="Attack stat">
          <Sword className="text-gray-400 w-4 h-4" />
          <span className="text-white text-sm">{creature.stats.attack}</span>
        </div>
        <div className="flex items-center" aria-label="Defense stat">
          <Shield className="text-gray-400 w-4 h-4" />
          <span className="text-white text-sm">{creature.stats.defense}</span>
        </div>
      </div>
    </Card>
  );
};

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data?.entities?.player_creature;
  const opponentCreature = props.data?.entities?.opponent_creature;

  if (!playerCreature || !opponentCreature) {
    return (
      <div className="w-full aspect-video flex items-center justify-center">
        <Card className="p-4">Loading battle...</Card>
      </div>
    );
  }

  return (
    <div className="w-full aspect-video flex flex-col bg-slate-900">
      {/* HUD */}
      <Card className="h-16 bg-slate-800 flex items-center justify-between px-4">
        <div className="text-white font-bold">
          {props.data.entities.player?.display_name || 'Player'}
        </div>
        <div className="text-white font-bold">
          Battle Scene
        </div>
      </Card>

      {/* Battlefield */}
      <div className="flex-1 flex items-center justify-between px-8" 
           role="region" 
           aria-label="Battle field">
        <CreatureDisplay creature={playerCreature} isPlayer={true} />
        <CreatureDisplay creature={opponentCreature} isPlayer={false} />
      </div>

      {/* Action UI */}
      <Card className="h-1/3 bg-slate-800 p-4">
        <div className="grid grid-cols-2 gap-2">
          {playerCreature.collections.skills?.map((skill) => (
            <Button
              key={skill.uid}
              variant={availableButtonSlugs.includes(skill.display_name.toLowerCase()) 
                ? "default" 
                : "secondary"}
              onClick={() => emitButtonClick(skill.display_name.toLowerCase())}
              disabled={!availableButtonSlugs.includes(skill.display_name.toLowerCase())}
              className="h-auto flex flex-col items-start p-4"
              aria-label={`Use ${skill.display_name} skill`}
            >
              <span className="font-bold">{skill.display_name}</span>
              <span className="text-sm opacity-90">{skill.description}</span>
            </Button>
          ))}
        </div>
      </Card>
    </div>
  );
}
```

Key improvements made:
1. Used shadcn/ui Card and Button components
2. Added proper aspect-video class to maintain 16:9 ratio
3. Improved accessibility with aria-labels and roles
4. Created a reusable CreatureDisplay component
5. Better error handling and null checks
6. Proper button variants from shadcn/ui
7. Maintained all required props and interfaces
8. Better semantic structure with Card components for major sections
9. Improved responsive layout handling
10. Added proper aria labels for accessibility

The component now properly follows all the guidelines while maintaining the same functionality.

## Directions
Reply with a list of actions in the following format. The response should only contain the JSON list of actions, no other text.
Make sure you are using the excerpt_id which contains the entire contents of the file.

Each action in the list must have these fields:
- action: Must be "overwrite"
- excerpt_id: The ID of the excerpt to use
- file_path: The relative path to the file

Example format for multiple files:
[
    {
        "action": "overwrite",
        "excerpt_id": "abc1",
        "file_path": "src/main.py"
    },
    {
        "action": "overwrite",
        "excerpt_id": "def2",
        "file_path": "tests/test_main.py"
    }
]
__________________
Role: assistant
Content: 
__________________
