Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The creature images are not displayed correctly. The opponent's creature (Scizard) is missing its image entirely, while the player's creature (Bubwool) has a placeholder image.

2. The layout of the creature cards and stats is not consistent with the design document. The opponent's stats are in the top-left, but the image should be in the top-right. The player's stats are in the bottom-right, but the image should be in the bottom-left.

3. The health bars are not visible in the creature cards.

4. The skill buttons are not present in the user interface area.

To resolve these issues, I propose the following solutions:

1. Ensure that the creature images are correctly loaded and displayed.
2. Adjust the layout of the battlefield display to match the design document.
3. Make sure the health bars are visible in the CreatureCard component.
4. Implement the skill buttons in the user interface area.

Here's the implemented solution:

# Excerpt ID: 600ca867-7985-48af-b71b-23126d956ea4
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, Shield, Zap, Heart } from 'lucide-react';

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections?: {
    skills: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  const renderCreatureCard = (creature: Creature, isOpponent: boolean) => (
    <CreatureCard
      uid={creature.uid}
      name={creature.display_name}
      image={`/images/creatures/${creature.meta.creature_type}/${isOpponent ? 'front' : 'back'}.png`}
      hp={creature.stats.hp}
      maxHp={creature.stats.max_hp}
      className={`w-full h-full ${isOpponent ? 'transform scale-x-[-1]' : ''}`}
    />
  );

  const renderCreatureStats = (creature: Creature) => (
    <div className="flex flex-col items-start p-4 bg-gray-100 rounded-lg">
      <h3 className="text-lg font-bold mb-2">{creature.display_name}</h3>
      <div className="flex items-center mb-1">
        <Heart className="w-4 h-4 mr-2" />
        <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
      </div>
      <div className="flex items-center mb-1">
        <Sword className="w-4 h-4 mr-2" />
        <span>{creature.stats.attack}</span>
      </div>
      <div className="flex items-center mb-1">
        <Shield className="w-4 h-4 mr-2" />
        <span>{creature.stats.defense}</span>
      </div>
      <div className="flex items-center">
        <Zap className="w-4 h-4 mr-2" />
        <span>{creature.stats.speed}</span>
      </div>
    </div>
  );

  const renderSkillButtons = () => {
    const skills = player_creature.collections?.skills || [];
    return skills
      .filter(skill => availableButtonSlugs.includes(skill.uid))
      .map((skill: Skill) => (
        <SkillButton
          key={skill.uid}
          uid={skill.uid}
          skillName={skill.display_name}
          description={skill.description}
          stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
          onClick={() => emitButtonClick(skill.uid)}
        />
      ));
  };

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        <div className="row-start-1 col-start-1">
          {renderCreatureStats(opponent_creature)}
        </div>
        <div className="row-start-1 col-start-2">
          {renderCreatureCard(opponent_creature, true)}
        </div>
        <div className="row-start-2 col-start-1">
          {renderCreatureCard(player_creature, false)}
        </div>
        <div className="row-start-2 col-start-2">
          {renderCreatureStats(player_creature)}
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-200 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {renderSkillButtons()}
          </div>
        ) : (
          <div className="text-center">Waiting for action...</div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Added an `onClick` prop to the `SkillButton` component that calls `emitButtonClick` with the skill's `uid`.
2. Ensured that the creature images are correctly referenced in the `renderCreatureCard` function.
3. Kept the layout as is, since it actually matches the design document (the image description was incorrect).
4. Made sure that the `CreatureCard` component receives all necessary props, including `hp` and `maxHp` for the health bar.

These changes should resolve the issues and make the component functional, allowing the UI simulator to interact with the skill buttons and progress through the game.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "600ca867-7985-48af-b71b-23126d956ea4", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
