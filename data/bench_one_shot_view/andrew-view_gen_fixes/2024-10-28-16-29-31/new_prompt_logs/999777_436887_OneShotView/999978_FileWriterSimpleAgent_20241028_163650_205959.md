Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll provide a corrected version of the code that addresses the issues and aligns better with the expected structure. Here's the updated code:

# Excerpt ID: 6baefe0f-6a6a-44e4-b1bf-d13bd8d7d15a
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Zap } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureDisplay = ({ creature, isPlayer }: { creature: Creature; isPlayer: boolean }) => (
  <Card className={`flex flex-col items-center p-4 ${isPlayer ? 'order-1' : 'order-2'}`}>
    <h2 className="text-lg font-bold">{creature.display_name}</h2>
    <div className="w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center mb-2">
      {creature.meta.creature_type}
    </div>
    <Progress value={(creature.stats.hp / creature.stats.max_hp) * 100} className="w-full" />
    <p className="text-sm">{creature.stats.hp} / {creature.stats.max_hp} HP</p>
    <div className="flex space-x-2 mt-2">
      <span title="Attack"><Sword size={16} /> {creature.stats.attack}</span>
      <span title="Defense"><Shield size={16} /> {creature.stats.defense}</span>
      <span title="Speed"><Zap size={16} /> {creature.stats.speed}</span>
    </div>
  </Card>
);

export function MainGameSceneView({ data }: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = data.entities;

  return (
    <div className="flex flex-col h-screen w-full max-w-[177.78vh] mx-auto" style={{ aspectRatio: '16/9' }}>
      <Card className="bg-gray-800 text-white p-2">
        <h1 className="text-xl font-bold">Creature Battle</h1>
      </Card>

      <div className="flex-grow flex items-center justify-around bg-green-100 p-4">
        {player_creature && <CreatureDisplay creature={player_creature} isPlayer={true} />}
        {opponent_creature && <CreatureDisplay creature={opponent_creature} isPlayer={false} />}
      </div>

      <Card className="bg-gray-100 p-4 h-1/3">
        <div className="bg-white rounded-lg p-4 h-full flex flex-col">
          <div className="flex-grow mb-4 overflow-y-auto">
            <p>Battle information and descriptions will appear here.</p>
          </div>
          <div className="flex flex-wrap justify-center gap-2">
            {availableButtonSlugs.includes('tackle') && (
              <Button onClick={() => emitButtonClick('tackle')}>
                Tackle
              </Button>
            )}
            {availableButtonSlugs.includes('lick') && (
              <Button onClick={() => emitButtonClick('lick')}>
                Lick
              </Button>
            )}
          </div>
        </div>
      </Card>
    </div>
  );
}
```

This updated version makes the following improvements:

1. It imports and uses shadcn UI components: `Card`, `Button`, and `Progress`.
2. The `CreatureDisplay` component now uses the `Card` component for better structure.
3. The health bar now uses the `Progress` component instead of a custom implementation.
4. The main sections of the layout (HUD, battlefield, and user interface) now use the `Card` component for consistency.
5. The action buttons now use the `Button` component from shadcn UI.
6. The code structure is more aligned with the expected component-based approach.

Note that we don't pass `uid` props to the shadcn components as they don't typically require them. The `uid` values are still present in the data structures (Creature, Skill, Player interfaces) and can be used if needed for identification or key props in lists.

This version should better align with the project's structure and use of custom UI components while maintaining the functionality and layout described in the original requirements.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "6baefe0f-6a6a-44e4-b1bf-d13bd8d7d15a", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
