Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. Here's the corrected code for the MainGameSceneView component:

# Excerpt ID: e8350287-ac98-40b1-a3be-f0a2ec0ba611
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { PlayerCard } from "@/components/ui/custom/player/player_card";
import { Sword, ArrowLeft, Repeat } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  entities: {
    active_creature?: Creature;
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const player = props.data.entities.player;
  const opponent = props.data.entities.opponent;

  return (
    <div className="w-full h-full bg-gray-100 flex flex-col">
      {/* Battlefield Display */}
      <div className="h-2/3 grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="row-start-1 col-start-1 flex items-start justify-start">
          {opponent.entities.active_creature && (
            <CreatureCard
              uid={opponent.entities.active_creature.uid}
              name={opponent.entities.active_creature.display_name}
              imageUrl={`/creatures/${opponent.entities.active_creature.uid}.png`}
              hp={opponent.entities.active_creature.stats.hp}
              maxHp={opponent.entities.active_creature.stats.max_hp}
            />
          )}
        </div>

        {/* Opponent */}
        <div className="row-start-1 col-start-2 flex items-start justify-end">
          <PlayerCard
            uid={opponent.uid}
            playerName={opponent.display_name}
            imageUrl={`/players/${opponent.uid}.png`}
          />
        </div>

        {/* Player */}
        <div className="row-start-2 col-start-1 flex items-end justify-start">
          <PlayerCard
            uid={player.uid}
            playerName={player.display_name}
            imageUrl={`/players/${player.uid}.png`}
          />
        </div>

        {/* Player Creature Status */}
        <div className="row-start-2 col-start-2 flex items-end justify-end">
          {player.entities.active_creature && (
            <CreatureCard
              uid={player.entities.active_creature.uid}
              name={player.entities.active_creature.display_name}
              imageUrl={`/creatures/${player.entities.active_creature.uid}.png`}
              hp={player.entities.active_creature.stats.hp}
              maxHp={player.entities.active_creature.stats.max_hp}
            />
          )}
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-200 p-4 flex flex-col justify-between">
        <div className="flex space-x-4">
          {availableButtonSlugs.includes('attack') && (
            <SkillButton
              uid="attack-button"
              skillName="Attack"
              description="Perform an attack"
              stats="Basic attack"
              onClick={() => emitButtonClick('attack')}
            >
              <Sword className="mr-2" />
              Attack
            </SkillButton>
          )}
          {availableButtonSlugs.includes('back') && (
            <SkillButton
              uid="back-button"
              skillName="Back"
              description="Go back"
              stats="Navigation"
              onClick={() => emitButtonClick('back')}
            >
              <ArrowLeft className="mr-2" />
              Back
            </SkillButton>
          )}
          {availableButtonSlugs.includes('swap') && (
            <SkillButton
              uid="swap-button"
              skillName="Swap"
              description="Swap creatures"
              stats="Change active creature"
              onClick={() => emitButtonClick('swap')}
            >
              <Repeat className="mr-2" />
              Swap
            </SkillButton>
          )}
        </div>
        <div className="mt-4">
          {player.entities.active_creature?.collections.skills?.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Base Damage: ${skill.stats.base_damage}`}
              onClick={() => emitButtonClick(skill.uid)}
              className="mr-2 mb-2"
            />
          ))}
        </div>
      </div>
    </div>
  );
}
```

This corrected version addresses the issues mentioned earlier:

1. We now use the PlayerCard component to display player information for both the player and opponent.
2. We use dynamic image URLs for creatures and players based on their UIDs.
3. We've added null checks and optional chaining to handle cases where data might be missing, particularly for the active creature and its skills.
4. We've ensured that all custom components (CreatureCard, PlayerCard, SkillButton) receive the required `uid` prop.

These changes make the component more robust and compliant with the guidelines provided. The component now handles potential missing data gracefully and uses all the specified custom components correctly.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "e8350287-ac98-40b1-a3be-f0a2ec0ba611", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
