Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly. I'll make the necessary corrections to address the image URL issue and ensure we're fully compliant with the guidelines. Here's the updated code:

# Excerpt ID: 710d62c7-f99b-4916-b23d-b3cd965613b1
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Shield, Swords } from 'lucide-react';

interface Skill {
  __type: "Skill";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    damage: number;
  };
}

interface Creature {
  __type: "Creature";
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  __type: "Player";
  uid: string;
  display_name: string;
  description: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    foe: Player;
    player_creature: Creature;
    foe_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const foeCreature = props.data.entities.foe_creature;

  // Function to get creature image URL based on prototype_id
  const getCreatureImageUrl = (creature: Creature | undefined) => {
    return creature?.meta?.prototype_id 
      ? `/images/creatures/${creature.meta.prototype_id}.png`
      : "/images/creatures/placeholder.png";
  };

  return (
    <div className="w-full h-full flex flex-col bg-gray-100">
      {/* HUD */}
      <nav className="bg-blue-600 text-white p-2">
        <h1 className="text-xl font-bold">Battle Arena</h1>
      </nav>

      {/* Battlefield */}
      <div className="flex-grow flex justify-between items-center p-4">
        <div className="flex flex-col items-center">
          <Shield className="w-8 h-8 mb-2 text-green-500" />
          {playerCreature && (
            <CreatureCard
              uid={playerCreature.uid}
              name={playerCreature.display_name}
              imageUrl={getCreatureImageUrl(playerCreature)}
              hp={playerCreature.stats.hp}
            />
          )}
        </div>
        <div className="flex flex-col items-center">
          <Swords className="w-8 h-8 mb-2 text-red-500" />
          {foeCreature && (
            <CreatureCard
              uid={foeCreature.uid}
              name={foeCreature.display_name}
              imageUrl={getCreatureImageUrl(foeCreature)}
              hp={foeCreature.stats.hp}
            />
          )}
        </div>
      </div>

      {/* User Interface */}
      <div className="bg-white p-4 border-t-2 border-gray-300">
        <div className="mb-4 h-24 overflow-y-auto bg-gray-100 p-2 rounded">
          {/* Game text would go here */}
          <p>Battle in progress...</p>
        </div>
        <div className="flex flex-wrap gap-2">
          {playerCreature?.collections.skills.map((skill) => (
            <SkillButton
              key={skill.uid}
              uid={skill.uid}
              skillName={skill.display_name}
              description={skill.description}
              stats={`Damage: ${skill.stats.damage}`}
              onClick={() => emitButtonClick(skill.uid)}
              disabled={!availableButtonSlugs.includes(skill.uid)}
            />
          ))}
        </div>
      </div>
    </div>
  );
}
```

The main changes in this updated version are:

1. Added a `getCreatureImageUrl` function to dynamically generate image URLs based on the creature's `prototype_id`. If the `prototype_id` is not available, it falls back to a placeholder image.

2. Updated the CreatureCard usage to only render when the creature data is available, preventing potential null reference errors.

3. Used the `getCreatureImageUrl` function to provide proper image URLs for both player and foe creatures.

4. Removed the nullish coalescing operators from the CreatureCard props, as they're now unnecessary due to the conditional rendering.

These changes ensure that we're always passing valid `uid` props to custom components, handling potential missing data safely, and providing appropriate image URLs. The code now fully complies with the given guidelines and requirements.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "710d62c7-f99b-4916-b23d-b3cd965613b1", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
