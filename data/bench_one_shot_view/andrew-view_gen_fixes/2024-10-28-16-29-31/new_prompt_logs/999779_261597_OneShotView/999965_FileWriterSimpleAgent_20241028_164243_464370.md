Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The creature status displays are not in the correct positions according to the design document.
2. The creature cards are not displaying the correct information or in the right format.
3. The skill buttons are not being displayed, which is likely causing the timeout error.
4. The layout of the battlefield and UI areas doesn't match the design document's specifications.

To resolve these issues, I propose the following solutions:

1. Swap the positions of the CreatureStatus and CreatureCard components for both player and opponent.
2. Update the CreatureCard component to display the creature's image, name, and HP bar correctly.
3. Add a check for the existence of the skills collection before mapping over it.
4. Adjust the layout to better match the 2/3 and 1/3 split described in the design document.

Here's the implemented solution:

# Excerpt ID: 0999b09b-7802-4d32-9f7f-4aa451753bc0
```jsx main_game/templates/MainGameScene.tsx
import React from 'react';
import { useCurrentButtons } from "@/lib/useChoices";
import { Shield, Zap } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections?: {
    skills?: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureStatus: React.FC<{ creature: Creature, isOpponent: boolean }> = ({ creature, isOpponent }) => (
  <div className={`flex flex-col ${isOpponent ? 'items-start' : 'items-end'}`}>
    <h2 className="text-xl font-bold">{creature.display_name}</h2>
    <div className="flex items-center">
      <Shield className="w-4 h-4 mr-1" />
      <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
    </div>
    <div className="flex items-center">
      <Zap className="w-4 h-4 mr-1" />
      <span>{creature.meta.creature_type}</span>
    </div>
  </div>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col">
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4" style={{ height: '66.67%' }}>
        <div className="row-start-2 col-start-1">
          <CreatureStatus creature={playerCreature} isOpponent={false} />
        </div>
        <div className="row-start-2 col-start-2">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            image="/path/to/player/creature/back/image.png"
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
        <div className="row-start-1 col-start-2">
          <CreatureStatus creature={opponentCreature} isOpponent={true} />
        </div>
        <div className="row-start-1 col-start-1">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            image="/path/to/opponent/creature/front/image.png"
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 p-4" style={{ height: '33.33%' }}>
        {availableButtonSlugs.length > 0 && playerCreature.collections?.skills ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug, index) => {
              const skill = playerCreature.collections.skills[index];
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}`}
                  onClick={() => emitButtonClick(slug)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <div className="text-center">
            <p className="text-xl">Waiting for action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

These changes address the identified issues:

1. The CreatureStatus and CreatureCard components have been swapped to match the design document's layout.
2. The CreatureCard components now use the correct image paths for front and back images.
3. A check for the existence of `playerCreature.collections?.skills` has been added before mapping over the skills.
4. The layout has been adjusted to better represent the 2/3 and 1/3 split described in the design document.

These changes should resolve the timeout error by ensuring that the skill buttons are displayed when available, and improve the overall layout of the game scene to match the design specifications.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "0999b09b-7802-4d32-9f7f-4aa451753bc0", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
