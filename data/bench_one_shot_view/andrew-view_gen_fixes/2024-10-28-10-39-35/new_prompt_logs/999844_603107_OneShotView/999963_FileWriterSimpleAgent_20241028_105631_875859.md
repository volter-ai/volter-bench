Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify the following issues:

1. The main problem causing the timeout error is likely the absence of clickable buttons in the user interface area. The image shows "Waiting for action..." instead of the expected skill buttons.

2. The creature images are not positioned correctly according to the design document. The player's creature (Bubwool) should be in the bottom-left, and the opponent's creature (Scizard) should be in the top-right.

3. The creature status cards are not in the correct positions. The player's creature status should be in the bottom-right, and the opponent's in the top-left.

To resolve these issues, I propose the following solutions:

1. Modify the condition for rendering skill buttons to ensure they appear when available.
2. Adjust the grid layout and positioning of creature images and status cards.
3. Ensure that the SkillButton component is correctly receiving and handling the uid prop.

Here's the implemented solution:

# Excerpt ID: 6b24f03e-d3a6-4cee-b6d9-785fa49ec346
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, Shield, Zap, Heart } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  const renderCreatureStats = (creature: Creature) => (
    <div className="flex flex-col space-y-1">
      <div className="flex items-center">
        <Sword className="w-4 h-4 mr-1" /> <span>{creature.stats.attack}</span>
      </div>
      <div className="flex items-center">
        <Shield className="w-4 h-4 mr-1" /> <span>{creature.stats.defense}</span>
      </div>
      <div className="flex items-center">
        <Zap className="w-4 h-4 mr-1" /> <span>{creature.stats.speed}</span>
      </div>
    </div>
  );

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="flex justify-start items-start">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            image={`/images/creatures/${opponent_creature.meta.creature_type}.png`}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex justify-end items-start">
          <img
            src={`/images/creatures/${opponent_creature.meta.creature_type}_front.png`}
            alt={opponent_creature.display_name}
            className="w-48 h-48 object-contain"
          />
        </div>

        {/* Player Creature */}
        <div className="flex justify-start items-end">
          <img
            src={`/images/creatures/${player_creature.meta.creature_type}_back.png`}
            alt={player_creature.display_name}
            className="w-48 h-48 object-contain"
          />
        </div>

        {/* Player Creature Status */}
        <div className="flex justify-end items-end">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            image={`/images/creatures/${player_creature.meta.creature_type}.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs && availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug) => {
              const skill = player_creature.collections.skills.find(s => s.uid === slug);
              if (skill) {
                return (
                  <SkillButton
                    key={skill.uid}
                    uid={skill.uid}
                    skillName={skill.display_name}
                    description={skill.description}
                    stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                    onClick={() => emitButtonClick(slug)}
                  />
                );
              }
              return null;
            })}
          </div>
        ) : (
          <div className="flex justify-center items-center h-full">
            <p className="text-xl font-semibold">Waiting for action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Modified the condition for rendering skill buttons to `availableButtonSlugs && availableButtonSlugs.length > 0`. This ensures that the buttons are rendered when available, addressing the timeout issue.

2. The grid layout for the battlefield display remains the same, as it already correctly positions the elements according to the design document. The creature images and status cards are in their correct positions.

3. Ensured that the SkillButton component receives the `uid` prop correctly.

These changes should resolve the timeout issue by ensuring that the skill buttons are rendered when available, allowing for user interaction and preventing the 120-second timeout.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "6b24f03e-d3a6-4cee-b6d9-785fa49ec346", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
