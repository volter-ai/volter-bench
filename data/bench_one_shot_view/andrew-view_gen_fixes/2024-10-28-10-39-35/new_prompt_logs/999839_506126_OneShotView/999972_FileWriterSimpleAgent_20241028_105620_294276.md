Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The main problem appears to be that the skill buttons are not visible in the UI. This could be preventing the UI simulator from interacting with them, leading to the timeout.

2. The welcome message is duplicated, appearing both in the main UI area and in a small card at the bottom right.

3. The layout of the creatures seems to be reversed from what's specified in the design document (player's creature should be on the left).

To resolve these issues, I propose the following solutions:

1. Ensure that the skill buttons are rendered correctly by adjusting the condition for displaying them.
2. Remove the duplicate welcome message.
3. Correct the order of the creatures in the battlefield.
4. Adjust the layout to ensure all elements are visible and properly sized.

Here's the implementation of these changes:

# Excerpt ID: ab4b875d-24e0-4655-86bb-39750b464026
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Zap, Heart } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  skills: Skill[];
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureDisplay = ({ creature, isPlayer }: { creature: Creature; isPlayer: boolean }) => (
  <Card className={`flex flex-col items-center p-4 ${isPlayer ? 'order-1' : 'order-2'}`}>
    <h3 className="text-lg font-bold">{creature.display_name}</h3>
    <div className="w-24 h-24 bg-gray-300 rounded-full mb-2"></div>
    <Progress 
      value={(creature.stats.hp / creature.stats.max_hp) * 100} 
      className="w-full h-2.5"
    />
    <p className="text-sm">{`HP: ${creature.stats.hp}/${creature.stats.max_hp}`}</p>
    <div className="flex space-x-2 mt-2">
      <span title="Attack"><Sword size={16} /> {creature.stats.attack}</span>
      <span title="Defense"><Shield size={16} /> {creature.stats.defense}</span>
      <span title="Speed"><Zap size={16} /> {creature.stats.speed}</span>
    </div>
  </Card>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="flex flex-col h-screen w-full max-w-[177.78vh] mx-auto" style={{ aspectRatio: '16/9' }}>
      {/* HUD */}
      <Card className="bg-gray-800 text-white p-2 flex justify-between items-center rounded-none">
        <div>{props.data.entities.player.display_name}</div>
        <div>{props.data.entities.opponent.display_name}</div>
      </Card>

      {/* Battlefield */}
      <div className="flex-grow flex justify-around items-center bg-green-100 p-4">
        <CreatureDisplay creature={playerCreature} isPlayer={true} />
        <CreatureDisplay creature={opponentCreature} isPlayer={false} />
      </div>

      {/* User Interface */}
      <Card className="p-4 flex-shrink-0" style={{ height: '30%' }}>
        <div className="mb-4">
          <p>Welcome to Creature Battle!</p>
        </div>
        <div className="grid grid-cols-2 gap-4">
          {playerCreature?.skills?.map((skill) => (
            <Button
              key={skill.uid}
              onClick={() => availableButtonSlugs.includes(skill.uid) && emitButtonClick(skill.uid)}
              variant="default"
              className="w-full"
              disabled={!availableButtonSlugs.includes(skill.uid)}
            >
              {skill.display_name}
            </Button>
          ))}
        </div>
      </Card>
    </div>
  );
}
```

These changes address the identified issues:

1. The skill buttons are now always rendered, but disabled if not in the `availableButtonSlugs` list. This ensures they're always visible for the UI simulator to interact with.
2. The duplicate welcome message has been removed.
3. The order of creatures in the battlefield has been corrected by adjusting the flex order in the `CreatureDisplay` component.
4. The layout has been adjusted to ensure all elements are visible, particularly by setting a fixed height for the UI section and removing the overflow.

These changes should resolve the timeout issue by making all interactive elements consistently visible and accessible to the UI simulator.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "ab4b875d-24e0-4655-86bb-39750b464026", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
