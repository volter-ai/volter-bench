Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
Certainly! I'll modify the code to incorporate shadcn components and ensure we're passing uid props where necessary. Here's the corrected version:

# Excerpt ID: 401531c0-4c12-4732-aed3-987a0078cc1e
```tsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { Sword, Shield, Zap, Heart } from 'lucide-react';
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Progress } from "@/components/ui/progress";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
}

interface Player {
  uid: string;
  display_name: string;
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureDisplay = ({ creature, isPlayer }: { creature: Creature; isPlayer: boolean }) => (
  <Card className={`flex flex-col items-center p-4 ${isPlayer ? 'order-1' : 'order-2'}`}>
    <h3 className="text-lg font-bold">{creature.display_name}</h3>
    <div className="w-32 h-32 bg-gray-300 rounded-full mb-2"></div>
    <Progress 
      value={(creature.stats.hp / creature.stats.max_hp) * 100} 
      className="w-full h-2.5"
    />
    <p className="text-sm">{`HP: ${creature.stats.hp}/${creature.stats.max_hp}`}</p>
    <div className="flex space-x-2 mt-2">
      <span title="Attack"><Sword size={16} /> {creature.stats.attack}</span>
      <span title="Defense"><Shield size={16} /> {creature.stats.defense}</span>
      <span title="Speed"><Zap size={16} /> {creature.stats.speed}</span>
    </div>
  </Card>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="flex flex-col h-screen w-full max-w-[177.78vh] mx-auto" style={{ aspectRatio: '16/9' }}>
      {/* HUD */}
      <Card className="bg-gray-800 text-white p-2 flex justify-between items-center rounded-none">
        <div>{props.data.entities.player.display_name}</div>
        <div>{props.data.entities.opponent.display_name}</div>
      </Card>

      {/* Battlefield */}
      <div className="flex-grow flex justify-around items-center bg-green-100 p-4">
        {playerCreature && <CreatureDisplay creature={playerCreature} isPlayer={true} />}
        {opponentCreature && <CreatureDisplay creature={opponentCreature} isPlayer={false} />}
      </div>

      {/* User Interface */}
      <Card className="p-4 h-1/3">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {['lick', 'tackle'].map((skillId) => {
              const skill = playerCreature?.collections?.skills?.find(s => s.uid === skillId);
              if (skill && availableButtonSlugs.includes(skillId)) {
                return (
                  <Button
                    key={skill.uid}
                    onClick={() => emitButtonClick(skill.uid)}
                    variant="default"
                  >
                    {skill.display_name}
                  </Button>
                );
              }
              return null;
            })}
          </div>
        ) : (
          <Card className="p-4">
            Waiting for your turn...
          </Card>
        )}
      </Card>
    </div>
  );
}
```

In this corrected version:

1. We've imported and used shadcn components: Card, Button, and Progress.
2. The CreatureDisplay component now uses a Card for its container.
3. We've replaced the custom health bar with the Progress component from shadcn.
4. The HUD and User Interface sections now use Card components.
5. Action buttons now use the Button component from shadcn.
6. We've kept the overall structure and logic of the component the same.
7. We're still using Tailwind CSS for additional styling and layout.
8. We've maintained the use of optional chaining and null checks for data safety.
9. The game still takes up the entire 16:9 game container and uses styling to fit into the window.
10. We've included buttons for 'lick' and 'tackle' skills, checking their availability with `availableButtonSlugs`.

This version should now be compliant with the guidelines and ready to use.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "401531c0-4c12-4732-aed3-987a0078cc1e", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
