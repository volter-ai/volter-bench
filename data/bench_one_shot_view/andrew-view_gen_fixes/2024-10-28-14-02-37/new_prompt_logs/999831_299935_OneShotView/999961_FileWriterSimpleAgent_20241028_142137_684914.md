Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The layout of the creatures and their status information is incorrect. The opponent's creature (Scizard) should be in the top-right, but it's in the top-left. The player's creature (Bubwool) should be in the bottom-left, but it's in the bottom-right.

2. The skill buttons are not visible in the user interface area, which should occupy the bottom third of the screen.

3. The "Waiting for action..." message is displayed instead of the skill buttons, which suggests that the condition for displaying the buttons might not be met.

To resolve these issues, I propose the following solutions:

1. Adjust the grid layout to correctly position the creatures and their status information.
2. Modify the condition for displaying skill buttons to ensure they appear when available.
3. Add a check to display skill buttons even if `availableButtonSlugs` is empty, as long as the player creature has skills.

Here's the implementation of these solutions:

# Excerpt ID: 3a5a7e5c-a705-4a27-a4bc-f4d559aa7b82
```jsx main_game/templates/MainGameScene.tsx
import React from 'react';
import { useCurrentButtons } from "@/lib/useChoices";
import { Shield, Zap } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections?: {
    skills?: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureStatus: React.FC<{ creature: Creature, isOpponent: boolean }> = ({ creature, isOpponent }) => (
  <div className={`flex flex-col ${isOpponent ? 'items-start' : 'items-end'}`}>
    <h2 className="text-xl font-bold">{creature.display_name}</h2>
    <div className="flex items-center">
      <Shield className="w-4 h-4 mr-1" />
      <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
    </div>
    <div className="flex items-center">
      <Zap className="w-4 h-4 mr-1" />
      <span>{creature.meta.creature_type}</span>
    </div>
  </div>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col">
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4" style={{ height: '66.67%' }}>
        <div className="row-start-1 col-start-1">
          <CreatureStatus creature={opponentCreature} isOpponent={true} />
        </div>
        <div className="row-start-1 col-start-2">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            image={`/images/creatures/${opponentCreature.uid}_front.png`}
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>
        <div className="row-start-2 col-start-1">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            image={`/images/creatures/${playerCreature.uid}_back.png`}
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
        <div className="row-start-2 col-start-2">
          <CreatureStatus creature={playerCreature} isOpponent={false} />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 p-4 bg-gray-100">
        {playerCreature.collections?.skills && playerCreature.collections.skills.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {playerCreature.collections.skills.map((skill, index) => (
              <SkillButton
                key={skill.uid}
                uid={skill.uid}
                skillName={skill.display_name}
                description={skill.description}
                stats={`Damage: ${skill.stats.base_damage}`}
                onClick={() => availableButtonSlugs[index] && emitButtonClick(availableButtonSlugs[index])}
              />
            ))}
          </div>
        ) : (
          <div className="text-center">
            <p className="text-xl">Waiting for action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

These changes address the identified issues:

1. The grid layout remains the same, as it was correct in the original code. The visual discrepancy in the image might be due to CSS styling issues not visible in the provided code.

2. The condition for displaying skill buttons has been modified. Now it checks if the player creature has skills, regardless of `availableButtonSlugs`.

3. The skill buttons are now always rendered if the player creature has skills. The `onClick` handler checks if there's a corresponding `availableButtonSlug` before calling `emitButtonClick`.

These changes should resolve the timeout issue by ensuring that the skill buttons are always visible and interactive when the player creature has skills, allowing the UI simulator to interact with them.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "3a5a7e5c-a705-4a27-a4bc-f4d559aa7b82", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
