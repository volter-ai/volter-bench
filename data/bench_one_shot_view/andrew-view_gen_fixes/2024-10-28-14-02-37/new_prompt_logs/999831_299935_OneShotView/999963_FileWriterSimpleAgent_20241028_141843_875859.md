Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that may be causing the timeout error:

1. The creature images are not displaying correctly. The code uses placeholder paths for images, which might not exist.
2. The layout of the creatures and their status information is incorrect compared to the design document.
3. The skill buttons are not visible in the user interface area, which should occupy the lower 1/3 of the screen.
4. The "Waiting for action..." message is displayed instead of the skill buttons, which suggests that the `availableButtonSlugs` array might be empty or the `playerCreature.collections?.skills` might be undefined.

To resolve these issues, I propose the following solutions:

1. Update the image paths to use the correct URLs for the creature images.
2. Adjust the layout to match the design document, with the player creature in the bottom-right and the opponent in the top-left.
3. Ensure that the `availableButtonSlugs` array is populated and that the `playerCreature.collections?.skills` exists.
4. Adjust the sizing and positioning of the battlefield and user interface areas to match the 2/3 and 1/3 split described in the design document.

Here's the implemented solution:

# Excerpt ID: bd8653f7-f7ed-4884-a0e5-e352d99b5ad0
```jsx main_game/templates/MainGameScene.tsx
import React from 'react';
import { useCurrentButtons } from "@/lib/useChoices";
import { Shield, Zap } from 'lucide-react';
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Creature {
  uid: string;
  display_name: string;
  stats: {
    hp: number;
    max_hp: number;
  };
  meta: {
    creature_type: string;
  };
  collections?: {
    skills?: Skill[];
  };
}

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
}

interface GameUIData {
  entities: {
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

const CreatureStatus: React.FC<{ creature: Creature, isOpponent: boolean }> = ({ creature, isOpponent }) => (
  <div className={`flex flex-col ${isOpponent ? 'items-start' : 'items-end'}`}>
    <h2 className="text-xl font-bold">{creature.display_name}</h2>
    <div className="flex items-center">
      <Shield className="w-4 h-4 mr-1" />
      <span>{creature.stats.hp}/{creature.stats.max_hp}</span>
    </div>
    <div className="flex items-center">
      <Zap className="w-4 h-4 mr-1" />
      <span>{creature.meta.creature_type}</span>
    </div>
  </div>
);

export function MainGameSceneView(props: { data: GameUIData }) {
  const { availableButtonSlugs, emitButtonClick } = useCurrentButtons();

  const playerCreature = props.data.entities.player_creature;
  const opponentCreature = props.data.entities.opponent_creature;

  return (
    <div className="w-full h-full flex flex-col">
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4" style={{ height: '66.67%' }}>
        <div className="row-start-1 col-start-1">
          <CreatureStatus creature={opponentCreature} isOpponent={true} />
        </div>
        <div className="row-start-1 col-start-2">
          <CreatureCard
            uid={opponentCreature.uid}
            name={opponentCreature.display_name}
            image={`/images/creatures/${opponentCreature.uid}_front.png`}
            hp={opponentCreature.stats.hp}
            maxHp={opponentCreature.stats.max_hp}
          />
        </div>
        <div className="row-start-2 col-start-1">
          <CreatureCard
            uid={playerCreature.uid}
            name={playerCreature.display_name}
            image={`/images/creatures/${playerCreature.uid}_back.png`}
            hp={playerCreature.stats.hp}
            maxHp={playerCreature.stats.max_hp}
          />
        </div>
        <div className="row-start-2 col-start-2">
          <CreatureStatus creature={playerCreature} isOpponent={false} />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 p-4 bg-gray-100">
        {availableButtonSlugs.length > 0 && playerCreature.collections?.skills ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug, index) => {
              const skill = playerCreature.collections.skills[index];
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}`}
                  onClick={() => emitButtonClick(slug)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <div className="text-center">
            <p className="text-xl">Waiting for action...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Updated the image paths to use dynamic URLs based on the creature's UID.
2. Rearranged the grid layout to match the design document's description.
3. Added a background color to the user interface area to make it more distinct.
4. Kept the conditional rendering of skill buttons or "Waiting for action..." message, but ensured it's within the correct layout.

These changes should resolve the layout issues and make the skill buttons visible when they are available. The timeout error should be resolved if the `availableButtonSlugs` array is properly populated by the game logic. If the error persists, further investigation into the game state management and event handling may be necessary.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "bd8653f7-f7ed-4884-a0e5-e352d99b5ad0", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
