Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues that are likely causing the timeout error:

1. The battlefield display is not correctly laid out. The opponent's creature (Scizard) is in the bottom-left instead of the top-right, and the player's creature (Bubwool) is in the top-left instead of the bottom-left.

2. The creature status cards are not positioned correctly. They should be in the opposite corners from their respective creatures.

3. The user interface area at the bottom is empty, showing only "Waiting for opponent..." This suggests that the available buttons are not being rendered, which could be preventing user interaction and causing the timeout.

To resolve these issues, we need to make the following changes:

1. Adjust the grid layout in the battlefield display to correctly position the creatures and their status cards.
2. Ensure that the available buttons are being rendered in the user interface area when they are available.
3. Add a check to render either the buttons or the waiting message based on the availability of buttons.

Here's the implemented solution:

# Excerpt ID: a9e85210-a316-4e24-98b6-77fded93e04e
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  const renderCreatureImage = (creature: Creature, isOpponent: boolean) => (
    <div className={`relative ${isOpponent ? 'scale-x-[-1]' : ''} w-48 h-48`}>
      <img
        src={`/images/creatures/${creature.meta.creature_type}.png`}
        alt={creature.display_name}
        className="w-full h-full object-contain"
      />
      <div className="absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-800 to-transparent"></div>
    </div>
  );

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="flex items-start justify-start">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            image={`/images/creatures/${opponent_creature.meta.creature_type}.png`}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex items-center justify-center">
          {renderCreatureImage(opponent_creature, true)}
        </div>

        {/* Player Creature */}
        <div className="flex items-end justify-end">
          {renderCreatureImage(player_creature, false)}
        </div>

        {/* Player Creature Status */}
        <div className="flex items-center justify-center">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            image={`/images/creatures/${player_creature.meta.creature_type}.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug) => {
              const skill = player_creature.collections.skills.find(s => s.uid === slug);
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                  onClick={() => emitButtonClick(slug)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <div className="flex items-center justify-center h-full">
            <p className="text-xl font-semibold">Waiting for opponent...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

These changes should resolve the layout issues and ensure that the buttons are rendered when available, allowing for user interaction and preventing the timeout error.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "a9e85210-a316-4e24-98b6-77fded93e04e", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
