Role: system
Content: You are a helpful assistant specialized in changing files based on proposed changes.
__________________
Role: user
Content: 
## Proposed Code Change
After analyzing the image and the provided code, I can identify several issues with the current implementation:

1. The creature images are not properly positioned or sized according to the design document.
2. The creature status displays (CreatureCard components) are not correctly positioned.
3. The skill buttons are not being rendered, which is likely causing the timeout error.
4. The layout doesn't fully match the description in the design document.

Proposed solution:

1. Adjust the layout to better match the design document, using a grid system for the battlefield display.
2. Correctly position and size the creature images.
3. Properly position the CreatureCard components for both player and opponent.
4. Render the skill buttons using the availableButtonSlugs instead of the creature's skills.
5. Ensure that the emitButtonClick function is called with the correct button slug.

Here's the implemented solution:

# Excerpt ID: 3b439b9e-7010-448a-900b-fe9990a16512
```jsx main_game/templates/MainGameScene.tsx
import { useCurrentButtons } from "@/lib/useChoices.ts";
import { CreatureCard } from "@/components/ui/custom/creature/creature_card";
import { SkillButton } from "@/components/ui/custom/skill/skill_button";
import { Sword, Shield, Zap, Heart } from 'lucide-react';

interface Skill {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    base_damage: number;
  };
  meta: {
    skill_type: string;
    is_physical: boolean;
  };
}

interface Creature {
  uid: string;
  display_name: string;
  description: string;
  stats: {
    hp: number;
    max_hp: number;
    attack: number;
    defense: number;
    sp_attack: number;
    sp_defense: number;
    speed: number;
  };
  meta: {
    creature_type: string;
  };
  collections: {
    skills: Skill[];
  };
}

interface Player {
  uid: string;
  display_name: string;
  collections: {
    creatures: Creature[];
  };
}

interface GameUIData {
  entities: {
    player: Player;
    opponent: Player;
    player_creature: Creature;
    opponent_creature: Creature;
  };
}

export function MainGameSceneView(props: { data: GameUIData }) {
  const {
    availableButtonSlugs,
    emitButtonClick
  } = useCurrentButtons();

  const { player_creature, opponent_creature } = props.data.entities;

  const renderCreatureImage = (creature: Creature, isOpponent: boolean) => (
    <div className={`relative ${isOpponent ? 'scale-x-[-1]' : ''} w-48 h-48`}>
      <img
        src={`/images/creatures/${creature.meta.creature_type}.png`}
        alt={creature.display_name}
        className="w-full h-full object-contain"
      />
      <div className="absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-gray-800 to-transparent"></div>
    </div>
  );

  return (
    <div className="w-full h-full flex flex-col" style={{ aspectRatio: '16/9' }}>
      {/* Battlefield Display */}
      <div className="flex-grow grid grid-cols-2 grid-rows-2 gap-4 p-4">
        {/* Opponent Creature Status */}
        <div className="flex items-start justify-start">
          <CreatureCard
            uid={opponent_creature.uid}
            name={opponent_creature.display_name}
            image={`/images/creatures/${opponent_creature.meta.creature_type}.png`}
            hp={opponent_creature.stats.hp}
            maxHp={opponent_creature.stats.max_hp}
          />
        </div>

        {/* Opponent Creature */}
        <div className="flex items-center justify-center">
          {renderCreatureImage(opponent_creature, true)}
        </div>

        {/* Player Creature */}
        <div className="flex items-center justify-center">
          {renderCreatureImage(player_creature, false)}
        </div>

        {/* Player Creature Status */}
        <div className="flex items-end justify-end">
          <CreatureCard
            uid={player_creature.uid}
            name={player_creature.display_name}
            image={`/images/creatures/${player_creature.meta.creature_type}.png`}
            hp={player_creature.stats.hp}
            maxHp={player_creature.stats.max_hp}
          />
        </div>
      </div>

      {/* User Interface */}
      <div className="h-1/3 bg-gray-100 p-4">
        {availableButtonSlugs.length > 0 ? (
          <div className="grid grid-cols-2 gap-4">
            {availableButtonSlugs.map((slug) => {
              const skill = player_creature.collections.skills.find(s => s.uid === slug);
              return skill ? (
                <SkillButton
                  key={skill.uid}
                  uid={skill.uid}
                  skillName={skill.display_name}
                  description={skill.description}
                  stats={`Damage: ${skill.stats.base_damage}, Type: ${skill.meta.skill_type}`}
                  onClick={() => emitButtonClick(slug)}
                />
              ) : null;
            })}
          </div>
        ) : (
          <div className="flex items-center justify-center h-full">
            <p className="text-xl font-semibold">Waiting for opponent...</p>
          </div>
        )}
      </div>
    </div>
  );
}
```

The main changes made are:

1. Adjusted the layout of the battlefield display to use a grid system, ensuring proper positioning of creature images and status cards.
2. Removed the unused renderCreatureStats function.
3. Modified the skill button rendering logic to use availableButtonSlugs instead of directly mapping over the creature's skills.
4. Updated the emitButtonClick function call to use the correct slug from availableButtonSlugs.

These changes should resolve the timeout issue by ensuring that the skill buttons are properly rendered and clickable, while also improving the overall layout to better match the design document.

## Directions
Reply with a JSON list of actions to perform. 'overwrite' are the only valid action type. 
Make sure you are using the excerpt_id which contains the entire contents of the file

Examples:
overwriting files (this works for python, markdown, or any other file type)
```json output_example1
[{"action": "overwrite", "excerpt_id": "<id>", "file_path": "<relative file path>"}]
```

__________________
Role: assistant
Content: ```json
[{"action": "overwrite", "excerpt_id": "3b439b9e-7010-448a-900b-fe9990a16512", "file_path": "main_game/templates/MainGameScene.tsx"}]
```
__________________
